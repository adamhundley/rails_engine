  [1m[36mActiveRecord::SchemaMigration Load (1.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (4.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (3.0ms)[0m  select table_name from information_schema.views where table_schema = 'rails_engine_test'
  [1m[36m (24.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:45:55.652536"], ["updated_at", "2016-04-14 02:45:55.652536"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:45:55.660823"], ["updated_at", "2016-04-14 02:45:55.660823"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:45:55.663711"], ["updated_at", "2016-04-14 02:45:55.663711"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:45:55.674101"], ["updated_at", "2016-04-14 02:45:55.674101"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:45:55.676751"], ["updated_at", "2016-04-14 02:45:55.676751"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:45:55.678629"], ["updated_at", "2016-04-14 02:45:55.678629"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:45:55.690664"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:45:55.694095"], ["updated_at", "2016-04-14 02:45:55.694095"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:45:55.697434"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:45:55.699715"], ["updated_at", "2016-04-14 02:45:55.699715"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:45:55.701947"], ["updated_at", "2016-04-14 02:45:55.701947"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:45:55.704359"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:45:55.727590"], ["updated_at", "2016-04-14 02:45:55.727590"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:45:55.730916"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:45:55.738391"], ["updated_at", "2016-04-14 02:45:55.738391"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:45:55.741230"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:45:55.744435"], ["updated_at", "2016-04-14 02:45:55.744435"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:45:55.746661"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:45:55.749458"], ["updated_at", "2016-04-14 02:45:55.749458"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:45:55.751420"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:45:55.754339"], ["updated_at", "2016-04-14 02:45:55.754339"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:45:55.756315"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:45:55.759199"], ["updated_at", "2016-04-14 02:45:55.759199"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:45:55.761372"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:45:55.764540"], ["updated_at", "2016-04-14 02:45:55.764540"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:45:55.767019"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:45:55.769941"], ["updated_at", "2016-04-14 02:45:55.769941"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:45:55.771807"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:45:55.780182"], ["updated_at", "2016-04-14 02:45:55.780182"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:45:55.782280"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:45:55.793659"], ["updated_at", "2016-04-14 02:45:55.793659"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:45:55.796307"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:45:55.800246"], ["updated_at", "2016-04-14 02:45:55.800246"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:45:55.802243"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:45:55.805610"], ["updated_at", "2016-04-14 02:45:55.805610"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:45:55.807814"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:45:55.810395"], ["updated_at", "2016-04-14 02:45:55.810395"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:45:55.812756"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:45:55.815606"], ["updated_at", "2016-04-14 02:45:55.815606"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:45:55.818256"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:45:55.820841"], ["updated_at", "2016-04-14 02:45:55.820841"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:45:55.823024"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:45:55.829964"], ["updated_at", "2016-04-14 02:45:55.829964"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:45:55.832696"], ["updated_at", "2016-04-14 02:45:55.832696"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:45:55.834897"], ["updated_at", "2016-04-14 02:45:55.834897"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:45:55.837999"], ["id", 1]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:45:55.841804"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:45:55.845098"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:45:55.847472"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:45:55.849716"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:45:55.852951"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:45:55 -0600
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (20.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:45:55.906432"], ["updated_at", "2016-04-14 02:45:55.906432"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:45:55.912057"], ["updated_at", "2016-04-14 02:45:55.912057"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:45:55.917005"], ["updated_at", "2016-04-14 02:45:55.917005"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:45:55.921544"], ["updated_at", "2016-04-14 02:45:55.921544"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:45:55.926697"], ["updated_at", "2016-04-14 02:45:55.926697"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:45:55.931076"], ["updated_at", "2016-04-14 02:45:55.931076"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:45:55.936432"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:45:55.942856"], ["updated_at", "2016-04-14 02:45:55.942856"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:45:55.947250"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:45:55.951400"], ["updated_at", "2016-04-14 02:45:55.951400"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:45:55.956535"], ["updated_at", "2016-04-14 02:45:55.956535"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:45:55.964176"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:45:55.973072"], ["updated_at", "2016-04-14 02:45:55.973072"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:45:55.979047"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:45:55.982674"], ["updated_at", "2016-04-14 02:45:55.982674"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:45:55.985344"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:45:55.989024"], ["updated_at", "2016-04-14 02:45:55.989024"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:45:55.991734"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:45:55.994909"], ["updated_at", "2016-04-14 02:45:55.994909"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:45:55.997827"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:45:56.002370"], ["updated_at", "2016-04-14 02:45:56.002370"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:45:56.005363"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:45:56.009570"], ["updated_at", "2016-04-14 02:45:56.009570"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:45:56.012741"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:45:56.016823"], ["updated_at", "2016-04-14 02:45:56.016823"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:45:56.019576"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:45:56.024046"], ["updated_at", "2016-04-14 02:45:56.024046"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:45:56.026785"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:45:56.030130"], ["updated_at", "2016-04-14 02:45:56.030130"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:45:56.032427"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:45:56.036021"], ["updated_at", "2016-04-14 02:45:56.036021"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:45:56.038833"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:45:56.043196"], ["updated_at", "2016-04-14 02:45:56.043196"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:45:56.045556"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:45:56.049409"], ["updated_at", "2016-04-14 02:45:56.049409"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:45:56.052243"], ["id", 3]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:45:56.055371"], ["updated_at", "2016-04-14 02:45:56.055371"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:45:56.057712"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:45:56.060790"], ["updated_at", "2016-04-14 02:45:56.060790"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:45:56.062876"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:45:56.066646"], ["updated_at", "2016-04-14 02:45:56.066646"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:45:56.069307"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:45:56.072109"], ["updated_at", "2016-04-14 02:45:56.072109"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:45:56.075951"], ["updated_at", "2016-04-14 02:45:56.075951"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:45:56.078351"], ["updated_at", "2016-04-14 02:45:56.078351"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:45:56.081177"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:45:56.085246"], ["id", 2]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:45:56.088818"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:45:56.092971"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:45:56.096116"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:45:56.099944"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:45:56 -0600
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (19.6ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:45:56.138824"], ["updated_at", "2016-04-14 02:45:56.138824"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:45:56.146324"], ["updated_at", "2016-04-14 02:45:56.146324"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:45:56.152693"], ["updated_at", "2016-04-14 02:45:56.152693"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:45:56.157713"], ["updated_at", "2016-04-14 02:45:56.157713"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:45:56.162727"], ["updated_at", "2016-04-14 02:45:56.162727"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:45:56.166990"], ["updated_at", "2016-04-14 02:45:56.166990"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:45:56.173207"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (15.1ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:45:56.180086"], ["updated_at", "2016-04-14 02:45:56.180086"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:45:56.199510"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:45:56.202417"], ["updated_at", "2016-04-14 02:45:56.202417"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:45:56.204919"], ["updated_at", "2016-04-14 02:45:56.204919"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:45:56.207838"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:45:56.210833"], ["updated_at", "2016-04-14 02:45:56.210833"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:45:56.213587"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:45:56.216665"], ["updated_at", "2016-04-14 02:45:56.216665"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:45:56.218633"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:45:56.221605"], ["updated_at", "2016-04-14 02:45:56.221605"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:45:56.223805"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:45:56.226876"], ["updated_at", "2016-04-14 02:45:56.226876"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:45:56.228986"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:45:56.232480"], ["updated_at", "2016-04-14 02:45:56.232480"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:45:56.234497"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:45:56.237398"], ["updated_at", "2016-04-14 02:45:56.237398"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:45:56.239442"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:45:56.243219"], ["updated_at", "2016-04-14 02:45:56.243219"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:45:56.245460"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:45:56.248587"], ["updated_at", "2016-04-14 02:45:56.248587"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:45:56.250556"], ["id", 8]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:45:56.253978"], ["updated_at", "2016-04-14 02:45:56.253978"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:45:56.256185"], ["id", 9]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:45:56.259198"], ["updated_at", "2016-04-14 02:45:56.259198"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:45:56.261542"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:45:56.264401"], ["updated_at", "2016-04-14 02:45:56.264401"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:45:56.266233"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:45:56.268495"], ["updated_at", "2016-04-14 02:45:56.268495"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:45:56.270611"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:45:56.273457"], ["updated_at", "2016-04-14 02:45:56.273457"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:45:56.275337"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:45:56.278021"], ["updated_at", "2016-04-14 02:45:56.278021"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:45:56.279952"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:45:56.282662"], ["updated_at", "2016-04-14 02:45:56.282662"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:45:56.285150"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:45:56.287565"], ["updated_at", "2016-04-14 02:45:56.287565"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:45:56.290159"], ["updated_at", "2016-04-14 02:45:56.290159"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:45:56.292109"], ["updated_at", "2016-04-14 02:45:56.292109"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:45:56.294297"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:45:56.296569"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:45:56.299287"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:45:56.301316"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:45:56.303979"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:45:56.307104"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:45:56 -0600
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (20.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (2.0ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.7ms)[0m  select table_name from information_schema.views where table_schema = 'rails_engine_test'
  [1m[36m (17.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:46:46.943711"], ["updated_at", "2016-04-14 02:46:46.943711"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:46:46.949810"], ["updated_at", "2016-04-14 02:46:46.949810"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:46:46.952917"], ["updated_at", "2016-04-14 02:46:46.952917"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:46:46.963314"], ["updated_at", "2016-04-14 02:46:46.963314"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:46:46.966073"], ["updated_at", "2016-04-14 02:46:46.966073"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:46:46.968267"], ["updated_at", "2016-04-14 02:46:46.968267"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:46:46.981059"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:46:46.984976"], ["updated_at", "2016-04-14 02:46:46.984976"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:46:46.987722"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:46:46.989932"], ["updated_at", "2016-04-14 02:46:46.989932"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:46:46.992305"], ["updated_at", "2016-04-14 02:46:46.992305"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:46:46.994744"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:46:47.019852"], ["updated_at", "2016-04-14 02:46:47.019852"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:46:47.022957"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:46:47.030169"], ["updated_at", "2016-04-14 02:46:47.030169"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:46:47.032941"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:46:47.037260"], ["updated_at", "2016-04-14 02:46:47.037260"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:46:47.039439"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:46:47.042140"], ["updated_at", "2016-04-14 02:46:47.042140"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:46:47.044093"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:46:47.046820"], ["updated_at", "2016-04-14 02:46:47.046820"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:46:47.048682"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:46:47.052312"], ["updated_at", "2016-04-14 02:46:47.052312"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:46:47.054354"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:46:47.057223"], ["updated_at", "2016-04-14 02:46:47.057223"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:46:47.059959"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:46:47.062547"], ["updated_at", "2016-04-14 02:46:47.062547"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:46:47.064326"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:46:47.073476"], ["updated_at", "2016-04-14 02:46:47.073476"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:46:47.075821"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:46:47.089695"], ["updated_at", "2016-04-14 02:46:47.089695"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:46:47.092642"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:46:47.096479"], ["updated_at", "2016-04-14 02:46:47.096479"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:46:47.098322"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:46:47.101224"], ["updated_at", "2016-04-14 02:46:47.101224"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:46:47.104035"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:46:47.107690"], ["updated_at", "2016-04-14 02:46:47.107690"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:46:47.112138"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:46:47.115859"], ["updated_at", "2016-04-14 02:46:47.115859"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:46:47.118110"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:46:47.121267"], ["updated_at", "2016-04-14 02:46:47.121267"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:46:47.123294"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:46:47.129886"], ["updated_at", "2016-04-14 02:46:47.129886"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:46:47.132731"], ["updated_at", "2016-04-14 02:46:47.132731"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:46:47.134935"], ["updated_at", "2016-04-14 02:46:47.134935"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:46:47.139242"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:46:47.144023"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:46:47.147747"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:46:47.150131"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:46:47.152355"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:46:47.155412"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:46:47 -0600
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (22.0ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:46:47.213928"], ["updated_at", "2016-04-14 02:46:47.213928"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:46:47.220272"], ["updated_at", "2016-04-14 02:46:47.220272"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:46:47.226019"], ["updated_at", "2016-04-14 02:46:47.226019"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:46:47.231351"], ["updated_at", "2016-04-14 02:46:47.231351"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:46:47.236624"], ["updated_at", "2016-04-14 02:46:47.236624"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:46:47.241834"], ["updated_at", "2016-04-14 02:46:47.241834"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:46:47.247642"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:46:47.253436"], ["updated_at", "2016-04-14 02:46:47.253436"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:46:47.260360"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:46:47.268038"], ["updated_at", "2016-04-14 02:46:47.268038"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:46:47.281047"], ["updated_at", "2016-04-14 02:46:47.281047"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:46:47.285549"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:46:47.289541"], ["updated_at", "2016-04-14 02:46:47.289541"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:46:47.292920"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:46:47.296414"], ["updated_at", "2016-04-14 02:46:47.296414"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:46:47.298664"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:46:47.302400"], ["updated_at", "2016-04-14 02:46:47.302400"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:46:47.306354"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:46:47.311103"], ["updated_at", "2016-04-14 02:46:47.311103"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:46:47.315026"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:46:47.319388"], ["updated_at", "2016-04-14 02:46:47.319388"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:46:47.321620"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:46:47.325541"], ["updated_at", "2016-04-14 02:46:47.325541"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:46:47.327675"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:46:47.332422"], ["updated_at", "2016-04-14 02:46:47.332422"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:46:47.334799"], ["id", 7]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:46:47.340836"], ["updated_at", "2016-04-14 02:46:47.340836"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:46:47.343244"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:46:47.346865"], ["updated_at", "2016-04-14 02:46:47.346865"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:46:47.349290"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:46:47.352658"], ["updated_at", "2016-04-14 02:46:47.352658"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:46:47.355432"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:46:47.358934"], ["updated_at", "2016-04-14 02:46:47.358934"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:46:47.360994"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:46:47.364763"], ["updated_at", "2016-04-14 02:46:47.364763"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:46:47.367303"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:46:47.370446"], ["updated_at", "2016-04-14 02:46:47.370446"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:46:47.372757"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:46:47.375802"], ["updated_at", "2016-04-14 02:46:47.375802"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:46:47.377913"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:46:47.382117"], ["updated_at", "2016-04-14 02:46:47.382117"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:46:47.384824"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:46:47.387403"], ["updated_at", "2016-04-14 02:46:47.387403"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:46:47.391393"], ["updated_at", "2016-04-14 02:46:47.391393"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:46:47.394605"], ["updated_at", "2016-04-14 02:46:47.394605"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:46:47.398103"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:46:47.400828"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:46:47.404189"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:46:47.407233"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:46:47.409695"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:46:47.412722"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:46:47 -0600
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (21.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:46:47.457502"], ["updated_at", "2016-04-14 02:46:47.457502"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:46:47.463671"], ["updated_at", "2016-04-14 02:46:47.463671"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:46:47.468771"], ["updated_at", "2016-04-14 02:46:47.468771"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:46:47.490107"], ["updated_at", "2016-04-14 02:46:47.490107"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:46:47.495136"], ["updated_at", "2016-04-14 02:46:47.495136"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:46:47.499013"], ["updated_at", "2016-04-14 02:46:47.499013"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:46:47.503455"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:46:47.508717"], ["updated_at", "2016-04-14 02:46:47.508717"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:46:47.513421"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:46:47.516684"], ["updated_at", "2016-04-14 02:46:47.516684"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:46:47.519208"], ["updated_at", "2016-04-14 02:46:47.519208"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:46:47.521723"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:46:47.525022"], ["updated_at", "2016-04-14 02:46:47.525022"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:46:47.527512"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:46:47.530331"], ["updated_at", "2016-04-14 02:46:47.530331"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:46:47.532176"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:46:47.535063"], ["updated_at", "2016-04-14 02:46:47.535063"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:46:47.537123"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:46:47.540455"], ["updated_at", "2016-04-14 02:46:47.540455"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:46:47.543611"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:46:47.546654"], ["updated_at", "2016-04-14 02:46:47.546654"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:46:47.548432"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:46:47.551156"], ["updated_at", "2016-04-14 02:46:47.551156"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:46:47.553101"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:46:47.556036"], ["updated_at", "2016-04-14 02:46:47.556036"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:46:47.557960"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:46:47.561027"], ["updated_at", "2016-04-14 02:46:47.561027"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:46:47.563124"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:46:47.565265"], ["updated_at", "2016-04-14 02:46:47.565265"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:46:47.567066"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:46:47.570265"], ["updated_at", "2016-04-14 02:46:47.570265"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:46:47.573103"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:46:47.576583"], ["updated_at", "2016-04-14 02:46:47.576583"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:46:47.578493"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:46:47.580858"], ["updated_at", "2016-04-14 02:46:47.580858"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:46:47.582764"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:46:47.585402"], ["updated_at", "2016-04-14 02:46:47.585402"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:46:47.587483"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:46:47.590469"], ["updated_at", "2016-04-14 02:46:47.590469"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:46:47.592280"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:46:47.596817"], ["updated_at", "2016-04-14 02:46:47.596817"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:46:47.599334"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:46:47.602111"], ["updated_at", "2016-04-14 02:46:47.602111"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:46:47.604755"], ["updated_at", "2016-04-14 02:46:47.604755"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:46:47.607309"], ["updated_at", "2016-04-14 02:46:47.607309"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:46:47.610676"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:46:47.613790"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:46:47.616719"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:46:47.619013"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:46:47.621145"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:46:47.623374"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:46:47 -0600
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (21.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (2.1ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  select table_name from information_schema.views where table_schema = 'rails_engine_test'
  [1m[36m (18.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:48:34.708622"], ["updated_at", "2016-04-14 02:48:34.708622"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:48:34.715209"], ["updated_at", "2016-04-14 02:48:34.715209"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:48:34.718546"], ["updated_at", "2016-04-14 02:48:34.718546"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:48:34.728460"], ["updated_at", "2016-04-14 02:48:34.728460"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:48:34.731422"], ["updated_at", "2016-04-14 02:48:34.731422"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:48:34.733459"], ["updated_at", "2016-04-14 02:48:34.733459"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:48:34.745560"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:48:34.749269"], ["updated_at", "2016-04-14 02:48:34.749269"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:48:34.751998"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:48:34.754215"], ["updated_at", "2016-04-14 02:48:34.754215"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:48:34.756766"], ["updated_at", "2016-04-14 02:48:34.756766"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:48:34.759535"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:48:34.783173"], ["updated_at", "2016-04-14 02:48:34.783173"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:48:34.786207"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:48:34.794636"], ["updated_at", "2016-04-14 02:48:34.794636"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:48:34.797065"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:48:34.800876"], ["updated_at", "2016-04-14 02:48:34.800876"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:48:34.803271"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:48:34.806306"], ["updated_at", "2016-04-14 02:48:34.806306"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:48:34.808769"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:48:34.812635"], ["updated_at", "2016-04-14 02:48:34.812635"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:48:34.815352"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:48:34.818557"], ["updated_at", "2016-04-14 02:48:34.818557"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:48:34.821264"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:48:34.824707"], ["updated_at", "2016-04-14 02:48:34.824707"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:48:34.827105"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:48:34.830291"], ["updated_at", "2016-04-14 02:48:34.830291"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:48:34.832659"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:48:34.840508"], ["updated_at", "2016-04-14 02:48:34.840508"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:48:34.842527"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:48:34.854501"], ["updated_at", "2016-04-14 02:48:34.854501"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:48:34.857531"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:48:34.860433"], ["updated_at", "2016-04-14 02:48:34.860433"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:48:34.862556"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:48:34.865439"], ["updated_at", "2016-04-14 02:48:34.865439"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:48:34.867414"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:48:34.870100"], ["updated_at", "2016-04-14 02:48:34.870100"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:48:34.872582"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:48:34.875228"], ["updated_at", "2016-04-14 02:48:34.875228"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:48:34.877109"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:48:34.880516"], ["updated_at", "2016-04-14 02:48:34.880516"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:48:34.882866"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:48:34.889871"], ["updated_at", "2016-04-14 02:48:34.889871"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:48:34.892672"], ["updated_at", "2016-04-14 02:48:34.892672"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:48:34.894919"], ["updated_at", "2016-04-14 02:48:34.894919"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:48:34.898836"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:48:34.901716"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:48:34.904703"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:48:34.907440"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:48:34.909709"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:48:34.912212"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:48:34 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (1.0ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (2.1ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'rails_engine_test'
  [1m[36m (17.1ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:49:15.479293"], ["updated_at", "2016-04-14 02:49:15.479293"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:49:15.486380"], ["updated_at", "2016-04-14 02:49:15.486380"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:49:15.489044"], ["updated_at", "2016-04-14 02:49:15.489044"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:49:15.499080"], ["updated_at", "2016-04-14 02:49:15.499080"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:49:15.502928"], ["updated_at", "2016-04-14 02:49:15.502928"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:49:15.504998"], ["updated_at", "2016-04-14 02:49:15.504998"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:49:15.517517"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:49:15.521204"], ["updated_at", "2016-04-14 02:49:15.521204"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:49:15.523814"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:49:15.525964"], ["updated_at", "2016-04-14 02:49:15.525964"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:49:15.528104"], ["updated_at", "2016-04-14 02:49:15.528104"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:49:15.530477"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:49:15.551108"], ["updated_at", "2016-04-14 02:49:15.551108"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:49:15.554337"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:49:15.561982"], ["updated_at", "2016-04-14 02:49:15.561982"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:49:15.564349"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:49:15.567273"], ["updated_at", "2016-04-14 02:49:15.567273"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:49:15.569663"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:49:15.572481"], ["updated_at", "2016-04-14 02:49:15.572481"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:49:15.574445"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:49:15.577340"], ["updated_at", "2016-04-14 02:49:15.577340"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:49:15.579326"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:49:15.582817"], ["updated_at", "2016-04-14 02:49:15.582817"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:49:15.585057"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:49:15.588414"], ["updated_at", "2016-04-14 02:49:15.588414"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:49:15.590535"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:49:15.593434"], ["updated_at", "2016-04-14 02:49:15.593434"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:49:15.601323"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:49:15.603931"], ["updated_at", "2016-04-14 02:49:15.603931"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:49:15.605884"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:49:15.619195"], ["updated_at", "2016-04-14 02:49:15.619195"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:49:15.622330"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:49:15.625170"], ["updated_at", "2016-04-14 02:49:15.625170"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:49:15.627917"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:49:15.631928"], ["updated_at", "2016-04-14 02:49:15.631928"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:49:15.634788"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:49:15.637717"], ["updated_at", "2016-04-14 02:49:15.637717"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:49:15.639778"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:49:15.642962"], ["updated_at", "2016-04-14 02:49:15.642962"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:49:15.644999"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:49:15.647781"], ["updated_at", "2016-04-14 02:49:15.647781"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:49:15.650166"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:49:15.656608"], ["updated_at", "2016-04-14 02:49:15.656608"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:49:15.659196"], ["updated_at", "2016-04-14 02:49:15.659196"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:49:15.661189"], ["updated_at", "2016-04-14 02:49:15.661189"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:49:15.664495"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:49:15.667284"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:49:15.670652"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:49:15.673389"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:49:15.675729"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:49:15.678351"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:49:15 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (0.6ms)[0m  SELECT "merchants".* FROM "merchants" INNER JOIN "invoices" ON "merchants"."id" = "invoices"."merchant_id" WHERE "invoices"."customer_id" = $1  [["customer_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.13ms)
Completed 200 OK in 136247ms (Views: 9.0ms | ActiveRecord: 1.0ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (19.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:51:32.004363"], ["updated_at", "2016-04-14 02:51:32.004363"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:51:32.007906"], ["updated_at", "2016-04-14 02:51:32.007906"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:51:32.010271"], ["updated_at", "2016-04-14 02:51:32.010271"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:32.012806"], ["updated_at", "2016-04-14 02:51:32.012806"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:32.016862"], ["updated_at", "2016-04-14 02:51:32.016862"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:32.019840"], ["updated_at", "2016-04-14 02:51:32.019840"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:51:32.024286"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:32.029297"], ["updated_at", "2016-04-14 02:51:32.029297"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:51:32.033509"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:51:32.037296"], ["updated_at", "2016-04-14 02:51:32.037296"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:32.041103"], ["updated_at", "2016-04-14 02:51:32.041103"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:51:32.046571"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:32.051697"], ["updated_at", "2016-04-14 02:51:32.051697"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:32.056484"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:32.062204"], ["updated_at", "2016-04-14 02:51:32.062204"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:32.066535"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:32.072523"], ["updated_at", "2016-04-14 02:51:32.072523"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:32.076547"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:51:32.080644"], ["updated_at", "2016-04-14 02:51:32.080644"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:32.082832"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:32.086025"], ["updated_at", "2016-04-14 02:51:32.086025"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:51:32.088115"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:51:32.091214"], ["updated_at", "2016-04-14 02:51:32.091214"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:51:32.094170"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:32.098314"], ["updated_at", "2016-04-14 02:51:32.098314"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:51:32.101383"], ["id", 7]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:32.105064"], ["updated_at", "2016-04-14 02:51:32.105064"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:32.107828"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:32.111125"], ["updated_at", "2016-04-14 02:51:32.111125"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:32.113904"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:32.117049"], ["updated_at", "2016-04-14 02:51:32.117049"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:32.119837"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:32.122954"], ["updated_at", "2016-04-14 02:51:32.122954"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:32.124605"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:32.126701"], ["updated_at", "2016-04-14 02:51:32.126701"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:51:32.128354"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:32.130555"], ["updated_at", "2016-04-14 02:51:32.130555"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:51:32.132214"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:51:32.134387"], ["updated_at", "2016-04-14 02:51:32.134387"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:51:32.136337"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:32.138862"], ["updated_at", "2016-04-14 02:51:32.138862"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:32.140578"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:51:32.143028"], ["updated_at", "2016-04-14 02:51:32.143028"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:51:32.145580"], ["updated_at", "2016-04-14 02:51:32.145580"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:51:32.148021"], ["updated_at", "2016-04-14 02:51:32.148021"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:51:32.150726"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:51:32.153271"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:32.155805"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:32.157951"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:32.160060"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:51:32.162490"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:51:32 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (2.1ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.7ms)[0m  select table_name from information_schema.views where table_schema = 'rails_engine_test'
  [1m[36m (18.3ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:51:43.202006"], ["updated_at", "2016-04-14 02:51:43.202006"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:51:43.208652"], ["updated_at", "2016-04-14 02:51:43.208652"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:51:43.210985"], ["updated_at", "2016-04-14 02:51:43.210985"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:43.222416"], ["updated_at", "2016-04-14 02:51:43.222416"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:43.225293"], ["updated_at", "2016-04-14 02:51:43.225293"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:43.227287"], ["updated_at", "2016-04-14 02:51:43.227287"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:51:43.239670"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:43.243181"], ["updated_at", "2016-04-14 02:51:43.243181"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:51:43.246010"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:51:43.248161"], ["updated_at", "2016-04-14 02:51:43.248161"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:43.250305"], ["updated_at", "2016-04-14 02:51:43.250305"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:51:43.252687"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:43.274174"], ["updated_at", "2016-04-14 02:51:43.274174"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:43.277835"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:43.284935"], ["updated_at", "2016-04-14 02:51:43.284935"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:43.287473"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:43.290629"], ["updated_at", "2016-04-14 02:51:43.290629"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:43.293354"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:51:43.296166"], ["updated_at", "2016-04-14 02:51:43.296166"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:43.298077"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:43.301413"], ["updated_at", "2016-04-14 02:51:43.301413"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:51:43.303510"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:51:43.306507"], ["updated_at", "2016-04-14 02:51:43.306507"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:51:43.308659"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:43.311998"], ["updated_at", "2016-04-14 02:51:43.311998"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:51:43.314300"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:43.317539"], ["updated_at", "2016-04-14 02:51:43.317539"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:43.319970"], ["id", 8]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:43.330183"], ["updated_at", "2016-04-14 02:51:43.330183"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:43.332431"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:43.344764"], ["updated_at", "2016-04-14 02:51:43.344764"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:43.347417"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:43.350442"], ["updated_at", "2016-04-14 02:51:43.350442"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:43.352343"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:43.354872"], ["updated_at", "2016-04-14 02:51:43.354872"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:51:43.356730"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:43.359428"], ["updated_at", "2016-04-14 02:51:43.359428"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:51:43.361648"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:51:43.364356"], ["updated_at", "2016-04-14 02:51:43.364356"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:51:43.366327"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:43.368739"], ["updated_at", "2016-04-14 02:51:43.368739"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:43.370492"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:51:43.377368"], ["updated_at", "2016-04-14 02:51:43.377368"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:51:43.380010"], ["updated_at", "2016-04-14 02:51:43.380010"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:51:43.382059"], ["updated_at", "2016-04-14 02:51:43.382059"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:51:43.385057"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:51:43.388217"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:43.391014"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:43.393259"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:43.395488"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:51:43.398022"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:51:43 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (2.2ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'rails_engine_test'
  [1m[36m (13.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:51:58.307007"], ["updated_at", "2016-04-14 02:51:58.307007"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:51:58.321120"], ["updated_at", "2016-04-14 02:51:58.321120"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:51:58.327376"], ["updated_at", "2016-04-14 02:51:58.327376"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:58.343454"], ["updated_at", "2016-04-14 02:51:58.343454"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:58.347684"], ["updated_at", "2016-04-14 02:51:58.347684"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:58.351194"], ["updated_at", "2016-04-14 02:51:58.351194"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:51:58.370345"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:58.375186"], ["updated_at", "2016-04-14 02:51:58.375186"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:51:58.378603"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:51:58.381324"], ["updated_at", "2016-04-14 02:51:58.381324"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:58.384523"], ["updated_at", "2016-04-14 02:51:58.384523"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:51:58.388003"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:58.421399"], ["updated_at", "2016-04-14 02:51:58.421399"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:58.425732"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:58.432421"], ["updated_at", "2016-04-14 02:51:58.432421"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:58.434532"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:58.437563"], ["updated_at", "2016-04-14 02:51:58.437563"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:58.439937"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:51:58.442464"], ["updated_at", "2016-04-14 02:51:58.442464"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:58.444381"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:58.447682"], ["updated_at", "2016-04-14 02:51:58.447682"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:51:58.449983"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:51:58.452968"], ["updated_at", "2016-04-14 02:51:58.452968"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:51:58.456068"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:58.460023"], ["updated_at", "2016-04-14 02:51:58.460023"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:51:58.462765"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:58.465774"], ["updated_at", "2016-04-14 02:51:58.465774"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:58.467678"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:58.470138"], ["updated_at", "2016-04-14 02:51:58.470138"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:58.472255"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:58.482916"], ["updated_at", "2016-04-14 02:51:58.482916"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:58.485586"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:58.488762"], ["updated_at", "2016-04-14 02:51:58.488762"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:58.490634"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:58.493002"], ["updated_at", "2016-04-14 02:51:58.493002"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:51:58.494776"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:58.497734"], ["updated_at", "2016-04-14 02:51:58.497734"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:51:58.499935"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:51:58.502748"], ["updated_at", "2016-04-14 02:51:58.502748"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:51:58.504783"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:58.507230"], ["updated_at", "2016-04-14 02:51:58.507230"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:58.509055"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:51:58.515158"], ["updated_at", "2016-04-14 02:51:58.515158"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:51:58.517653"], ["updated_at", "2016-04-14 02:51:58.517653"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:51:58.519659"], ["updated_at", "2016-04-14 02:51:58.519659"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:51:58.522819"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:51:58.525755"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:58.528596"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:58.530978"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:58.533074"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:51:58.535423"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue" for 127.0.0.1 at 2016-04-13 20:51:58 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (2.3ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (1.38ms)
Completed 200 OK in 37ms (Views: 7.0ms | ActiveRecord: 2.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (21.1ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:51:58.641893"], ["updated_at", "2016-04-14 02:51:58.641893"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:51:58.647530"], ["updated_at", "2016-04-14 02:51:58.647530"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:51:58.651916"], ["updated_at", "2016-04-14 02:51:58.651916"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:58.656603"], ["updated_at", "2016-04-14 02:51:58.656603"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:58.661615"], ["updated_at", "2016-04-14 02:51:58.661615"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:58.666201"], ["updated_at", "2016-04-14 02:51:58.666201"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:51:58.671427"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:58.677078"], ["updated_at", "2016-04-14 02:51:58.677078"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:51:58.683372"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:51:58.688327"], ["updated_at", "2016-04-14 02:51:58.688327"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:58.693557"], ["updated_at", "2016-04-14 02:51:58.693557"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:51:58.698691"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:58.704689"], ["updated_at", "2016-04-14 02:51:58.704689"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:58.709971"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:58.715287"], ["updated_at", "2016-04-14 02:51:58.715287"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:58.719929"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:58.723835"], ["updated_at", "2016-04-14 02:51:58.723835"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:58.726049"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:51:58.728972"], ["updated_at", "2016-04-14 02:51:58.728972"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:58.731232"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:58.734371"], ["updated_at", "2016-04-14 02:51:58.734371"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:51:58.736522"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:51:58.739259"], ["updated_at", "2016-04-14 02:51:58.739259"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:51:58.741420"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:58.744717"], ["updated_at", "2016-04-14 02:51:58.744717"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:51:58.746710"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:58.749247"], ["updated_at", "2016-04-14 02:51:58.749247"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:58.751063"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:58.753624"], ["updated_at", "2016-04-14 02:51:58.753624"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:58.756038"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:58.758772"], ["updated_at", "2016-04-14 02:51:58.758772"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:58.761227"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:58.763794"], ["updated_at", "2016-04-14 02:51:58.763794"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:58.765558"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:58.767830"], ["updated_at", "2016-04-14 02:51:58.767830"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:51:58.769902"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:58.772261"], ["updated_at", "2016-04-14 02:51:58.772261"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:51:58.774072"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:51:58.776390"], ["updated_at", "2016-04-14 02:51:58.776390"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:51:58.778336"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:58.780630"], ["updated_at", "2016-04-14 02:51:58.780630"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:58.782700"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:51:58.784871"], ["updated_at", "2016-04-14 02:51:58.784871"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:51:58.787527"], ["updated_at", "2016-04-14 02:51:58.787527"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:51:58.789539"], ["updated_at", "2016-04-14 02:51:58.789539"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:51:58.791914"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:51:58.794503"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:58.796906"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:58.798946"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:58.800925"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:51:58.803766"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue" for 127.0.0.1 at 2016-04-13 20:51:58 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.13ms)
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 1.3ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (20.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:51:58.847405"], ["updated_at", "2016-04-14 02:51:58.847405"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:51:58.853296"], ["updated_at", "2016-04-14 02:51:58.853296"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:51:58.857921"], ["updated_at", "2016-04-14 02:51:58.857921"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:58.862026"], ["updated_at", "2016-04-14 02:51:58.862026"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:58.866664"], ["updated_at", "2016-04-14 02:51:58.866664"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:58.870830"], ["updated_at", "2016-04-14 02:51:58.870830"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:51:58.875802"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:58.881311"], ["updated_at", "2016-04-14 02:51:58.881311"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:51:58.887070"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:51:58.891451"], ["updated_at", "2016-04-14 02:51:58.891451"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:58.895627"], ["updated_at", "2016-04-14 02:51:58.895627"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:51:58.900816"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:58.907918"], ["updated_at", "2016-04-14 02:51:58.907918"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:58.913502"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:58.919734"], ["updated_at", "2016-04-14 02:51:58.919734"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:58.924178"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:58.929856"], ["updated_at", "2016-04-14 02:51:58.929856"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:58.934155"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:51:58.940110"], ["updated_at", "2016-04-14 02:51:58.940110"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:58.945595"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:58.951598"], ["updated_at", "2016-04-14 02:51:58.951598"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:51:58.956073"], ["id", 5]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:51:58.962416"], ["updated_at", "2016-04-14 02:51:58.962416"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:51:58.965512"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:58.971583"], ["updated_at", "2016-04-14 02:51:58.971583"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:51:58.974795"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:58.978237"], ["updated_at", "2016-04-14 02:51:58.978237"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:58.980420"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:58.984101"], ["updated_at", "2016-04-14 02:51:58.984101"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:58.988503"], ["id", 9]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:58.993616"], ["updated_at", "2016-04-14 02:51:58.993616"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:58.997402"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.000981"], ["updated_at", "2016-04-14 02:51:59.000981"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:59.004402"], ["id", 2]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.008867"], ["updated_at", "2016-04-14 02:51:59.008867"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:51:59.012208"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.015313"], ["updated_at", "2016-04-14 02:51:59.015313"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:51:59.018327"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:51:59.022043"], ["updated_at", "2016-04-14 02:51:59.022043"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:51:59.024991"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.028965"], ["updated_at", "2016-04-14 02:51:59.028965"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:59.033622"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:51:59.035921"], ["updated_at", "2016-04-14 02:51:59.035921"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:51:59.038702"], ["updated_at", "2016-04-14 02:51:59.038702"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:51:59.040627"], ["updated_at", "2016-04-14 02:51:59.040627"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:51:59.043185"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:51:59.046957"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:59.051236"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:59.053958"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:59.056350"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:51:59.059696"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue" for 127.0.0.1 at 2016-04-13 20:51:59 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.4ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.18ms)
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 1.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (20.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:51:59.106615"], ["updated_at", "2016-04-14 02:51:59.106615"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:51:59.111938"], ["updated_at", "2016-04-14 02:51:59.111938"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:51:59.117053"], ["updated_at", "2016-04-14 02:51:59.117053"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:59.121468"], ["updated_at", "2016-04-14 02:51:59.121468"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:59.126118"], ["updated_at", "2016-04-14 02:51:59.126118"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:59.129967"], ["updated_at", "2016-04-14 02:51:59.129967"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:51:59.135843"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:59.143431"], ["updated_at", "2016-04-14 02:51:59.143431"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:51:59.149974"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:51:59.156252"], ["updated_at", "2016-04-14 02:51:59.156252"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:59.160805"], ["updated_at", "2016-04-14 02:51:59.160805"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:51:59.166584"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:59.173044"], ["updated_at", "2016-04-14 02:51:59.173044"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:59.178890"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:59.184934"], ["updated_at", "2016-04-14 02:51:59.184934"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:59.191548"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:59.198448"], ["updated_at", "2016-04-14 02:51:59.198448"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:59.202847"], ["id", 3]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:51:59.208143"], ["updated_at", "2016-04-14 02:51:59.208143"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:59.212967"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:59.219515"], ["updated_at", "2016-04-14 02:51:59.219515"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:51:59.225283"], ["id", 5]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:51:59.231934"], ["updated_at", "2016-04-14 02:51:59.231934"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:51:59.234690"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:59.240305"], ["updated_at", "2016-04-14 02:51:59.240305"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:51:59.244033"], ["id", 7]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:59.248630"], ["updated_at", "2016-04-14 02:51:59.248630"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:59.251145"], ["id", 8]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:59.254182"], ["updated_at", "2016-04-14 02:51:59.254182"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:59.257640"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.260977"], ["updated_at", "2016-04-14 02:51:59.260977"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:59.263317"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.266350"], ["updated_at", "2016-04-14 02:51:59.266350"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:59.268246"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.273078"], ["updated_at", "2016-04-14 02:51:59.273078"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:51:59.275775"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.278331"], ["updated_at", "2016-04-14 02:51:59.278331"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:51:59.280179"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:51:59.282758"], ["updated_at", "2016-04-14 02:51:59.282758"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:51:59.284500"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.287387"], ["updated_at", "2016-04-14 02:51:59.287387"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:59.289423"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:51:59.291872"], ["updated_at", "2016-04-14 02:51:59.291872"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:51:59.294191"], ["updated_at", "2016-04-14 02:51:59.294191"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:51:59.296008"], ["updated_at", "2016-04-14 02:51:59.296008"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:51:59.298925"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:51:59.301624"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:59.304228"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:59.306531"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:59.308671"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:51:59.310987"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue?date=2012-03-16%2011:55:05" for 127.0.0.1 at 2016-04-13 20:51:59 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"date"=>"2012-03-16 11:55:05", "merchant_id"=>"1"}
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 AND "invoices"."created_at" = $3  [["merchant_id", 1], ["result", "success"], ["created_at", "2012-03-16 11:55:05"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.14ms)
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (22.2ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:51:59.358818"], ["updated_at", "2016-04-14 02:51:59.358818"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:51:59.364295"], ["updated_at", "2016-04-14 02:51:59.364295"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:51:59.369048"], ["updated_at", "2016-04-14 02:51:59.369048"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:59.373628"], ["updated_at", "2016-04-14 02:51:59.373628"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:59.377977"], ["updated_at", "2016-04-14 02:51:59.377977"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:59.382106"], ["updated_at", "2016-04-14 02:51:59.382106"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:51:59.386827"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:59.392537"], ["updated_at", "2016-04-14 02:51:59.392537"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:51:59.398737"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:51:59.403399"], ["updated_at", "2016-04-14 02:51:59.403399"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:59.408048"], ["updated_at", "2016-04-14 02:51:59.408048"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:51:59.413483"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:59.420255"], ["updated_at", "2016-04-14 02:51:59.420255"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:59.426358"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:59.431961"], ["updated_at", "2016-04-14 02:51:59.431961"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:59.436340"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:59.442162"], ["updated_at", "2016-04-14 02:51:59.442162"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:59.446312"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:51:59.449127"], ["updated_at", "2016-04-14 02:51:59.449127"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:59.451130"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:59.454092"], ["updated_at", "2016-04-14 02:51:59.454092"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:51:59.456114"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:51:59.460833"], ["updated_at", "2016-04-14 02:51:59.460833"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:51:59.464917"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:59.470992"], ["updated_at", "2016-04-14 02:51:59.470992"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:51:59.474834"], ["id", 7]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:59.479537"], ["updated_at", "2016-04-14 02:51:59.479537"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:59.483186"], ["id", 8]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:59.487681"], ["updated_at", "2016-04-14 02:51:59.487681"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:59.491937"], ["id", 9]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.497240"], ["updated_at", "2016-04-14 02:51:59.497240"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:59.501988"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.506330"], ["updated_at", "2016-04-14 02:51:59.506330"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:59.509791"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.513268"], ["updated_at", "2016-04-14 02:51:59.513268"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:51:59.515750"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.519037"], ["updated_at", "2016-04-14 02:51:59.519037"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:51:59.522433"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:51:59.526184"], ["updated_at", "2016-04-14 02:51:59.526184"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:51:59.529260"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.533036"], ["updated_at", "2016-04-14 02:51:59.533036"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:59.535970"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:51:59.539283"], ["updated_at", "2016-04-14 02:51:59.539283"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:51:59.543326"], ["updated_at", "2016-04-14 02:51:59.543326"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:51:59.547651"], ["updated_at", "2016-04-14 02:51:59.547651"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:51:59.552182"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:51:59.555664"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:59.559245"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:59.562146"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:59.565154"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:51:59.568932"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue?date=2012-03-16%2011:55:05" for 127.0.0.1 at 2016-04-13 20:51:59 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"date"=>"2012-03-16 11:55:05", "merchant_id"=>"1"}
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.0ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 AND "invoices"."created_at" = $3  [["merchant_id", 1], ["result", "success"], ["created_at", "2012-03-16 11:55:05"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.19ms)
Completed 200 OK in 6ms (Views: 0.7ms | ActiveRecord: 1.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (23.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:51:59.619280"], ["updated_at", "2016-04-14 02:51:59.619280"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:51:59.625855"], ["updated_at", "2016-04-14 02:51:59.625855"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:51:59.630643"], ["updated_at", "2016-04-14 02:51:59.630643"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:59.635199"], ["updated_at", "2016-04-14 02:51:59.635199"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:59.639517"], ["updated_at", "2016-04-14 02:51:59.639517"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:59.644052"], ["updated_at", "2016-04-14 02:51:59.644052"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:51:59.649707"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:59.655158"], ["updated_at", "2016-04-14 02:51:59.655158"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:51:59.660567"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:51:59.665727"], ["updated_at", "2016-04-14 02:51:59.665727"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:59.670549"], ["updated_at", "2016-04-14 02:51:59.670549"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:51:59.676026"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:59.682635"], ["updated_at", "2016-04-14 02:51:59.682635"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:59.687497"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:59.692522"], ["updated_at", "2016-04-14 02:51:59.692522"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:59.698394"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:59.704347"], ["updated_at", "2016-04-14 02:51:59.704347"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:59.708790"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:51:59.714197"], ["updated_at", "2016-04-14 02:51:59.714197"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:59.718031"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:59.723170"], ["updated_at", "2016-04-14 02:51:59.723170"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:51:59.727319"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:51:59.732816"], ["updated_at", "2016-04-14 02:51:59.732816"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:51:59.736933"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:59.744118"], ["updated_at", "2016-04-14 02:51:59.744118"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:51:59.751137"], ["id", 7]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:51:59.769004"], ["updated_at", "2016-04-14 02:51:59.769004"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:59.789274"], ["id", 8]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:51:59.815990"], ["updated_at", "2016-04-14 02:51:59.815990"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:59.824697"], ["id", 9]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.831450"], ["updated_at", "2016-04-14 02:51:59.831450"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:51:59.838361"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.843862"], ["updated_at", "2016-04-14 02:51:59.843862"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:51:59.850814"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.855536"], ["updated_at", "2016-04-14 02:51:59.855536"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:51:59.859525"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.864592"], ["updated_at", "2016-04-14 02:51:59.864592"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:51:59.871044"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:51:59.879252"], ["updated_at", "2016-04-14 02:51:59.879252"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:51:59.883202"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:51:59.887964"], ["updated_at", "2016-04-14 02:51:59.887964"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:51:59.892038"], ["id", 6]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:51:59.896294"], ["updated_at", "2016-04-14 02:51:59.896294"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:51:59.899812"], ["updated_at", "2016-04-14 02:51:59.899812"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:51:59.902103"], ["updated_at", "2016-04-14 02:51:59.902103"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:51:59.904720"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:51:59.907631"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:59.911221"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:59.913817"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:51:59.916110"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:51:59.919122"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue?date=2012-03-16%2011:55:05" for 127.0.0.1 at 2016-04-13 20:51:59 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"date"=>"2012-03-16 11:55:05", "merchant_id"=>"1"}
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 AND "invoices"."created_at" = $3  [["merchant_id", 1], ["result", "success"], ["created_at", "2012-03-16 11:55:05"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.13ms)
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 1.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (21.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:51:59.964058"], ["updated_at", "2016-04-14 02:51:59.964058"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:51:59.969998"], ["updated_at", "2016-04-14 02:51:59.969998"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:51:59.974803"], ["updated_at", "2016-04-14 02:51:59.974803"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:59.978930"], ["updated_at", "2016-04-14 02:51:59.978930"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:59.982931"], ["updated_at", "2016-04-14 02:51:59.982931"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:51:59.986819"], ["updated_at", "2016-04-14 02:51:59.986819"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:51:59.991399"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:51:59.997210"], ["updated_at", "2016-04-14 02:51:59.997210"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:00.002713"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:00.008144"], ["updated_at", "2016-04-14 02:52:00.008144"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:00.014129"], ["updated_at", "2016-04-14 02:52:00.014129"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:00.020779"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.027410"], ["updated_at", "2016-04-14 02:52:00.027410"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:00.033315"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:00.039489"], ["updated_at", "2016-04-14 02:52:00.039489"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:00.044914"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.051744"], ["updated_at", "2016-04-14 02:52:00.051744"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:00.061799"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:00.064295"], ["updated_at", "2016-04-14 02:52:00.064295"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:00.066556"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.070676"], ["updated_at", "2016-04-14 02:52:00.070676"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:00.072815"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:00.076117"], ["updated_at", "2016-04-14 02:52:00.076117"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:00.079237"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:00.082398"], ["updated_at", "2016-04-14 02:52:00.082398"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:00.084621"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:00.087632"], ["updated_at", "2016-04-14 02:52:00.087632"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:00.089805"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.092686"], ["updated_at", "2016-04-14 02:52:00.092686"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:00.094845"], ["id", 9]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.097605"], ["updated_at", "2016-04-14 02:52:00.097605"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:00.101521"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.104688"], ["updated_at", "2016-04-14 02:52:00.104688"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:00.106980"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.109712"], ["updated_at", "2016-04-14 02:52:00.109712"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:00.113547"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.116526"], ["updated_at", "2016-04-14 02:52:00.116526"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:00.118635"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:00.121421"], ["updated_at", "2016-04-14 02:52:00.121421"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:00.124143"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.127246"], ["updated_at", "2016-04-14 02:52:00.127246"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:00.129961"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:00.132803"], ["updated_at", "2016-04-14 02:52:00.132803"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:00.136010"], ["updated_at", "2016-04-14 02:52:00.136010"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:00.138500"], ["updated_at", "2016-04-14 02:52:00.138500"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:00.141650"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:00.144250"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:00.147226"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:00.149858"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:00.152601"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:00.155591"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/favorite_customer" for 127.0.0.1 at 2016-04-13 20:52:00 -0600
Processing by Api::V1::Merchants::FavoriteCustomerController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCustomer Load (2.2ms)[0m  SELECT  customers.*, COUNT(transactions.id) AS transaction_count FROM "customers" INNER JOIN "invoices" "invoices_customers_join" ON "invoices_customers_join"."customer_id" = "customers"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_customers_join"."id" INNER JOIN "invoices" ON "customers"."id" = "invoices"."customer_id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 GROUP BY "customers"."id"  ORDER BY transaction_count DESC LIMIT 1  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.99ms)
Completed 200 OK in 23ms (Views: 4.6ms | ActiveRecord: 2.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (22.5ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:00.226265"], ["updated_at", "2016-04-14 02:52:00.226265"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:00.231822"], ["updated_at", "2016-04-14 02:52:00.231822"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:00.236936"], ["updated_at", "2016-04-14 02:52:00.236936"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:00.241608"], ["updated_at", "2016-04-14 02:52:00.241608"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:00.246157"], ["updated_at", "2016-04-14 02:52:00.246157"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:00.250635"], ["updated_at", "2016-04-14 02:52:00.250635"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:00.256073"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:00.262003"], ["updated_at", "2016-04-14 02:52:00.262003"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:00.268875"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:00.273538"], ["updated_at", "2016-04-14 02:52:00.273538"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:00.278584"], ["updated_at", "2016-04-14 02:52:00.278584"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:00.284159"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.291205"], ["updated_at", "2016-04-14 02:52:00.291205"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:00.296574"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:00.299720"], ["updated_at", "2016-04-14 02:52:00.299720"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:00.302048"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.305734"], ["updated_at", "2016-04-14 02:52:00.305734"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:00.308025"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:00.313339"], ["updated_at", "2016-04-14 02:52:00.313339"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:00.318077"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.322753"], ["updated_at", "2016-04-14 02:52:00.322753"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:00.325810"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:00.332100"], ["updated_at", "2016-04-14 02:52:00.332100"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:00.334994"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:00.338227"], ["updated_at", "2016-04-14 02:52:00.338227"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:00.340486"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:00.343372"], ["updated_at", "2016-04-14 02:52:00.343372"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:00.345401"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.348431"], ["updated_at", "2016-04-14 02:52:00.348431"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:00.350295"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.352912"], ["updated_at", "2016-04-14 02:52:00.352912"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:00.355647"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.358976"], ["updated_at", "2016-04-14 02:52:00.358976"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:00.361069"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.363964"], ["updated_at", "2016-04-14 02:52:00.363964"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:00.365836"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.368431"], ["updated_at", "2016-04-14 02:52:00.368431"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:00.370879"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:00.373654"], ["updated_at", "2016-04-14 02:52:00.373654"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:00.375499"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.377816"], ["updated_at", "2016-04-14 02:52:00.377816"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:00.379918"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:00.382140"], ["updated_at", "2016-04-14 02:52:00.382140"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:00.384526"], ["updated_at", "2016-04-14 02:52:00.384526"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:00.386451"], ["updated_at", "2016-04-14 02:52:00.386451"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:00.389063"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:00.391424"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:00.394317"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:00.396716"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:00.398745"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:00.401628"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/favorite_customer" for 127.0.0.1 at 2016-04-13 20:52:00 -0600
Processing by Api::V1::Merchants::FavoriteCustomerController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCustomer Load (1.5ms)[0m  SELECT  customers.*, COUNT(transactions.id) AS transaction_count FROM "customers" INNER JOIN "invoices" "invoices_customers_join" ON "invoices_customers_join"."customer_id" = "customers"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_customers_join"."id" INNER JOIN "invoices" ON "customers"."id" = "invoices"."customer_id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 GROUP BY "customers"."id"  ORDER BY transaction_count DESC LIMIT 1  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.76ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (21.2ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:00.446994"], ["updated_at", "2016-04-14 02:52:00.446994"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:00.452883"], ["updated_at", "2016-04-14 02:52:00.452883"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:00.458072"], ["updated_at", "2016-04-14 02:52:00.458072"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:00.462598"], ["updated_at", "2016-04-14 02:52:00.462598"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:00.467283"], ["updated_at", "2016-04-14 02:52:00.467283"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:00.471748"], ["updated_at", "2016-04-14 02:52:00.471748"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:00.476542"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:00.480926"], ["updated_at", "2016-04-14 02:52:00.480926"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:00.485264"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:00.489458"], ["updated_at", "2016-04-14 02:52:00.489458"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:00.494022"], ["updated_at", "2016-04-14 02:52:00.494022"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:00.500820"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.505371"], ["updated_at", "2016-04-14 02:52:00.505371"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:00.509060"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:00.512811"], ["updated_at", "2016-04-14 02:52:00.512811"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:00.515107"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.518620"], ["updated_at", "2016-04-14 02:52:00.518620"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:00.521260"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:00.523792"], ["updated_at", "2016-04-14 02:52:00.523792"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:00.525773"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.528904"], ["updated_at", "2016-04-14 02:52:00.528904"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:00.530959"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:00.533867"], ["updated_at", "2016-04-14 02:52:00.533867"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:00.536342"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:00.539407"], ["updated_at", "2016-04-14 02:52:00.539407"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:00.541530"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:00.544269"], ["updated_at", "2016-04-14 02:52:00.544269"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:00.546556"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.548798"], ["updated_at", "2016-04-14 02:52:00.548798"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:00.550814"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.553458"], ["updated_at", "2016-04-14 02:52:00.553458"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:00.555864"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.558743"], ["updated_at", "2016-04-14 02:52:00.558743"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:00.561629"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.564280"], ["updated_at", "2016-04-14 02:52:00.564280"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:00.566363"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.568878"], ["updated_at", "2016-04-14 02:52:00.568878"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:00.570949"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:00.573319"], ["updated_at", "2016-04-14 02:52:00.573319"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:00.575249"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.577809"], ["updated_at", "2016-04-14 02:52:00.577809"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:00.579617"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:00.581829"], ["updated_at", "2016-04-14 02:52:00.581829"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:00.584105"], ["updated_at", "2016-04-14 02:52:00.584105"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:00.586710"], ["updated_at", "2016-04-14 02:52:00.586710"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:00.590525"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:00.593046"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:00.596209"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:00.598338"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:00.600976"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:00.603603"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/favorite_customer" for 127.0.0.1 at 2016-04-13 20:52:00 -0600
Processing by Api::V1::Merchants::FavoriteCustomerController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCustomer Load (1.4ms)[0m  SELECT  customers.*, COUNT(transactions.id) AS transaction_count FROM "customers" INNER JOIN "invoices" "invoices_customers_join" ON "invoices_customers_join"."customer_id" = "customers"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_customers_join"."id" INNER JOIN "invoices" ON "customers"."id" = "invoices"."customer_id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 GROUP BY "customers"."id"  ORDER BY transaction_count DESC LIMIT 1  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.93ms)
Completed 200 OK in 8ms (Views: 1.3ms | ActiveRecord: 1.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (23.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:00.653049"], ["updated_at", "2016-04-14 02:52:00.653049"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:00.659186"], ["updated_at", "2016-04-14 02:52:00.659186"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:00.664415"], ["updated_at", "2016-04-14 02:52:00.664415"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:00.669060"], ["updated_at", "2016-04-14 02:52:00.669060"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:00.673955"], ["updated_at", "2016-04-14 02:52:00.673955"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:00.678645"], ["updated_at", "2016-04-14 02:52:00.678645"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:00.684313"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:00.690019"], ["updated_at", "2016-04-14 02:52:00.690019"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:00.695312"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:00.700876"], ["updated_at", "2016-04-14 02:52:00.700876"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:00.705589"], ["updated_at", "2016-04-14 02:52:00.705589"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:00.711101"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.717799"], ["updated_at", "2016-04-14 02:52:00.717799"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:00.722871"], ["id", 1]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:00.728614"], ["updated_at", "2016-04-14 02:52:00.728614"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:00.731277"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.735090"], ["updated_at", "2016-04-14 02:52:00.735090"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:00.738479"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:00.742346"], ["updated_at", "2016-04-14 02:52:00.742346"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:00.745453"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.749264"], ["updated_at", "2016-04-14 02:52:00.749264"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:00.751664"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:00.754636"], ["updated_at", "2016-04-14 02:52:00.754636"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:00.757333"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:00.760760"], ["updated_at", "2016-04-14 02:52:00.760760"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:00.763557"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:00.766436"], ["updated_at", "2016-04-14 02:52:00.766436"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:00.768770"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.771239"], ["updated_at", "2016-04-14 02:52:00.771239"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:00.773360"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.776154"], ["updated_at", "2016-04-14 02:52:00.776154"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:00.778609"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.781571"], ["updated_at", "2016-04-14 02:52:00.781571"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:00.783637"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.786365"], ["updated_at", "2016-04-14 02:52:00.786365"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:00.788733"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.791444"], ["updated_at", "2016-04-14 02:52:00.791444"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:00.794128"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:00.796781"], ["updated_at", "2016-04-14 02:52:00.796781"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:00.798589"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.801251"], ["updated_at", "2016-04-14 02:52:00.801251"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:00.803440"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:00.805616"], ["updated_at", "2016-04-14 02:52:00.805616"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:00.807923"], ["updated_at", "2016-04-14 02:52:00.807923"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:00.810005"], ["updated_at", "2016-04-14 02:52:00.810005"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:00.812344"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:00.815185"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:00.818258"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:00.820363"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:00.822692"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:00.825400"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/2/customers_with_pending_invoices" for 127.0.0.1 at 2016-04-13 20:52:00 -0600
Processing by Api::V1::Merchants::CustomersWithPendingInvoicesController#index as JSON
  Parameters: {"merchant_id"=>"2"}
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.4ms)[0m  SELECT "invoices"."customer_id" FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND (result = 'failed') GROUP BY "invoices"."customer_id"  [["merchant_id", 2]]
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 2]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (0.22ms)
Completed 200 OK in 12ms (Views: 1.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (22.2ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:00.881637"], ["updated_at", "2016-04-14 02:52:00.881637"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:00.887039"], ["updated_at", "2016-04-14 02:52:00.887039"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:00.891299"], ["updated_at", "2016-04-14 02:52:00.891299"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:00.894996"], ["updated_at", "2016-04-14 02:52:00.894996"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:00.899236"], ["updated_at", "2016-04-14 02:52:00.899236"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:00.903577"], ["updated_at", "2016-04-14 02:52:00.903577"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:00.908217"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:00.913861"], ["updated_at", "2016-04-14 02:52:00.913861"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:00.919072"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:00.923037"], ["updated_at", "2016-04-14 02:52:00.923037"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:00.926994"], ["updated_at", "2016-04-14 02:52:00.926994"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:00.932031"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.937536"], ["updated_at", "2016-04-14 02:52:00.937536"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:00.942061"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:00.946782"], ["updated_at", "2016-04-14 02:52:00.946782"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:00.950727"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.956568"], ["updated_at", "2016-04-14 02:52:00.956568"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:00.961266"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:00.966945"], ["updated_at", "2016-04-14 02:52:00.966945"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:00.969842"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.973173"], ["updated_at", "2016-04-14 02:52:00.973173"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:00.975500"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:00.978661"], ["updated_at", "2016-04-14 02:52:00.978661"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:00.980669"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:00.983830"], ["updated_at", "2016-04-14 02:52:00.983830"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:00.985816"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:00.988560"], ["updated_at", "2016-04-14 02:52:00.988560"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:00.990946"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:00.993462"], ["updated_at", "2016-04-14 02:52:00.993462"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:00.995535"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:00.998145"], ["updated_at", "2016-04-14 02:52:00.998145"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:01.000618"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:01.003176"], ["updated_at", "2016-04-14 02:52:01.003176"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:01.005006"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:01.009273"], ["updated_at", "2016-04-14 02:52:01.009273"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:01.012753"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:01.015357"], ["updated_at", "2016-04-14 02:52:01.015357"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:01.017205"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:01.020375"], ["updated_at", "2016-04-14 02:52:01.020375"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:01.022390"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:01.025144"], ["updated_at", "2016-04-14 02:52:01.025144"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:01.026826"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:01.028745"], ["updated_at", "2016-04-14 02:52:01.028745"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:01.031173"], ["updated_at", "2016-04-14 02:52:01.031173"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:01.033126"], ["updated_at", "2016-04-14 02:52:01.033126"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:01.035278"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:01.037692"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:01.040425"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:01.042646"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:01.044966"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:01.047259"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/2/customers_with_pending_invoices" for 127.0.0.1 at 2016-04-13 20:52:01 -0600
Processing by Api::V1::Merchants::CustomersWithPendingInvoicesController#index as JSON
  Parameters: {"merchant_id"=>"2"}
  [1m[35mMerchant Load (0.3ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.5ms)[0m  [1mSELECT "invoices"."customer_id" FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND (result = 'failed') GROUP BY "invoices"."customer_id"[0m  [["merchant_id", 2]]
  [1m[35mCustomer Load (0.3ms)[0m  SELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1  [["id", 2]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (0.24ms)
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (23.0ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:01.093053"], ["updated_at", "2016-04-14 02:52:01.093053"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:01.098906"], ["updated_at", "2016-04-14 02:52:01.098906"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:01.103738"], ["updated_at", "2016-04-14 02:52:01.103738"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:01.107634"], ["updated_at", "2016-04-14 02:52:01.107634"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:01.112518"], ["updated_at", "2016-04-14 02:52:01.112518"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:01.117087"], ["updated_at", "2016-04-14 02:52:01.117087"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:01.122056"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:01.127984"], ["updated_at", "2016-04-14 02:52:01.127984"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:01.134234"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:01.138891"], ["updated_at", "2016-04-14 02:52:01.138891"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:01.144074"], ["updated_at", "2016-04-14 02:52:01.144074"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:01.148599"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:01.154726"], ["updated_at", "2016-04-14 02:52:01.154726"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:01.160023"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:01.163643"], ["updated_at", "2016-04-14 02:52:01.163643"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:01.166490"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:01.170340"], ["updated_at", "2016-04-14 02:52:01.170340"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:01.172393"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:01.175095"], ["updated_at", "2016-04-14 02:52:01.175095"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:01.176900"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:01.179431"], ["updated_at", "2016-04-14 02:52:01.179431"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:01.181471"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:01.184429"], ["updated_at", "2016-04-14 02:52:01.184429"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:01.186378"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:01.189175"], ["updated_at", "2016-04-14 02:52:01.189175"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:01.191315"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:01.193889"], ["updated_at", "2016-04-14 02:52:01.193889"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:01.195805"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:01.198314"], ["updated_at", "2016-04-14 02:52:01.198314"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:01.200281"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:01.202510"], ["updated_at", "2016-04-14 02:52:01.202510"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:01.204856"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:01.207722"], ["updated_at", "2016-04-14 02:52:01.207722"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:01.209521"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:01.211747"], ["updated_at", "2016-04-14 02:52:01.211747"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:01.213445"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:01.215882"], ["updated_at", "2016-04-14 02:52:01.215882"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:01.217598"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:01.219817"], ["updated_at", "2016-04-14 02:52:01.219817"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:01.221864"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:01.224298"], ["updated_at", "2016-04-14 02:52:01.224298"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:01.226297"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:01.228349"], ["updated_at", "2016-04-14 02:52:01.228349"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:01.230921"], ["updated_at", "2016-04-14 02:52:01.230921"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:01.232786"], ["updated_at", "2016-04-14 02:52:01.232786"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:01.234944"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:01.237353"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:01.239819"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:01.241813"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:01.243763"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:01.246014"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/2/customers_with_pending_invoices" for 127.0.0.1 at 2016-04-13 20:52:01 -0600
Processing by Api::V1::Merchants::CustomersWithPendingInvoicesController#index as JSON
  Parameters: {"merchant_id"=>"2"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.6ms)[0m  SELECT "invoices"."customer_id" FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND (result = 'failed') GROUP BY "invoices"."customer_id"  [["merchant_id", 2]]
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 2]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (0.23ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (22.1ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.8ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (2.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.1ms)[0m  select table_name from information_schema.views where table_schema = 'rails_engine_test'
  [1m[36m (18.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:17.601138"], ["updated_at", "2016-04-14 02:52:17.601138"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:17.607087"], ["updated_at", "2016-04-14 02:52:17.607087"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:17.609402"], ["updated_at", "2016-04-14 02:52:17.609402"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:17.619758"], ["updated_at", "2016-04-14 02:52:17.619758"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:17.622720"], ["updated_at", "2016-04-14 02:52:17.622720"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:17.624602"], ["updated_at", "2016-04-14 02:52:17.624602"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:17.636143"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:17.639565"], ["updated_at", "2016-04-14 02:52:17.639565"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:17.642562"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:17.645148"], ["updated_at", "2016-04-14 02:52:17.645148"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:17.647521"], ["updated_at", "2016-04-14 02:52:17.647521"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:17.649935"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:17.669021"], ["updated_at", "2016-04-14 02:52:17.669021"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:17.672843"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:17.679096"], ["updated_at", "2016-04-14 02:52:17.679096"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:17.681319"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:17.684197"], ["updated_at", "2016-04-14 02:52:17.684197"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:17.686686"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:17.689642"], ["updated_at", "2016-04-14 02:52:17.689642"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:17.691696"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:17.694500"], ["updated_at", "2016-04-14 02:52:17.694500"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:17.697946"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:17.700909"], ["updated_at", "2016-04-14 02:52:17.700909"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:17.702911"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:17.711577"], ["updated_at", "2016-04-14 02:52:17.711577"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:17.714737"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:17.717705"], ["updated_at", "2016-04-14 02:52:17.717705"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:17.719836"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:17.722641"], ["updated_at", "2016-04-14 02:52:17.722641"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:17.724759"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:17.735439"], ["updated_at", "2016-04-14 02:52:17.735439"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:17.738100"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:17.741884"], ["updated_at", "2016-04-14 02:52:17.741884"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:17.744751"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:17.748846"], ["updated_at", "2016-04-14 02:52:17.748846"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:17.751132"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:17.754084"], ["updated_at", "2016-04-14 02:52:17.754084"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:17.756139"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:17.758855"], ["updated_at", "2016-04-14 02:52:17.758855"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:17.760853"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:17.763421"], ["updated_at", "2016-04-14 02:52:17.763421"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:17.765267"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:17.771951"], ["updated_at", "2016-04-14 02:52:17.771951"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:17.775200"], ["updated_at", "2016-04-14 02:52:17.775200"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:17.777250"], ["updated_at", "2016-04-14 02:52:17.777250"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:17.780195"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:17.782714"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:17.785364"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:17.787590"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:17.789985"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:17.792422"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue" for 127.0.0.1 at 2016-04-13 20:52:17 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.6ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (2.01ms)
Completed 200 OK in 45ms (Views: 10.4ms | ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (25.2ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:17.918533"], ["updated_at", "2016-04-14 02:52:17.918533"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:17.925350"], ["updated_at", "2016-04-14 02:52:17.925350"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:17.931671"], ["updated_at", "2016-04-14 02:52:17.931671"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:17.937742"], ["updated_at", "2016-04-14 02:52:17.937742"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:17.943407"], ["updated_at", "2016-04-14 02:52:17.943407"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:17.948922"], ["updated_at", "2016-04-14 02:52:17.948922"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:17.954301"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:17.960662"], ["updated_at", "2016-04-14 02:52:17.960662"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:17.968129"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:17.978777"], ["updated_at", "2016-04-14 02:52:17.978777"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:17.985673"], ["updated_at", "2016-04-14 02:52:17.985673"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:17.991782"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:17.996378"], ["updated_at", "2016-04-14 02:52:17.996378"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.000574"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.004120"], ["updated_at", "2016-04-14 02:52:18.004120"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.006895"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.011719"], ["updated_at", "2016-04-14 02:52:18.011719"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.014252"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:18.018821"], ["updated_at", "2016-04-14 02:52:18.018821"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.021854"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.025815"], ["updated_at", "2016-04-14 02:52:18.025815"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:18.028202"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:18.032242"], ["updated_at", "2016-04-14 02:52:18.032242"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:18.034880"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.038454"], ["updated_at", "2016-04-14 02:52:18.038454"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:18.040812"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.044277"], ["updated_at", "2016-04-14 02:52:18.044277"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.046925"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.061578"], ["updated_at", "2016-04-14 02:52:18.061578"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.063764"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.066239"], ["updated_at", "2016-04-14 02:52:18.066239"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.068729"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.071680"], ["updated_at", "2016-04-14 02:52:18.071680"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.074479"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.077254"], ["updated_at", "2016-04-14 02:52:18.077254"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:18.079191"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.081479"], ["updated_at", "2016-04-14 02:52:18.081479"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:18.083203"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:18.085652"], ["updated_at", "2016-04-14 02:52:18.085652"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:18.087707"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.090135"], ["updated_at", "2016-04-14 02:52:18.090135"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.092034"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:18.094151"], ["updated_at", "2016-04-14 02:52:18.094151"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:18.096539"], ["updated_at", "2016-04-14 02:52:18.096539"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:18.098869"], ["updated_at", "2016-04-14 02:52:18.098869"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:18.102226"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:18.104637"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.107180"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.109136"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.111094"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:18.113730"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue" for 127.0.0.1 at 2016-04-13 20:52:18 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.14ms)
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 1.1ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (25.2ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:18.163606"], ["updated_at", "2016-04-14 02:52:18.163606"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:18.169323"], ["updated_at", "2016-04-14 02:52:18.169323"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:18.173567"], ["updated_at", "2016-04-14 02:52:18.173567"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:18.178131"], ["updated_at", "2016-04-14 02:52:18.178131"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:18.182831"], ["updated_at", "2016-04-14 02:52:18.182831"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:18.187366"], ["updated_at", "2016-04-14 02:52:18.187366"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:18.191435"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:18.196891"], ["updated_at", "2016-04-14 02:52:18.196891"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:18.202148"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:18.207144"], ["updated_at", "2016-04-14 02:52:18.207144"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:18.211882"], ["updated_at", "2016-04-14 02:52:18.211882"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:18.217055"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.220768"], ["updated_at", "2016-04-14 02:52:18.220768"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.223632"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.226489"], ["updated_at", "2016-04-14 02:52:18.226489"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.228465"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.231278"], ["updated_at", "2016-04-14 02:52:18.231278"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.233219"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:18.235609"], ["updated_at", "2016-04-14 02:52:18.235609"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.237502"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.240946"], ["updated_at", "2016-04-14 02:52:18.240946"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:18.243409"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:18.247254"], ["updated_at", "2016-04-14 02:52:18.247254"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:18.249277"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.251904"], ["updated_at", "2016-04-14 02:52:18.251904"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:18.253990"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.257452"], ["updated_at", "2016-04-14 02:52:18.257452"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.260071"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.262504"], ["updated_at", "2016-04-14 02:52:18.262504"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.264457"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.267136"], ["updated_at", "2016-04-14 02:52:18.267136"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.269559"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.272469"], ["updated_at", "2016-04-14 02:52:18.272469"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.275133"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.277634"], ["updated_at", "2016-04-14 02:52:18.277634"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:18.279497"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.281756"], ["updated_at", "2016-04-14 02:52:18.281756"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:18.283617"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:18.285899"], ["updated_at", "2016-04-14 02:52:18.285899"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:18.287613"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.290065"], ["updated_at", "2016-04-14 02:52:18.290065"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.292282"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:18.294357"], ["updated_at", "2016-04-14 02:52:18.294357"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:18.296565"], ["updated_at", "2016-04-14 02:52:18.296565"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:18.298355"], ["updated_at", "2016-04-14 02:52:18.298355"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:18.301106"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:18.304385"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.307395"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.309535"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.311472"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:18.313693"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue" for 127.0.0.1 at 2016-04-13 20:52:18 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.12ms)
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (23.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.1ms)[0m  ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:18.359531"], ["updated_at", "2016-04-14 02:52:18.359531"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:18.365175"], ["updated_at", "2016-04-14 02:52:18.365175"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:18.370132"], ["updated_at", "2016-04-14 02:52:18.370132"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:18.374592"], ["updated_at", "2016-04-14 02:52:18.374592"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:18.379293"], ["updated_at", "2016-04-14 02:52:18.379293"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:18.383307"], ["updated_at", "2016-04-14 02:52:18.383307"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:18.387935"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:18.393627"], ["updated_at", "2016-04-14 02:52:18.393627"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:18.397871"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:18.403318"], ["updated_at", "2016-04-14 02:52:18.403318"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:18.407874"], ["updated_at", "2016-04-14 02:52:18.407874"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:18.412511"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.416167"], ["updated_at", "2016-04-14 02:52:18.416167"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.419774"], ["id", 1]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.423694"], ["updated_at", "2016-04-14 02:52:18.423694"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.426164"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.429699"], ["updated_at", "2016-04-14 02:52:18.429699"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.432566"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:18.435408"], ["updated_at", "2016-04-14 02:52:18.435408"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.437403"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.440252"], ["updated_at", "2016-04-14 02:52:18.440252"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:18.442108"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:18.445144"], ["updated_at", "2016-04-14 02:52:18.445144"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:18.447200"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.449949"], ["updated_at", "2016-04-14 02:52:18.449949"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:18.451904"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.454575"], ["updated_at", "2016-04-14 02:52:18.454575"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.456578"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.458743"], ["updated_at", "2016-04-14 02:52:18.458743"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.460544"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.462950"], ["updated_at", "2016-04-14 02:52:18.462950"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.465206"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.467750"], ["updated_at", "2016-04-14 02:52:18.467750"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.469855"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.472574"], ["updated_at", "2016-04-14 02:52:18.472574"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:18.474551"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.476914"], ["updated_at", "2016-04-14 02:52:18.476914"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:18.478718"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:18.480977"], ["updated_at", "2016-04-14 02:52:18.480977"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:18.482711"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.484922"], ["updated_at", "2016-04-14 02:52:18.484922"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.486834"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:18.489022"], ["updated_at", "2016-04-14 02:52:18.489022"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:18.491363"], ["updated_at", "2016-04-14 02:52:18.491363"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:18.493546"], ["updated_at", "2016-04-14 02:52:18.493546"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:18.495849"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:18.498411"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.500777"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.502722"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.504653"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:18.507463"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue?date=2012-03-16%2011:55:05" for 127.0.0.1 at 2016-04-13 20:52:18 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"date"=>"2012-03-16 11:55:05", "merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 AND "invoices"."created_at" = $3  [["merchant_id", 1], ["result", "success"], ["created_at", "2012-03-16 11:55:05"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.12ms)
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (22.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:18.549349"], ["updated_at", "2016-04-14 02:52:18.549349"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:18.552870"], ["updated_at", "2016-04-14 02:52:18.552870"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:18.555184"], ["updated_at", "2016-04-14 02:52:18.555184"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:18.557314"], ["updated_at", "2016-04-14 02:52:18.557314"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:18.559617"], ["updated_at", "2016-04-14 02:52:18.559617"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:18.561430"], ["updated_at", "2016-04-14 02:52:18.561430"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:18.563610"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:18.566278"], ["updated_at", "2016-04-14 02:52:18.566278"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:18.568854"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:18.571200"], ["updated_at", "2016-04-14 02:52:18.571200"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:18.573863"], ["updated_at", "2016-04-14 02:52:18.573863"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:18.576248"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.579148"], ["updated_at", "2016-04-14 02:52:18.579148"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.581794"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.585158"], ["updated_at", "2016-04-14 02:52:18.585158"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.587133"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.590646"], ["updated_at", "2016-04-14 02:52:18.590646"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.593910"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:18.596706"], ["updated_at", "2016-04-14 02:52:18.596706"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.601382"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.604463"], ["updated_at", "2016-04-14 02:52:18.604463"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:18.606577"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:18.610022"], ["updated_at", "2016-04-14 02:52:18.610022"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:18.612468"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.615998"], ["updated_at", "2016-04-14 02:52:18.615998"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:18.618155"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.621038"], ["updated_at", "2016-04-14 02:52:18.621038"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.623336"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.625709"], ["updated_at", "2016-04-14 02:52:18.625709"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.627560"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.630034"], ["updated_at", "2016-04-14 02:52:18.630034"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.632244"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.634873"], ["updated_at", "2016-04-14 02:52:18.634873"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.636725"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.639004"], ["updated_at", "2016-04-14 02:52:18.639004"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:18.640915"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.643140"], ["updated_at", "2016-04-14 02:52:18.643140"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:18.645060"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:18.647344"], ["updated_at", "2016-04-14 02:52:18.647344"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:18.649536"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.652020"], ["updated_at", "2016-04-14 02:52:18.652020"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.653844"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:18.655777"], ["updated_at", "2016-04-14 02:52:18.655777"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:18.658228"], ["updated_at", "2016-04-14 02:52:18.658228"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:18.660013"], ["updated_at", "2016-04-14 02:52:18.660013"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:18.662252"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:18.664586"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.666830"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.668856"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.670917"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:18.673636"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue?date=2012-03-16%2011:55:05" for 127.0.0.1 at 2016-04-13 20:52:18 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"date"=>"2012-03-16 11:55:05", "merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 AND "invoices"."created_at" = $3  [["merchant_id", 1], ["result", "success"], ["created_at", "2012-03-16 11:55:05"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.12ms)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (15.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:18.707868"], ["updated_at", "2016-04-14 02:52:18.707868"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:18.710995"], ["updated_at", "2016-04-14 02:52:18.710995"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:18.713267"], ["updated_at", "2016-04-14 02:52:18.713267"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:18.717088"], ["updated_at", "2016-04-14 02:52:18.717088"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:18.719621"], ["updated_at", "2016-04-14 02:52:18.719621"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:18.721599"], ["updated_at", "2016-04-14 02:52:18.721599"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:18.724218"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:18.727267"], ["updated_at", "2016-04-14 02:52:18.727267"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:18.729737"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:18.731830"], ["updated_at", "2016-04-14 02:52:18.731830"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:18.734237"], ["updated_at", "2016-04-14 02:52:18.734237"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:18.737068"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.740536"], ["updated_at", "2016-04-14 02:52:18.740536"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.744110"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.747635"], ["updated_at", "2016-04-14 02:52:18.747635"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.753894"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.757359"], ["updated_at", "2016-04-14 02:52:18.757359"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.759522"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:18.761927"], ["updated_at", "2016-04-14 02:52:18.761927"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.764983"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.768658"], ["updated_at", "2016-04-14 02:52:18.768658"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:18.770746"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:18.774079"], ["updated_at", "2016-04-14 02:52:18.774079"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:18.776430"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.779312"], ["updated_at", "2016-04-14 02:52:18.779312"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:18.781233"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.783848"], ["updated_at", "2016-04-14 02:52:18.783848"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.785642"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.787774"], ["updated_at", "2016-04-14 02:52:18.787774"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.789884"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.792662"], ["updated_at", "2016-04-14 02:52:18.792662"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.795041"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.797622"], ["updated_at", "2016-04-14 02:52:18.797622"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.799467"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.802231"], ["updated_at", "2016-04-14 02:52:18.802231"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:18.804056"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.806534"], ["updated_at", "2016-04-14 02:52:18.806534"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:18.808566"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:18.811037"], ["updated_at", "2016-04-14 02:52:18.811037"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:18.812785"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.815053"], ["updated_at", "2016-04-14 02:52:18.815053"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.817514"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:18.819770"], ["updated_at", "2016-04-14 02:52:18.819770"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:18.822087"], ["updated_at", "2016-04-14 02:52:18.822087"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:18.824734"], ["updated_at", "2016-04-14 02:52:18.824734"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:18.827292"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:18.829641"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.832118"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.834161"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.836126"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:18.838340"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue?date=2012-03-16%2011:55:05" for 127.0.0.1 at 2016-04-13 20:52:18 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"date"=>"2012-03-16 11:55:05", "merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 AND "invoices"."created_at" = $3  [["merchant_id", 1], ["result", "success"], ["created_at", "2012-03-16 11:55:05"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.16ms)
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (15.0ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:18.873356"], ["updated_at", "2016-04-14 02:52:18.873356"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:18.876182"], ["updated_at", "2016-04-14 02:52:18.876182"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:18.879094"], ["updated_at", "2016-04-14 02:52:18.879094"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:18.881425"], ["updated_at", "2016-04-14 02:52:18.881425"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:18.883752"], ["updated_at", "2016-04-14 02:52:18.883752"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:18.885743"], ["updated_at", "2016-04-14 02:52:18.885743"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:18.888026"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:18.890887"], ["updated_at", "2016-04-14 02:52:18.890887"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:18.893325"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:18.895646"], ["updated_at", "2016-04-14 02:52:18.895646"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:18.897848"], ["updated_at", "2016-04-14 02:52:18.897848"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:18.900139"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.903370"], ["updated_at", "2016-04-14 02:52:18.903370"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.906440"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.909588"], ["updated_at", "2016-04-14 02:52:18.909588"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.911715"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.914862"], ["updated_at", "2016-04-14 02:52:18.914862"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.918707"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:18.921307"], ["updated_at", "2016-04-14 02:52:18.921307"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.923337"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.926012"], ["updated_at", "2016-04-14 02:52:18.926012"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:18.927907"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:18.930867"], ["updated_at", "2016-04-14 02:52:18.930867"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:18.932816"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.935557"], ["updated_at", "2016-04-14 02:52:18.935557"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:18.937418"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:18.940688"], ["updated_at", "2016-04-14 02:52:18.940688"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.943758"], ["id", 8]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:18.946934"], ["updated_at", "2016-04-14 02:52:18.946934"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.949066"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.951588"], ["updated_at", "2016-04-14 02:52:18.951588"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:18.954146"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.957263"], ["updated_at", "2016-04-14 02:52:18.957263"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:18.959133"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.961541"], ["updated_at", "2016-04-14 02:52:18.961541"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:18.963258"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.965496"], ["updated_at", "2016-04-14 02:52:18.965496"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:18.967213"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:18.970004"], ["updated_at", "2016-04-14 02:52:18.970004"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:18.972880"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:18.975394"], ["updated_at", "2016-04-14 02:52:18.975394"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:18.977175"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:18.979263"], ["updated_at", "2016-04-14 02:52:18.979263"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:18.981475"], ["updated_at", "2016-04-14 02:52:18.981475"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:18.983705"], ["updated_at", "2016-04-14 02:52:18.983705"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:18.985915"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:18.988187"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.990713"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.992762"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:18.994674"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:18.996924"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/favorite_customer" for 127.0.0.1 at 2016-04-13 20:52:19 -0600
Processing by Api::V1::Merchants::FavoriteCustomerController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCustomer Load (1.3ms)[0m  SELECT  customers.*, COUNT(transactions.id) AS transaction_count FROM "customers" INNER JOIN "invoices" "invoices_customers_join" ON "invoices_customers_join"."customer_id" = "customers"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_customers_join"."id" INNER JOIN "invoices" ON "customers"."id" = "invoices"."customer_id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 GROUP BY "customers"."id"  ORDER BY transaction_count DESC LIMIT 1  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.85ms)
Completed 200 OK in 20ms (Views: 3.9ms | ActiveRecord: 2.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (15.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:19.052301"], ["updated_at", "2016-04-14 02:52:19.052301"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:19.055360"], ["updated_at", "2016-04-14 02:52:19.055360"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:19.057777"], ["updated_at", "2016-04-14 02:52:19.057777"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:19.060043"], ["updated_at", "2016-04-14 02:52:19.060043"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:19.062411"], ["updated_at", "2016-04-14 02:52:19.062411"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:19.064262"], ["updated_at", "2016-04-14 02:52:19.064262"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:19.066430"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:19.069161"], ["updated_at", "2016-04-14 02:52:19.069161"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:19.071693"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:19.073987"], ["updated_at", "2016-04-14 02:52:19.073987"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:19.076170"], ["updated_at", "2016-04-14 02:52:19.076170"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:19.078445"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.081353"], ["updated_at", "2016-04-14 02:52:19.081353"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:19.084383"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:19.087786"], ["updated_at", "2016-04-14 02:52:19.087786"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:19.089922"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.092692"], ["updated_at", "2016-04-14 02:52:19.092692"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:19.094693"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:19.097348"], ["updated_at", "2016-04-14 02:52:19.097348"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:19.101166"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.104282"], ["updated_at", "2016-04-14 02:52:19.104282"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:19.106325"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:19.110254"], ["updated_at", "2016-04-14 02:52:19.110254"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:19.112420"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:19.115827"], ["updated_at", "2016-04-14 02:52:19.115827"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:19.117804"], ["id", 7]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:19.121577"], ["updated_at", "2016-04-14 02:52:19.121577"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:19.123746"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.126052"], ["updated_at", "2016-04-14 02:52:19.126052"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:19.127825"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.130200"], ["updated_at", "2016-04-14 02:52:19.130200"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:19.132431"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.135797"], ["updated_at", "2016-04-14 02:52:19.135797"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:19.138435"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.141005"], ["updated_at", "2016-04-14 02:52:19.141005"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:19.142781"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.144995"], ["updated_at", "2016-04-14 02:52:19.144995"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:19.146903"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:19.149318"], ["updated_at", "2016-04-14 02:52:19.149318"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:19.151208"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.153654"], ["updated_at", "2016-04-14 02:52:19.153654"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:19.155736"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:19.157933"], ["updated_at", "2016-04-14 02:52:19.157933"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:19.160550"], ["updated_at", "2016-04-14 02:52:19.160550"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:19.162779"], ["updated_at", "2016-04-14 02:52:19.162779"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:19.165140"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:19.167561"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:19.170105"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:19.172321"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:19.174502"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:19.177014"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/favorite_customer" for 127.0.0.1 at 2016-04-13 20:52:19 -0600
Processing by Api::V1::Merchants::FavoriteCustomerController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCustomer Load (1.5ms)[0m  SELECT  customers.*, COUNT(transactions.id) AS transaction_count FROM "customers" INNER JOIN "invoices" "invoices_customers_join" ON "invoices_customers_join"."customer_id" = "customers"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_customers_join"."id" INNER JOIN "invoices" ON "customers"."id" = "invoices"."customer_id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 GROUP BY "customers"."id"  ORDER BY transaction_count DESC LIMIT 1  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.75ms)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 1.9ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (15.6ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (3.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:19.214470"], ["updated_at", "2016-04-14 02:52:19.214470"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:19.217571"], ["updated_at", "2016-04-14 02:52:19.217571"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:19.219805"], ["updated_at", "2016-04-14 02:52:19.219805"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:19.221813"], ["updated_at", "2016-04-14 02:52:19.221813"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:19.225052"], ["updated_at", "2016-04-14 02:52:19.225052"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:19.226979"], ["updated_at", "2016-04-14 02:52:19.226979"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:19.229194"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:19.232373"], ["updated_at", "2016-04-14 02:52:19.232373"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:19.234871"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:19.237215"], ["updated_at", "2016-04-14 02:52:19.237215"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:19.244495"], ["updated_at", "2016-04-14 02:52:19.244495"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:19.247511"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.251541"], ["updated_at", "2016-04-14 02:52:19.251541"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:19.254411"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:19.257590"], ["updated_at", "2016-04-14 02:52:19.257590"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:19.259701"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.262935"], ["updated_at", "2016-04-14 02:52:19.262935"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:19.266890"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:19.269881"], ["updated_at", "2016-04-14 02:52:19.269881"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:19.271985"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.276373"], ["updated_at", "2016-04-14 02:52:19.276373"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:19.279113"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:19.282224"], ["updated_at", "2016-04-14 02:52:19.282224"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:19.284217"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:19.287294"], ["updated_at", "2016-04-14 02:52:19.287294"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:19.289615"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:19.292418"], ["updated_at", "2016-04-14 02:52:19.292418"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:19.294227"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.296690"], ["updated_at", "2016-04-14 02:52:19.296690"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:19.298478"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.300681"], ["updated_at", "2016-04-14 02:52:19.300681"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:19.304000"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.307467"], ["updated_at", "2016-04-14 02:52:19.307467"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:19.309565"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.312275"], ["updated_at", "2016-04-14 02:52:19.312275"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:19.314584"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.317695"], ["updated_at", "2016-04-14 02:52:19.317695"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:19.320028"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:19.322517"], ["updated_at", "2016-04-14 02:52:19.322517"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:19.324501"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.327555"], ["updated_at", "2016-04-14 02:52:19.327555"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:19.329571"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:19.331833"], ["updated_at", "2016-04-14 02:52:19.331833"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:19.334237"], ["updated_at", "2016-04-14 02:52:19.334237"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:19.336330"], ["updated_at", "2016-04-14 02:52:19.336330"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:19.338777"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:19.341707"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:19.344150"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:19.346701"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:19.349477"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:19.351939"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/favorite_customer" for 127.0.0.1 at 2016-04-13 20:52:19 -0600
Processing by Api::V1::Merchants::FavoriteCustomerController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCustomer Load (1.3ms)[0m  SELECT  customers.*, COUNT(transactions.id) AS transaction_count FROM "customers" INNER JOIN "invoices" "invoices_customers_join" ON "invoices_customers_join"."customer_id" = "customers"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_customers_join"."id" INNER JOIN "invoices" ON "customers"."id" = "invoices"."customer_id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 GROUP BY "customers"."id"  ORDER BY transaction_count DESC LIMIT 1  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.84ms)
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 1.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (15.0ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:19.387830"], ["updated_at", "2016-04-14 02:52:19.387830"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:19.392449"], ["updated_at", "2016-04-14 02:52:19.392449"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:19.394871"], ["updated_at", "2016-04-14 02:52:19.394871"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:19.397136"], ["updated_at", "2016-04-14 02:52:19.397136"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:19.399478"], ["updated_at", "2016-04-14 02:52:19.399478"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:19.401454"], ["updated_at", "2016-04-14 02:52:19.401454"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:19.403922"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:19.407061"], ["updated_at", "2016-04-14 02:52:19.407061"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:19.409749"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:19.412032"], ["updated_at", "2016-04-14 02:52:19.412032"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:19.414510"], ["updated_at", "2016-04-14 02:52:19.414510"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:19.417378"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.421607"], ["updated_at", "2016-04-14 02:52:19.421607"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:19.425424"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:19.428728"], ["updated_at", "2016-04-14 02:52:19.428728"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:19.431255"], ["id", 2]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.436428"], ["updated_at", "2016-04-14 02:52:19.436428"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:19.438924"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:19.441785"], ["updated_at", "2016-04-14 02:52:19.441785"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:19.444123"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.447340"], ["updated_at", "2016-04-14 02:52:19.447340"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:19.449521"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:19.452501"], ["updated_at", "2016-04-14 02:52:19.452501"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:19.454705"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:19.457845"], ["updated_at", "2016-04-14 02:52:19.457845"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:19.459898"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:19.462733"], ["updated_at", "2016-04-14 02:52:19.462733"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:19.464905"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.467300"], ["updated_at", "2016-04-14 02:52:19.467300"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:19.469755"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.472453"], ["updated_at", "2016-04-14 02:52:19.472453"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:19.474875"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.477400"], ["updated_at", "2016-04-14 02:52:19.477400"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:19.479058"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.481408"], ["updated_at", "2016-04-14 02:52:19.481408"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:19.483060"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.485242"], ["updated_at", "2016-04-14 02:52:19.485242"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:19.486969"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:19.489515"], ["updated_at", "2016-04-14 02:52:19.489515"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:19.491416"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.493721"], ["updated_at", "2016-04-14 02:52:19.493721"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:19.495798"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:19.497968"], ["updated_at", "2016-04-14 02:52:19.497968"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:19.500180"], ["updated_at", "2016-04-14 02:52:19.500180"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:19.501945"], ["updated_at", "2016-04-14 02:52:19.501945"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:19.504134"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:19.506829"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:19.509208"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:19.511214"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:19.513234"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:19.515839"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/2/customers_with_pending_invoices" for 127.0.0.1 at 2016-04-13 20:52:19 -0600
Processing by Api::V1::Merchants::CustomersWithPendingInvoicesController#index as JSON
  Parameters: {"merchant_id"=>"2"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 2]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (15.0ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:19.560356"], ["updated_at", "2016-04-14 02:52:19.560356"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:19.563420"], ["updated_at", "2016-04-14 02:52:19.563420"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:19.565564"], ["updated_at", "2016-04-14 02:52:19.565564"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:19.567444"], ["updated_at", "2016-04-14 02:52:19.567444"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:19.569918"], ["updated_at", "2016-04-14 02:52:19.569918"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:19.572162"], ["updated_at", "2016-04-14 02:52:19.572162"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:19.574828"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:19.577700"], ["updated_at", "2016-04-14 02:52:19.577700"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:19.580187"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:19.582278"], ["updated_at", "2016-04-14 02:52:19.582278"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:19.584381"], ["updated_at", "2016-04-14 02:52:19.584381"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:19.586700"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.589693"], ["updated_at", "2016-04-14 02:52:19.589693"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:19.592428"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:19.595937"], ["updated_at", "2016-04-14 02:52:19.595937"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:19.598328"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.603031"], ["updated_at", "2016-04-14 02:52:19.603031"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:19.605210"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:19.607805"], ["updated_at", "2016-04-14 02:52:19.607805"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:19.609656"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.612323"], ["updated_at", "2016-04-14 02:52:19.612323"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:19.614260"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:19.617687"], ["updated_at", "2016-04-14 02:52:19.617687"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:19.619734"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:19.623142"], ["updated_at", "2016-04-14 02:52:19.623142"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:19.625391"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:19.628150"], ["updated_at", "2016-04-14 02:52:19.628150"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:19.630206"], ["id", 8]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.632950"], ["updated_at", "2016-04-14 02:52:19.632950"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:19.635036"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.637764"], ["updated_at", "2016-04-14 02:52:19.637764"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:19.640443"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.643190"], ["updated_at", "2016-04-14 02:52:19.643190"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:19.645019"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.647855"], ["updated_at", "2016-04-14 02:52:19.647855"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:19.649825"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.652140"], ["updated_at", "2016-04-14 02:52:19.652140"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:19.653929"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:19.656410"], ["updated_at", "2016-04-14 02:52:19.656410"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:19.658284"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.660555"], ["updated_at", "2016-04-14 02:52:19.660555"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:19.662339"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:19.664627"], ["updated_at", "2016-04-14 02:52:19.664627"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:19.666808"], ["updated_at", "2016-04-14 02:52:19.666808"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:19.668569"], ["updated_at", "2016-04-14 02:52:19.668569"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:19.670815"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:19.673666"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:19.676106"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:19.678095"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:19.680148"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:19.682537"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/2/customers_with_pending_invoices" for 127.0.0.1 at 2016-04-13 20:52:19 -0600
Processing by Api::V1::Merchants::CustomersWithPendingInvoicesController#index as JSON
  Parameters: {"merchant_id"=>"2"}
  [1m[35mMerchant Load (0.3ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 2]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (16.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:19.715401"], ["updated_at", "2016-04-14 02:52:19.715401"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:19.718397"], ["updated_at", "2016-04-14 02:52:19.718397"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:19.720604"], ["updated_at", "2016-04-14 02:52:19.720604"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:19.722725"], ["updated_at", "2016-04-14 02:52:19.722725"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:19.725290"], ["updated_at", "2016-04-14 02:52:19.725290"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:19.727144"], ["updated_at", "2016-04-14 02:52:19.727144"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:19.729378"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:19.732202"], ["updated_at", "2016-04-14 02:52:19.732202"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:19.735715"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:19.738815"], ["updated_at", "2016-04-14 02:52:19.738815"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:19.741453"], ["updated_at", "2016-04-14 02:52:19.741453"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:19.744130"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.747374"], ["updated_at", "2016-04-14 02:52:19.747374"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:19.751834"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:19.757015"], ["updated_at", "2016-04-14 02:52:19.757015"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:19.759515"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.763100"], ["updated_at", "2016-04-14 02:52:19.763100"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:19.767251"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:19.770288"], ["updated_at", "2016-04-14 02:52:19.770288"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:19.772319"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.775544"], ["updated_at", "2016-04-14 02:52:19.775544"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:19.777551"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:19.780543"], ["updated_at", "2016-04-14 02:52:19.780543"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:19.783076"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:19.787544"], ["updated_at", "2016-04-14 02:52:19.787544"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:19.790919"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:19.794160"], ["updated_at", "2016-04-14 02:52:19.794160"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:19.796222"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:19.799318"], ["updated_at", "2016-04-14 02:52:19.799318"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:19.802688"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.806605"], ["updated_at", "2016-04-14 02:52:19.806605"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:19.809787"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.812625"], ["updated_at", "2016-04-14 02:52:19.812625"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:19.814412"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.817003"], ["updated_at", "2016-04-14 02:52:19.817003"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:19.819121"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.821770"], ["updated_at", "2016-04-14 02:52:19.821770"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:19.823930"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:19.826853"], ["updated_at", "2016-04-14 02:52:19.826853"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:19.828548"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:19.830818"], ["updated_at", "2016-04-14 02:52:19.830818"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:19.832523"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:19.834908"], ["updated_at", "2016-04-14 02:52:19.834908"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:19.837958"], ["updated_at", "2016-04-14 02:52:19.837958"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:19.840072"], ["updated_at", "2016-04-14 02:52:19.840072"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:19.842329"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:19.844731"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:19.847079"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:19.848964"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:19.850995"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:19.853458"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/2/customers_with_pending_invoices" for 127.0.0.1 at 2016-04-13 20:52:19 -0600
Processing by Api::V1::Merchants::CustomersWithPendingInvoicesController#index as JSON
  Parameters: {"merchant_id"=>"2"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 2]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (15.7ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (2.0ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.5ms)[0m  select table_name from information_schema.views where table_schema = 'rails_engine_test'
  [1m[36m (23.5ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:58.892453"], ["updated_at", "2016-04-14 02:52:58.892453"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:58.898162"], ["updated_at", "2016-04-14 02:52:58.898162"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:58.900481"], ["updated_at", "2016-04-14 02:52:58.900481"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:58.911223"], ["updated_at", "2016-04-14 02:52:58.911223"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:58.913866"], ["updated_at", "2016-04-14 02:52:58.913866"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:58.915953"], ["updated_at", "2016-04-14 02:52:58.915953"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:58.928577"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:58.931681"], ["updated_at", "2016-04-14 02:52:58.931681"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:58.934130"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:58.936203"], ["updated_at", "2016-04-14 02:52:58.936203"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:58.938368"], ["updated_at", "2016-04-14 02:52:58.938368"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:58.940703"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:58.960939"], ["updated_at", "2016-04-14 02:52:58.960939"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:58.963720"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:58.971545"], ["updated_at", "2016-04-14 02:52:58.971545"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:58.974184"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:58.977248"], ["updated_at", "2016-04-14 02:52:58.977248"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:58.979239"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:58.981605"], ["updated_at", "2016-04-14 02:52:58.981605"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:58.983467"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:58.986195"], ["updated_at", "2016-04-14 02:52:58.986195"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:58.988422"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:58.991197"], ["updated_at", "2016-04-14 02:52:58.991197"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:58.993045"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:59.002983"], ["updated_at", "2016-04-14 02:52:59.002983"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:59.005244"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:59.008116"], ["updated_at", "2016-04-14 02:52:59.008116"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:59.010028"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.012325"], ["updated_at", "2016-04-14 02:52:59.012325"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:59.014342"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.027773"], ["updated_at", "2016-04-14 02:52:59.027773"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:59.031376"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.034460"], ["updated_at", "2016-04-14 02:52:59.034460"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:59.036478"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.039141"], ["updated_at", "2016-04-14 02:52:59.039141"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:59.041059"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.043960"], ["updated_at", "2016-04-14 02:52:59.043960"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:59.046688"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:59.049431"], ["updated_at", "2016-04-14 02:52:59.049431"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:59.051278"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.053724"], ["updated_at", "2016-04-14 02:52:59.053724"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:59.055988"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:59.062938"], ["updated_at", "2016-04-14 02:52:59.062938"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:59.065612"], ["updated_at", "2016-04-14 02:52:59.065612"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:59.067562"], ["updated_at", "2016-04-14 02:52:59.067562"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:59.070643"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:59.073822"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:59.076351"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:59.078496"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:59.080640"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:59.083182"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue" for 127.0.0.1 at 2016-04-13 20:52:59 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.3ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (1.82ms)
Completed 200 OK in 52ms (Views: 11.6ms | ActiveRecord: 1.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (27.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.1ms)[0m  ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:59.220710"], ["updated_at", "2016-04-14 02:52:59.220710"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:59.228618"], ["updated_at", "2016-04-14 02:52:59.228618"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:59.234594"], ["updated_at", "2016-04-14 02:52:59.234594"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:59.238916"], ["updated_at", "2016-04-14 02:52:59.238916"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:59.244059"], ["updated_at", "2016-04-14 02:52:59.244059"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:59.248175"], ["updated_at", "2016-04-14 02:52:59.248175"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:59.253699"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:59.259500"], ["updated_at", "2016-04-14 02:52:59.259500"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:59.265903"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:59.272302"], ["updated_at", "2016-04-14 02:52:59.272302"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:59.278512"], ["updated_at", "2016-04-14 02:52:59.278512"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:59.283011"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.288545"], ["updated_at", "2016-04-14 02:52:59.288545"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:59.291923"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:59.296202"], ["updated_at", "2016-04-14 02:52:59.296202"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:59.298902"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.303209"], ["updated_at", "2016-04-14 02:52:59.303209"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:59.306509"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:59.310077"], ["updated_at", "2016-04-14 02:52:59.310077"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:59.312485"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.315978"], ["updated_at", "2016-04-14 02:52:59.315978"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:59.319756"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:59.324792"], ["updated_at", "2016-04-14 02:52:59.324792"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:59.329143"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:59.333820"], ["updated_at", "2016-04-14 02:52:59.333820"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:59.336244"], ["id", 7]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:59.339538"], ["updated_at", "2016-04-14 02:52:59.339538"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:59.341627"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.354113"], ["updated_at", "2016-04-14 02:52:59.354113"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:59.356306"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.359003"], ["updated_at", "2016-04-14 02:52:59.359003"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:59.361893"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.364908"], ["updated_at", "2016-04-14 02:52:59.364908"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:59.366821"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.368952"], ["updated_at", "2016-04-14 02:52:59.368952"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:59.370563"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.373583"], ["updated_at", "2016-04-14 02:52:59.373583"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:59.375357"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:59.377723"], ["updated_at", "2016-04-14 02:52:59.377723"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:59.380373"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.383291"], ["updated_at", "2016-04-14 02:52:59.383291"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:59.385166"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:59.387410"], ["updated_at", "2016-04-14 02:52:59.387410"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:59.389985"], ["updated_at", "2016-04-14 02:52:59.389985"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:59.391932"], ["updated_at", "2016-04-14 02:52:59.391932"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:59.394162"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:59.396509"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:59.398767"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:59.400752"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:59.402783"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:59.405531"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue" for 127.0.0.1 at 2016-04-13 20:52:59 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.13ms)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 1.0ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (28.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:59.458134"], ["updated_at", "2016-04-14 02:52:59.458134"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:59.463855"], ["updated_at", "2016-04-14 02:52:59.463855"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:59.468130"], ["updated_at", "2016-04-14 02:52:59.468130"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:59.471812"], ["updated_at", "2016-04-14 02:52:59.471812"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:59.476263"], ["updated_at", "2016-04-14 02:52:59.476263"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:59.482154"], ["updated_at", "2016-04-14 02:52:59.482154"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:59.488027"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:59.495359"], ["updated_at", "2016-04-14 02:52:59.495359"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:59.503871"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:59.509859"], ["updated_at", "2016-04-14 02:52:59.509859"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:59.514061"], ["updated_at", "2016-04-14 02:52:59.514061"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:59.518070"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.521542"], ["updated_at", "2016-04-14 02:52:59.521542"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:59.524260"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:59.528462"], ["updated_at", "2016-04-14 02:52:59.528462"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:59.532192"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.535318"], ["updated_at", "2016-04-14 02:52:59.535318"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:59.537652"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:59.540350"], ["updated_at", "2016-04-14 02:52:59.540350"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:59.542458"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.545515"], ["updated_at", "2016-04-14 02:52:59.545515"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:59.547761"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:59.550812"], ["updated_at", "2016-04-14 02:52:59.550812"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:59.552662"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:59.555443"], ["updated_at", "2016-04-14 02:52:59.555443"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:59.557546"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:59.560349"], ["updated_at", "2016-04-14 02:52:59.560349"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:59.562245"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.564436"], ["updated_at", "2016-04-14 02:52:59.564436"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:59.566163"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.568347"], ["updated_at", "2016-04-14 02:52:59.568347"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:59.570423"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.573883"], ["updated_at", "2016-04-14 02:52:59.573883"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:59.576136"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.578865"], ["updated_at", "2016-04-14 02:52:59.578865"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:59.580622"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.583002"], ["updated_at", "2016-04-14 02:52:59.583002"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:59.584825"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:59.587222"], ["updated_at", "2016-04-14 02:52:59.587222"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:59.589017"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.591254"], ["updated_at", "2016-04-14 02:52:59.591254"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:59.592999"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:59.595049"], ["updated_at", "2016-04-14 02:52:59.595049"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:59.597250"], ["updated_at", "2016-04-14 02:52:59.597250"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:59.599255"], ["updated_at", "2016-04-14 02:52:59.599255"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:59.601876"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:59.604442"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:59.606812"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:59.608951"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:59.611125"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:59.614388"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue" for 127.0.0.1 at 2016-04-13 20:52:59 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.13ms)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.6ms)[0m  ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (28.6ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:59.665202"], ["updated_at", "2016-04-14 02:52:59.665202"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:59.668559"], ["updated_at", "2016-04-14 02:52:59.668559"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:59.670829"], ["updated_at", "2016-04-14 02:52:59.670829"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:59.674487"], ["updated_at", "2016-04-14 02:52:59.674487"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:59.677345"], ["updated_at", "2016-04-14 02:52:59.677345"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:59.679315"], ["updated_at", "2016-04-14 02:52:59.679315"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:59.681748"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:59.684914"], ["updated_at", "2016-04-14 02:52:59.684914"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:59.687525"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:59.689888"], ["updated_at", "2016-04-14 02:52:59.689888"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:59.692037"], ["updated_at", "2016-04-14 02:52:59.692037"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:59.694445"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.697880"], ["updated_at", "2016-04-14 02:52:59.697880"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:59.700777"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:59.703554"], ["updated_at", "2016-04-14 02:52:59.703554"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:59.705764"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.708537"], ["updated_at", "2016-04-14 02:52:59.708537"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:59.710969"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:59.714946"], ["updated_at", "2016-04-14 02:52:59.714946"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:59.717419"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.720298"], ["updated_at", "2016-04-14 02:52:59.720298"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:59.722337"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:59.725039"], ["updated_at", "2016-04-14 02:52:59.725039"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:59.726926"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:59.730616"], ["updated_at", "2016-04-14 02:52:59.730616"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:59.732848"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:59.735926"], ["updated_at", "2016-04-14 02:52:59.735926"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:59.738307"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.740789"], ["updated_at", "2016-04-14 02:52:59.740789"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:59.742617"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.745017"], ["updated_at", "2016-04-14 02:52:59.745017"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:59.747251"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.749809"], ["updated_at", "2016-04-14 02:52:59.749809"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:59.751642"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.753952"], ["updated_at", "2016-04-14 02:52:59.753952"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:59.756317"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.758660"], ["updated_at", "2016-04-14 02:52:59.758660"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:59.760412"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:59.763534"], ["updated_at", "2016-04-14 02:52:59.763534"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:59.765413"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.767802"], ["updated_at", "2016-04-14 02:52:59.767802"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:59.769556"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:59.771702"], ["updated_at", "2016-04-14 02:52:59.771702"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:59.773962"], ["updated_at", "2016-04-14 02:52:59.773962"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:59.775726"], ["updated_at", "2016-04-14 02:52:59.775726"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:59.777987"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:59.780399"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:59.782830"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:59.785001"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:59.787336"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:59.790115"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue?date=2012-03-16%2011:55:05" for 127.0.0.1 at 2016-04-13 20:52:59 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"date"=>"2012-03-16 11:55:05", "merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 AND "invoices"."created_at" = $3  [["merchant_id", 1], ["result", "success"], ["created_at", "2012-03-16 11:55:05"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.13ms)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (17.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:59.827927"], ["updated_at", "2016-04-14 02:52:59.827927"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:59.831071"], ["updated_at", "2016-04-14 02:52:59.831071"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:59.833447"], ["updated_at", "2016-04-14 02:52:59.833447"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:59.836411"], ["updated_at", "2016-04-14 02:52:59.836411"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:59.839255"], ["updated_at", "2016-04-14 02:52:59.839255"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:59.841383"], ["updated_at", "2016-04-14 02:52:59.841383"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:59.843683"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:59.847021"], ["updated_at", "2016-04-14 02:52:59.847021"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:59.849414"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:52:59.851482"], ["updated_at", "2016-04-14 02:52:59.851482"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:52:59.853479"], ["updated_at", "2016-04-14 02:52:59.853479"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:52:59.856081"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.858928"], ["updated_at", "2016-04-14 02:52:59.858928"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:59.862042"], ["id", 1]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:59.866854"], ["updated_at", "2016-04-14 02:52:59.866854"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:59.869047"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.872078"], ["updated_at", "2016-04-14 02:52:59.872078"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:59.874100"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:59.876798"], ["updated_at", "2016-04-14 02:52:59.876798"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:59.878808"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.881530"], ["updated_at", "2016-04-14 02:52:59.881530"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:59.883515"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:52:59.886420"], ["updated_at", "2016-04-14 02:52:59.886420"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:59.888379"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:59.891788"], ["updated_at", "2016-04-14 02:52:59.891788"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:59.893778"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:52:59.896421"], ["updated_at", "2016-04-14 02:52:59.896421"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:59.898219"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:52:59.900405"], ["updated_at", "2016-04-14 02:52:59.900405"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:59.902284"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.904956"], ["updated_at", "2016-04-14 02:52:59.904956"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:52:59.907405"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.909998"], ["updated_at", "2016-04-14 02:52:59.909998"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:52:59.911848"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.914148"], ["updated_at", "2016-04-14 02:52:59.914148"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:52:59.916322"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.918797"], ["updated_at", "2016-04-14 02:52:59.918797"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:52:59.920764"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:52:59.923107"], ["updated_at", "2016-04-14 02:52:59.923107"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:52:59.924844"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:52:59.927075"], ["updated_at", "2016-04-14 02:52:59.927075"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:52:59.928863"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:52:59.930797"], ["updated_at", "2016-04-14 02:52:59.930797"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:52:59.933606"], ["updated_at", "2016-04-14 02:52:59.933606"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:52:59.935644"], ["updated_at", "2016-04-14 02:52:59.935644"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:59.938464"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:52:59.941117"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:59.943764"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:59.945898"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:52:59.947934"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:52:59.950191"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue?date=2012-03-16%2011:55:05" for 127.0.0.1 at 2016-04-13 20:52:59 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"date"=>"2012-03-16 11:55:05", "merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 AND "invoices"."created_at" = $3  [["merchant_id", 1], ["result", "success"], ["created_at", "2012-03-16 11:55:05"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.13ms)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (17.5ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:52:59.986081"], ["updated_at", "2016-04-14 02:52:59.986081"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:52:59.988973"], ["updated_at", "2016-04-14 02:52:59.988973"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:52:59.991217"], ["updated_at", "2016-04-14 02:52:59.991217"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:59.993466"], ["updated_at", "2016-04-14 02:52:59.993466"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:59.995779"], ["updated_at", "2016-04-14 02:52:59.995779"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:52:59.997597"], ["updated_at", "2016-04-14 02:52:59.997597"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:52:59.999782"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:53:00.002562"], ["updated_at", "2016-04-14 02:53:00.002562"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:53:00.005618"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:53:00.007878"], ["updated_at", "2016-04-14 02:53:00.007878"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:53:00.010113"], ["updated_at", "2016-04-14 02:53:00.010113"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:53:00.012478"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.016353"], ["updated_at", "2016-04-14 02:53:00.016353"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.019781"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.023177"], ["updated_at", "2016-04-14 02:53:00.023177"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.025191"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.028076"], ["updated_at", "2016-04-14 02:53:00.028076"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.030665"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:53:00.034484"], ["updated_at", "2016-04-14 02:53:00.034484"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.036550"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.039873"], ["updated_at", "2016-04-14 02:53:00.039873"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:53:00.041857"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:53:00.045214"], ["updated_at", "2016-04-14 02:53:00.045214"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:53:00.047181"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.051286"], ["updated_at", "2016-04-14 02:53:00.051286"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:53:00.053563"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.056463"], ["updated_at", "2016-04-14 02:53:00.056463"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.058493"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.060851"], ["updated_at", "2016-04-14 02:53:00.060851"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.062741"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.065177"], ["updated_at", "2016-04-14 02:53:00.065177"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.067517"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.070304"], ["updated_at", "2016-04-14 02:53:00.070304"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.072204"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.074516"], ["updated_at", "2016-04-14 02:53:00.074516"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:53:00.076339"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.078776"], ["updated_at", "2016-04-14 02:53:00.078776"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:53:00.080487"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:53:00.082781"], ["updated_at", "2016-04-14 02:53:00.082781"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:53:00.084520"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.086739"], ["updated_at", "2016-04-14 02:53:00.086739"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.088513"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:53:00.090533"], ["updated_at", "2016-04-14 02:53:00.090533"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:53:00.092787"], ["updated_at", "2016-04-14 02:53:00.092787"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:53:00.094957"], ["updated_at", "2016-04-14 02:53:00.094957"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:53:00.097407"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:53:00.100097"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.103191"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.105554"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.107564"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:53:00.110050"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/revenue?date=2012-03-16%2011:55:05" for 127.0.0.1 at 2016-04-13 20:53:00 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"date"=>"2012-03-16 11:55:05", "merchant_id"=>"1"}
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.8ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 AND "invoices"."created_at" = $3  [["merchant_id", 1], ["result", "success"], ["created_at", "2012-03-16 11:55:05"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.15ms)
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 1.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (17.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:53:00.148263"], ["updated_at", "2016-04-14 02:53:00.148263"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:53:00.151342"], ["updated_at", "2016-04-14 02:53:00.151342"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:53:00.153538"], ["updated_at", "2016-04-14 02:53:00.153538"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:00.155751"], ["updated_at", "2016-04-14 02:53:00.155751"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:00.158207"], ["updated_at", "2016-04-14 02:53:00.158207"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:00.160073"], ["updated_at", "2016-04-14 02:53:00.160073"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:53:00.162318"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:53:00.165070"], ["updated_at", "2016-04-14 02:53:00.165070"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:53:00.167551"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:53:00.169624"], ["updated_at", "2016-04-14 02:53:00.169624"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:53:00.172001"], ["updated_at", "2016-04-14 02:53:00.172001"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:53:00.174675"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.177620"], ["updated_at", "2016-04-14 02:53:00.177620"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.180302"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.183517"], ["updated_at", "2016-04-14 02:53:00.183517"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.185503"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.188743"], ["updated_at", "2016-04-14 02:53:00.188743"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.192122"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:53:00.194717"], ["updated_at", "2016-04-14 02:53:00.194717"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.196914"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.201293"], ["updated_at", "2016-04-14 02:53:00.201293"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:53:00.203343"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:53:00.206190"], ["updated_at", "2016-04-14 02:53:00.206190"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:53:00.208061"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.211144"], ["updated_at", "2016-04-14 02:53:00.211144"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:53:00.213592"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.216206"], ["updated_at", "2016-04-14 02:53:00.216206"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.218182"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.220445"], ["updated_at", "2016-04-14 02:53:00.220445"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.222554"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.225156"], ["updated_at", "2016-04-14 02:53:00.225156"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.227445"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.230083"], ["updated_at", "2016-04-14 02:53:00.230083"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.231789"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.234080"], ["updated_at", "2016-04-14 02:53:00.234080"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:53:00.235866"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.238410"], ["updated_at", "2016-04-14 02:53:00.238410"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:53:00.240230"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:53:00.242850"], ["updated_at", "2016-04-14 02:53:00.242850"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:53:00.244665"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.247498"], ["updated_at", "2016-04-14 02:53:00.247498"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.249414"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:53:00.251509"], ["updated_at", "2016-04-14 02:53:00.251509"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:53:00.253871"], ["updated_at", "2016-04-14 02:53:00.253871"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:53:00.255938"], ["updated_at", "2016-04-14 02:53:00.255938"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:53:00.258236"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:53:00.260632"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.263016"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.265073"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.267256"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:53:00.269732"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/favorite_customer" for 127.0.0.1 at 2016-04-13 20:53:00 -0600
Processing by Api::V1::Merchants::FavoriteCustomerController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCustomer Load (1.3ms)[0m  SELECT  customers.*, COUNT(transactions.id) AS transaction_count FROM "customers" INNER JOIN "invoices" "invoices_customers_join" ON "invoices_customers_join"."customer_id" = "customers"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_customers_join"."id" INNER JOIN "invoices" ON "customers"."id" = "invoices"."customer_id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 GROUP BY "customers"."id"  ORDER BY transaction_count DESC LIMIT 1  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (1.24ms)
Completed 200 OK in 20ms (Views: 4.8ms | ActiveRecord: 1.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (18.1ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:53:00.329570"], ["updated_at", "2016-04-14 02:53:00.329570"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:53:00.332530"], ["updated_at", "2016-04-14 02:53:00.332530"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:53:00.334614"], ["updated_at", "2016-04-14 02:53:00.334614"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:00.336474"], ["updated_at", "2016-04-14 02:53:00.336474"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:00.338781"], ["updated_at", "2016-04-14 02:53:00.338781"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:00.340787"], ["updated_at", "2016-04-14 02:53:00.340787"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:53:00.343183"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:53:00.346139"], ["updated_at", "2016-04-14 02:53:00.346139"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:53:00.348576"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:53:00.350965"], ["updated_at", "2016-04-14 02:53:00.350965"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:53:00.353255"], ["updated_at", "2016-04-14 02:53:00.353255"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:53:00.355651"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.358425"], ["updated_at", "2016-04-14 02:53:00.358425"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.361098"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.364651"], ["updated_at", "2016-04-14 02:53:00.364651"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.366994"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.369866"], ["updated_at", "2016-04-14 02:53:00.369866"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.372021"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:53:00.374447"], ["updated_at", "2016-04-14 02:53:00.374447"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.376799"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.379784"], ["updated_at", "2016-04-14 02:53:00.379784"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:53:00.383257"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:53:00.386307"], ["updated_at", "2016-04-14 02:53:00.386307"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:53:00.388308"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.391255"], ["updated_at", "2016-04-14 02:53:00.391255"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:53:00.393114"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.395827"], ["updated_at", "2016-04-14 02:53:00.395827"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.397655"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.399785"], ["updated_at", "2016-04-14 02:53:00.399785"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.402565"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.405534"], ["updated_at", "2016-04-14 02:53:00.405534"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.407907"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.410525"], ["updated_at", "2016-04-14 02:53:00.410525"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.412353"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.414591"], ["updated_at", "2016-04-14 02:53:00.414591"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:53:00.416305"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.418652"], ["updated_at", "2016-04-14 02:53:00.418652"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:53:00.420442"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:53:00.422885"], ["updated_at", "2016-04-14 02:53:00.422885"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:53:00.424593"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.426855"], ["updated_at", "2016-04-14 02:53:00.426855"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.429111"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:53:00.431183"], ["updated_at", "2016-04-14 02:53:00.431183"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:53:00.433368"], ["updated_at", "2016-04-14 02:53:00.433368"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:53:00.435260"], ["updated_at", "2016-04-14 02:53:00.435260"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:53:00.437540"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:53:00.440178"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.442643"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.445051"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.447247"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:53:00.449528"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/favorite_customer" for 127.0.0.1 at 2016-04-13 20:53:00 -0600
Processing by Api::V1::Merchants::FavoriteCustomerController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCustomer Load (1.4ms)[0m  SELECT  customers.*, COUNT(transactions.id) AS transaction_count FROM "customers" INNER JOIN "invoices" "invoices_customers_join" ON "invoices_customers_join"."customer_id" = "customers"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_customers_join"."id" INNER JOIN "invoices" ON "customers"."id" = "invoices"."customer_id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 GROUP BY "customers"."id"  ORDER BY transaction_count DESC LIMIT 1  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.81ms)
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 1.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (16.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:53:00.488116"], ["updated_at", "2016-04-14 02:53:00.488116"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:53:00.491315"], ["updated_at", "2016-04-14 02:53:00.491315"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:53:00.493625"], ["updated_at", "2016-04-14 02:53:00.493625"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:00.495649"], ["updated_at", "2016-04-14 02:53:00.495649"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:00.497952"], ["updated_at", "2016-04-14 02:53:00.497952"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:00.499821"], ["updated_at", "2016-04-14 02:53:00.499821"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:53:00.502124"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:53:00.505129"], ["updated_at", "2016-04-14 02:53:00.505129"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:53:00.507793"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:53:00.510044"], ["updated_at", "2016-04-14 02:53:00.510044"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:53:00.516752"], ["updated_at", "2016-04-14 02:53:00.516752"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:53:00.519202"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.522779"], ["updated_at", "2016-04-14 02:53:00.522779"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.525541"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.528576"], ["updated_at", "2016-04-14 02:53:00.528576"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.532923"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.536577"], ["updated_at", "2016-04-14 02:53:00.536577"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.538821"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:53:00.541581"], ["updated_at", "2016-04-14 02:53:00.541581"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.543933"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.547657"], ["updated_at", "2016-04-14 02:53:00.547657"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:53:00.550440"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:53:00.553968"], ["updated_at", "2016-04-14 02:53:00.553968"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:53:00.556671"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.559625"], ["updated_at", "2016-04-14 02:53:00.559625"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:53:00.561628"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.564210"], ["updated_at", "2016-04-14 02:53:00.564210"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.566027"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.568375"], ["updated_at", "2016-04-14 02:53:00.568375"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.570246"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.572765"], ["updated_at", "2016-04-14 02:53:00.572765"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.575131"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.578044"], ["updated_at", "2016-04-14 02:53:00.578044"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.580037"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.583056"], ["updated_at", "2016-04-14 02:53:00.583056"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:53:00.586133"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.588966"], ["updated_at", "2016-04-14 02:53:00.588966"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:53:00.591045"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:53:00.593606"], ["updated_at", "2016-04-14 02:53:00.593606"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:53:00.595567"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.598272"], ["updated_at", "2016-04-14 02:53:00.598272"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.600343"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:53:00.603201"], ["updated_at", "2016-04-14 02:53:00.603201"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:53:00.605842"], ["updated_at", "2016-04-14 02:53:00.605842"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:53:00.607970"], ["updated_at", "2016-04-14 02:53:00.607970"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:53:00.610420"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:53:00.612959"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.617181"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.619648"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.622007"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:53:00.624709"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/favorite_customer" for 127.0.0.1 at 2016-04-13 20:53:00 -0600
Processing by Api::V1::Merchants::FavoriteCustomerController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCustomer Load (1.5ms)[0m  SELECT  customers.*, COUNT(transactions.id) AS transaction_count FROM "customers" INNER JOIN "invoices" "invoices_customers_join" ON "invoices_customers_join"."customer_id" = "customers"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_customers_join"."id" INNER JOIN "invoices" ON "customers"."id" = "invoices"."customer_id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 GROUP BY "customers"."id"  ORDER BY transaction_count DESC LIMIT 1  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.84ms)
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 1.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (19.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:53:00.665382"], ["updated_at", "2016-04-14 02:53:00.665382"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:53:00.668635"], ["updated_at", "2016-04-14 02:53:00.668635"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:53:00.671101"], ["updated_at", "2016-04-14 02:53:00.671101"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:00.673602"], ["updated_at", "2016-04-14 02:53:00.673602"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:00.676062"], ["updated_at", "2016-04-14 02:53:00.676062"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:00.678064"], ["updated_at", "2016-04-14 02:53:00.678064"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:53:00.680545"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:53:00.683466"], ["updated_at", "2016-04-14 02:53:00.683466"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:53:00.686435"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:53:00.688987"], ["updated_at", "2016-04-14 02:53:00.688987"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:53:00.691509"], ["updated_at", "2016-04-14 02:53:00.691509"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:53:00.694319"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.697940"], ["updated_at", "2016-04-14 02:53:00.697940"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.701138"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.704281"], ["updated_at", "2016-04-14 02:53:00.704281"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.706574"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.709912"], ["updated_at", "2016-04-14 02:53:00.709912"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.712307"], ["id", 3]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:53:00.716758"], ["updated_at", "2016-04-14 02:53:00.716758"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.718951"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.722669"], ["updated_at", "2016-04-14 02:53:00.722669"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:53:00.725833"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:53:00.729333"], ["updated_at", "2016-04-14 02:53:00.729333"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:53:00.731392"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.734705"], ["updated_at", "2016-04-14 02:53:00.734705"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:53:00.737188"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.740478"], ["updated_at", "2016-04-14 02:53:00.740478"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.742561"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.745088"], ["updated_at", "2016-04-14 02:53:00.745088"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.747282"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.749772"], ["updated_at", "2016-04-14 02:53:00.749772"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.752264"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.755021"], ["updated_at", "2016-04-14 02:53:00.755021"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.756903"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.759164"], ["updated_at", "2016-04-14 02:53:00.759164"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:53:00.761165"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.763968"], ["updated_at", "2016-04-14 02:53:00.763968"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:53:00.765693"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:53:00.768030"], ["updated_at", "2016-04-14 02:53:00.768030"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:53:00.769811"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.772271"], ["updated_at", "2016-04-14 02:53:00.772271"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.773983"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:53:00.775934"], ["updated_at", "2016-04-14 02:53:00.775934"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:53:00.778213"], ["updated_at", "2016-04-14 02:53:00.778213"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:53:00.780036"], ["updated_at", "2016-04-14 02:53:00.780036"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:53:00.782193"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:53:00.784576"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.787129"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.789522"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.791637"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:53:00.794139"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/2/customers_with_pending_invoices" for 127.0.0.1 at 2016-04-13 20:53:00 -0600
Processing by Api::V1::Merchants::CustomersWithPendingInvoicesController#index as JSON
  Parameters: {"merchant_id"=>"2"}
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 2]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (18.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:53:00.841642"], ["updated_at", "2016-04-14 02:53:00.841642"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:53:00.844588"], ["updated_at", "2016-04-14 02:53:00.844588"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:53:00.846852"], ["updated_at", "2016-04-14 02:53:00.846852"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:00.848965"], ["updated_at", "2016-04-14 02:53:00.848965"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:00.851436"], ["updated_at", "2016-04-14 02:53:00.851436"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:00.853387"], ["updated_at", "2016-04-14 02:53:00.853387"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:53:00.855827"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:53:00.858838"], ["updated_at", "2016-04-14 02:53:00.858838"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:53:00.861535"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:53:00.863747"], ["updated_at", "2016-04-14 02:53:00.863747"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:53:00.866729"], ["updated_at", "2016-04-14 02:53:00.866729"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:53:00.869390"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.872488"], ["updated_at", "2016-04-14 02:53:00.872488"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.875717"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.879150"], ["updated_at", "2016-04-14 02:53:00.879150"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.882945"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.886397"], ["updated_at", "2016-04-14 02:53:00.886397"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.888806"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:53:00.892398"], ["updated_at", "2016-04-14 02:53:00.892398"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.894955"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.898273"], ["updated_at", "2016-04-14 02:53:00.898273"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:53:00.900287"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:53:00.903480"], ["updated_at", "2016-04-14 02:53:00.903480"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:53:00.905912"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.908956"], ["updated_at", "2016-04-14 02:53:00.908956"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:53:00.911090"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:00.913904"], ["updated_at", "2016-04-14 02:53:00.913904"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.915927"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:00.918495"], ["updated_at", "2016-04-14 02:53:00.918495"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.920423"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.922931"], ["updated_at", "2016-04-14 02:53:00.922931"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:00.925193"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.927839"], ["updated_at", "2016-04-14 02:53:00.927839"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:00.929687"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.932379"], ["updated_at", "2016-04-14 02:53:00.932379"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:53:00.934429"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.936882"], ["updated_at", "2016-04-14 02:53:00.936882"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:53:00.938714"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:53:00.941303"], ["updated_at", "2016-04-14 02:53:00.941303"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:53:00.943688"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:00.946167"], ["updated_at", "2016-04-14 02:53:00.946167"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:00.947883"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:53:00.950055"], ["updated_at", "2016-04-14 02:53:00.950055"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:53:00.952458"], ["updated_at", "2016-04-14 02:53:00.952458"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:53:00.954557"], ["updated_at", "2016-04-14 02:53:00.954557"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:53:00.957165"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:53:00.959500"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.962096"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.964102"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:00.966154"], ["id", 6]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:53:00.968908"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/2/customers_with_pending_invoices" for 127.0.0.1 at 2016-04-13 20:53:00 -0600
Processing by Api::V1::Merchants::CustomersWithPendingInvoicesController#index as JSON
  Parameters: {"merchant_id"=>"2"}
  [1m[35mMerchant Load (0.3ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 2]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (17.5ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:53:01.003659"], ["updated_at", "2016-04-14 02:53:01.003659"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:53:01.006925"], ["updated_at", "2016-04-14 02:53:01.006925"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:53:01.009357"], ["updated_at", "2016-04-14 02:53:01.009357"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:01.011574"], ["updated_at", "2016-04-14 02:53:01.011574"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:01.013881"], ["updated_at", "2016-04-14 02:53:01.013881"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:01.015787"], ["updated_at", "2016-04-14 02:53:01.015787"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:53:01.017982"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:53:01.021071"], ["updated_at", "2016-04-14 02:53:01.021071"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:53:01.023821"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:53:01.025997"], ["updated_at", "2016-04-14 02:53:01.025997"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:53:01.028152"], ["updated_at", "2016-04-14 02:53:01.028152"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:53:01.030477"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:01.033417"], ["updated_at", "2016-04-14 02:53:01.033417"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:01.036109"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:01.039444"], ["updated_at", "2016-04-14 02:53:01.039444"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:01.041640"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:01.044623"], ["updated_at", "2016-04-14 02:53:01.044623"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:01.048032"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:53:01.051042"], ["updated_at", "2016-04-14 02:53:01.051042"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:01.053122"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:01.056276"], ["updated_at", "2016-04-14 02:53:01.056276"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:53:01.058239"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:53:01.061284"], ["updated_at", "2016-04-14 02:53:01.061284"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:53:01.063206"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:01.065947"], ["updated_at", "2016-04-14 02:53:01.065947"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:53:01.067947"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:01.070878"], ["updated_at", "2016-04-14 02:53:01.070878"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:01.073308"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:01.075616"], ["updated_at", "2016-04-14 02:53:01.075616"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:01.077498"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:01.079872"], ["updated_at", "2016-04-14 02:53:01.079872"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:01.082052"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:01.084608"], ["updated_at", "2016-04-14 02:53:01.084608"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:01.086357"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:01.088572"], ["updated_at", "2016-04-14 02:53:01.088572"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:53:01.090335"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:01.092510"], ["updated_at", "2016-04-14 02:53:01.092510"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:53:01.094288"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:53:01.097243"], ["updated_at", "2016-04-14 02:53:01.097243"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:53:01.099318"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:01.102224"], ["updated_at", "2016-04-14 02:53:01.102224"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:01.104186"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:53:01.106376"], ["updated_at", "2016-04-14 02:53:01.106376"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:53:01.109708"], ["updated_at", "2016-04-14 02:53:01.109708"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:53:01.112073"], ["updated_at", "2016-04-14 02:53:01.112073"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:53:01.114992"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:53:01.117851"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:01.120977"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:01.123655"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:01.125715"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:53:01.128025"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/2/customers_with_pending_invoices" for 127.0.0.1 at 2016-04-13 20:53:01 -0600
Processing by Api::V1::Merchants::CustomersWithPendingInvoicesController#index as JSON
  Parameters: {"merchant_id"=>"2"}
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 2]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (18.5ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (2.1ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.0ms)[0m  select table_name from information_schema.views where table_schema = 'rails_engine_test'
  [1m[36m (23.3ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:53:39.687074"], ["updated_at", "2016-04-14 02:53:39.687074"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:53:39.695131"], ["updated_at", "2016-04-14 02:53:39.695131"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:53:39.697695"], ["updated_at", "2016-04-14 02:53:39.697695"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:39.708078"], ["updated_at", "2016-04-14 02:53:39.708078"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:39.711438"], ["updated_at", "2016-04-14 02:53:39.711438"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:53:39.714082"], ["updated_at", "2016-04-14 02:53:39.714082"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:53:39.726500"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:53:39.729706"], ["updated_at", "2016-04-14 02:53:39.729706"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:53:39.732300"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:53:39.734680"], ["updated_at", "2016-04-14 02:53:39.734680"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:53:39.737442"], ["updated_at", "2016-04-14 02:53:39.737442"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:53:39.740573"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:39.762984"], ["updated_at", "2016-04-14 02:53:39.762984"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:39.769471"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:39.777533"], ["updated_at", "2016-04-14 02:53:39.777533"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:39.779654"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:39.782537"], ["updated_at", "2016-04-14 02:53:39.782537"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:39.784916"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:53:39.788105"], ["updated_at", "2016-04-14 02:53:39.788105"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:39.790173"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:39.793608"], ["updated_at", "2016-04-14 02:53:39.793608"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:53:39.795886"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:53:39.798888"], ["updated_at", "2016-04-14 02:53:39.798888"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:53:39.801310"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:39.804261"], ["updated_at", "2016-04-14 02:53:39.804261"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:53:39.806191"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:53:39.809267"], ["updated_at", "2016-04-14 02:53:39.809267"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:39.811201"], ["id", 8]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:53:39.820457"], ["updated_at", "2016-04-14 02:53:39.820457"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:39.822909"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:39.834665"], ["updated_at", "2016-04-14 02:53:39.834665"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:53:39.837527"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:39.841421"], ["updated_at", "2016-04-14 02:53:39.841421"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:53:39.843710"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:39.846645"], ["updated_at", "2016-04-14 02:53:39.846645"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:53:39.849073"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:39.851889"], ["updated_at", "2016-04-14 02:53:39.851889"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:53:39.853753"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:53:39.856245"], ["updated_at", "2016-04-14 02:53:39.856245"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:53:39.858343"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:53:39.860996"], ["updated_at", "2016-04-14 02:53:39.860996"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:53:39.862885"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:53:39.869711"], ["updated_at", "2016-04-14 02:53:39.869711"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:53:39.872514"], ["updated_at", "2016-04-14 02:53:39.872514"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:53:39.875149"], ["updated_at", "2016-04-14 02:53:39.875149"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:53:39.878388"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:53:39.881002"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:39.883815"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:39.886068"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:53:39.888491"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:53:39.891576"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:53:39 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (0.9ms)[0m  SELECT "merchants".* FROM "merchants" INNER JOIN "invoices" ON "merchants"."id" = "invoices"."merchant_id" WHERE "invoices"."customer_id" = $1  [["customer_id", 1]]
  [1m[36mMerchant Load (2.3ms)[0m  [1mSELECT merchants.*, COUNT(transactions.id) AS transaction_count FROM "merchants" INNER JOIN "invoices" "invoices_merchants_join" ON "invoices_merchants_join"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_merchants_join"."id" INNER JOIN "invoices" ON "merchants"."id" = "invoices"."merchant_id" WHERE "invoices"."customer_id" = $1 AND "transactions"."result" = $2 GROUP BY "merchants"."id"[0m  [["customer_id", 1], ["result", "success"]]
  [1m[35mMerchant Load (1.2ms)[0m  SELECT  merchants.*, COUNT(transactions.id) AS transaction_count FROM "merchants" INNER JOIN "invoices" "invoices_merchants_join" ON "invoices_merchants_join"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_merchants_join"."id" INNER JOIN "invoices" ON "merchants"."id" = "invoices"."merchant_id" WHERE "invoices"."customer_id" = $1 AND "transactions"."result" = $2 GROUP BY "merchants"."id"  ORDER BY transaction_count DESC LIMIT 1  [["customer_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Class (0.19ms)
Completed 200 OK in 136726ms (Views: 8.5ms | ActiveRecord: 4.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (20.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.2ms)[0m  ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:55:56.702010"], ["updated_at", "2016-04-14 02:55:56.702010"]]
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:55:56.715501"], ["updated_at", "2016-04-14 02:55:56.715501"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:55:56.720899"], ["updated_at", "2016-04-14 02:55:56.720899"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:55:56.725506"], ["updated_at", "2016-04-14 02:55:56.725506"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:55:56.731167"], ["updated_at", "2016-04-14 02:55:56.731167"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:55:56.735845"], ["updated_at", "2016-04-14 02:55:56.735845"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:55:56.742035"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:55:56.748205"], ["updated_at", "2016-04-14 02:55:56.748205"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:55:56.753515"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:55:56.757721"], ["updated_at", "2016-04-14 02:55:56.757721"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:55:56.761479"], ["updated_at", "2016-04-14 02:55:56.761479"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:55:56.765506"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:55:56.769787"], ["updated_at", "2016-04-14 02:55:56.769787"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:55:56.773006"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:55:56.775998"], ["updated_at", "2016-04-14 02:55:56.775998"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:55:56.778258"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:55:56.781408"], ["updated_at", "2016-04-14 02:55:56.781408"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:55:56.783688"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:55:56.786215"], ["updated_at", "2016-04-14 02:55:56.786215"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:55:56.788039"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:55:56.791247"], ["updated_at", "2016-04-14 02:55:56.791247"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:55:56.793497"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:55:56.796498"], ["updated_at", "2016-04-14 02:55:56.796498"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:55:56.798589"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:55:56.801580"], ["updated_at", "2016-04-14 02:55:56.801580"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:55:56.803526"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:55:56.806732"], ["updated_at", "2016-04-14 02:55:56.806732"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:55:56.809830"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:55:56.812425"], ["updated_at", "2016-04-14 02:55:56.812425"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:55:56.814375"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:55:56.817072"], ["updated_at", "2016-04-14 02:55:56.817072"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:55:56.819489"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:55:56.822117"], ["updated_at", "2016-04-14 02:55:56.822117"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:55:56.824262"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:55:56.827108"], ["updated_at", "2016-04-14 02:55:56.827108"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:55:56.828872"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:55:56.831438"], ["updated_at", "2016-04-14 02:55:56.831438"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:55:56.834019"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:55:56.836429"], ["updated_at", "2016-04-14 02:55:56.836429"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:55:56.838160"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:55:56.840553"], ["updated_at", "2016-04-14 02:55:56.840553"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:55:56.842348"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:55:56.844297"], ["updated_at", "2016-04-14 02:55:56.844297"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:55:56.846548"], ["updated_at", "2016-04-14 02:55:56.846548"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:55:56.848563"], ["updated_at", "2016-04-14 02:55:56.848563"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:55:56.850984"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:55:56.853388"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:55:56.855658"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:55:56.857932"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:55:56.860004"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:55:56.862318"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:55:56 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (2.0ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.6ms)[0m  select table_name from information_schema.views where table_schema = 'rails_engine_test'
  [1m[36m (17.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:56:03.264895"], ["updated_at", "2016-04-14 02:56:03.264895"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:56:03.271013"], ["updated_at", "2016-04-14 02:56:03.271013"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:56:03.273387"], ["updated_at", "2016-04-14 02:56:03.273387"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:03.284098"], ["updated_at", "2016-04-14 02:56:03.284098"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:03.286788"], ["updated_at", "2016-04-14 02:56:03.286788"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:03.288726"], ["updated_at", "2016-04-14 02:56:03.288726"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:56:03.300335"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:56:03.303745"], ["updated_at", "2016-04-14 02:56:03.303745"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:56:03.306659"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:56:03.309176"], ["updated_at", "2016-04-14 02:56:03.309176"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:56:03.311717"], ["updated_at", "2016-04-14 02:56:03.311717"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:56:03.314374"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:03.338351"], ["updated_at", "2016-04-14 02:56:03.338351"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:03.341349"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:03.348125"], ["updated_at", "2016-04-14 02:56:03.348125"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:03.350038"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:03.353596"], ["updated_at", "2016-04-14 02:56:03.353596"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:03.355716"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:56:03.358232"], ["updated_at", "2016-04-14 02:56:03.358232"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:03.360663"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:03.363835"], ["updated_at", "2016-04-14 02:56:03.363835"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:56:03.366203"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:56:03.369658"], ["updated_at", "2016-04-14 02:56:03.369658"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:56:03.371679"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:03.374616"], ["updated_at", "2016-04-14 02:56:03.374616"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:56:03.377522"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:03.380754"], ["updated_at", "2016-04-14 02:56:03.380754"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:03.382907"], ["id", 8]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:03.391807"], ["updated_at", "2016-04-14 02:56:03.391807"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:03.394251"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:03.405837"], ["updated_at", "2016-04-14 02:56:03.405837"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:03.408282"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:03.411321"], ["updated_at", "2016-04-14 02:56:03.411321"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:03.413362"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:03.415949"], ["updated_at", "2016-04-14 02:56:03.415949"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:56:03.418016"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:03.420829"], ["updated_at", "2016-04-14 02:56:03.420829"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:56:03.422596"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:56:03.425073"], ["updated_at", "2016-04-14 02:56:03.425073"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:56:03.426888"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:03.429567"], ["updated_at", "2016-04-14 02:56:03.429567"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:03.431431"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:56:03.437783"], ["updated_at", "2016-04-14 02:56:03.437783"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:56:03.440352"], ["updated_at", "2016-04-14 02:56:03.440352"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:56:03.442301"], ["updated_at", "2016-04-14 02:56:03.442301"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:56:03.445349"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:56:03.448009"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:03.450593"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:03.453898"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:03.456305"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:56:03.458849"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:56:03 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (1.8ms)[0m  SELECT  merchants.*, COUNT(transactions.id) AS transaction_count FROM "merchants" INNER JOIN "invoices" "invoices_merchants_join" ON "invoices_merchants_join"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_merchants_join"."id" INNER JOIN "invoices" ON "merchants"."id" = "invoices"."merchant_id" WHERE "invoices"."customer_id" = $1 AND "transactions"."result" = $2 GROUP BY "merchants"."id"  ORDER BY transaction_count DESC LIMIT 1  [["customer_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.94ms)
Completed 200 OK in 47ms (Views: 7.0ms | ActiveRecord: 2.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (20.5ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:56:03.582999"], ["updated_at", "2016-04-14 02:56:03.582999"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:56:03.590287"], ["updated_at", "2016-04-14 02:56:03.590287"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:56:03.595890"], ["updated_at", "2016-04-14 02:56:03.595890"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:03.601447"], ["updated_at", "2016-04-14 02:56:03.601447"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:03.606099"], ["updated_at", "2016-04-14 02:56:03.606099"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:03.610747"], ["updated_at", "2016-04-14 02:56:03.610747"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:56:03.616614"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:56:03.621965"], ["updated_at", "2016-04-14 02:56:03.621965"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:56:03.628071"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:56:03.633429"], ["updated_at", "2016-04-14 02:56:03.633429"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:56:03.639536"], ["updated_at", "2016-04-14 02:56:03.639536"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:56:03.645480"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:03.649996"], ["updated_at", "2016-04-14 02:56:03.649996"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:03.654855"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:03.659635"], ["updated_at", "2016-04-14 02:56:03.659635"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:03.662122"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:03.667657"], ["updated_at", "2016-04-14 02:56:03.667657"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:03.671084"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:56:03.676287"], ["updated_at", "2016-04-14 02:56:03.676287"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:03.679155"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:03.683745"], ["updated_at", "2016-04-14 02:56:03.683745"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:56:03.686396"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:56:03.690125"], ["updated_at", "2016-04-14 02:56:03.690125"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:56:03.692429"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:03.695296"], ["updated_at", "2016-04-14 02:56:03.695296"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:56:03.697478"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:03.700449"], ["updated_at", "2016-04-14 02:56:03.700449"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:03.702871"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:03.705435"], ["updated_at", "2016-04-14 02:56:03.705435"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:03.708495"], ["id", 9]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:03.720038"], ["updated_at", "2016-04-14 02:56:03.720038"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:03.722352"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:03.725737"], ["updated_at", "2016-04-14 02:56:03.725737"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:03.728551"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:03.731147"], ["updated_at", "2016-04-14 02:56:03.731147"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:56:03.733305"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:03.736209"], ["updated_at", "2016-04-14 02:56:03.736209"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:56:03.738052"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:56:03.740692"], ["updated_at", "2016-04-14 02:56:03.740692"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:56:03.742561"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:03.744947"], ["updated_at", "2016-04-14 02:56:03.744947"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:03.746757"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:56:03.748731"], ["updated_at", "2016-04-14 02:56:03.748731"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:56:03.751152"], ["updated_at", "2016-04-14 02:56:03.751152"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:56:03.753139"], ["updated_at", "2016-04-14 02:56:03.753139"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:56:03.755379"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:56:03.757716"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:03.760369"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:03.762662"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:03.764738"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:56:03.767049"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:56:03 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (1.2ms)[0m  SELECT  merchants.*, COUNT(transactions.id) AS transaction_count FROM "merchants" INNER JOIN "invoices" "invoices_merchants_join" ON "invoices_merchants_join"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_merchants_join"."id" INNER JOIN "invoices" ON "merchants"."id" = "invoices"."merchant_id" WHERE "invoices"."customer_id" = $1 AND "transactions"."result" = $2 GROUP BY "merchants"."id"  ORDER BY transaction_count DESC LIMIT 1  [["customer_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.84ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 1.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (20.6ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:56:03.812133"], ["updated_at", "2016-04-14 02:56:03.812133"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:56:03.817835"], ["updated_at", "2016-04-14 02:56:03.817835"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:56:03.822586"], ["updated_at", "2016-04-14 02:56:03.822586"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:03.826530"], ["updated_at", "2016-04-14 02:56:03.826530"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:03.830468"], ["updated_at", "2016-04-14 02:56:03.830468"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:03.834388"], ["updated_at", "2016-04-14 02:56:03.834388"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:56:03.838778"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:56:03.843750"], ["updated_at", "2016-04-14 02:56:03.843750"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:56:03.847862"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:56:03.851576"], ["updated_at", "2016-04-14 02:56:03.851576"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:56:03.855261"], ["updated_at", "2016-04-14 02:56:03.855261"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:56:03.859879"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:03.865753"], ["updated_at", "2016-04-14 02:56:03.865753"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:03.870823"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:03.873798"], ["updated_at", "2016-04-14 02:56:03.873798"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:03.875769"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:03.878561"], ["updated_at", "2016-04-14 02:56:03.878561"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:03.880770"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:56:03.883563"], ["updated_at", "2016-04-14 02:56:03.883563"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:03.886428"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:03.890145"], ["updated_at", "2016-04-14 02:56:03.890145"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:56:03.891911"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:56:03.894847"], ["updated_at", "2016-04-14 02:56:03.894847"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:56:03.897308"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:03.900206"], ["updated_at", "2016-04-14 02:56:03.900206"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:56:03.902175"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:03.904692"], ["updated_at", "2016-04-14 02:56:03.904692"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:03.906511"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:03.908670"], ["updated_at", "2016-04-14 02:56:03.908670"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:03.910495"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:03.913486"], ["updated_at", "2016-04-14 02:56:03.913486"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:03.916546"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:03.919715"], ["updated_at", "2016-04-14 02:56:03.919715"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:03.921488"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:03.923757"], ["updated_at", "2016-04-14 02:56:03.923757"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:56:03.925482"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:03.927957"], ["updated_at", "2016-04-14 02:56:03.927957"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:56:03.929798"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:56:03.932045"], ["updated_at", "2016-04-14 02:56:03.932045"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:56:03.933898"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:03.936550"], ["updated_at", "2016-04-14 02:56:03.936550"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:03.938677"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:56:03.940742"], ["updated_at", "2016-04-14 02:56:03.940742"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:56:03.942956"], ["updated_at", "2016-04-14 02:56:03.942956"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:56:03.945324"], ["updated_at", "2016-04-14 02:56:03.945324"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:56:03.948521"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:56:03.951595"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:03.955440"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:03.957512"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:03.959480"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:56:03.961661"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:56:03 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (1.2ms)[0m  SELECT  merchants.*, COUNT(transactions.id) AS transaction_count FROM "merchants" INNER JOIN "invoices" "invoices_merchants_join" ON "invoices_merchants_join"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_merchants_join"."id" INNER JOIN "invoices" ON "merchants"."id" = "invoices"."merchant_id" WHERE "invoices"."customer_id" = $1 AND "transactions"."result" = $2 GROUP BY "merchants"."id"  ORDER BY transaction_count DESC LIMIT 1  [["customer_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.78ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 1.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (20.2ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (2.0ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'rails_engine_test'
  [1m[36m (18.2ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:56:28.988812"], ["updated_at", "2016-04-14 02:56:28.988812"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:56:28.995325"], ["updated_at", "2016-04-14 02:56:28.995325"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:56:28.998030"], ["updated_at", "2016-04-14 02:56:28.998030"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:29.008260"], ["updated_at", "2016-04-14 02:56:29.008260"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:29.010903"], ["updated_at", "2016-04-14 02:56:29.010903"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:29.012980"], ["updated_at", "2016-04-14 02:56:29.012980"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:56:29.025815"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:56:29.029249"], ["updated_at", "2016-04-14 02:56:29.029249"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:56:29.032242"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:56:29.034434"], ["updated_at", "2016-04-14 02:56:29.034434"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:56:29.036649"], ["updated_at", "2016-04-14 02:56:29.036649"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:56:29.039520"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:29.061582"], ["updated_at", "2016-04-14 02:56:29.061582"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:29.067144"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:29.074902"], ["updated_at", "2016-04-14 02:56:29.074902"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:29.077351"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:29.081018"], ["updated_at", "2016-04-14 02:56:29.081018"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:29.083124"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:56:29.085903"], ["updated_at", "2016-04-14 02:56:29.085903"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:29.088239"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:29.091206"], ["updated_at", "2016-04-14 02:56:29.091206"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:56:29.093154"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:56:29.096564"], ["updated_at", "2016-04-14 02:56:29.096564"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:56:29.098660"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:29.102470"], ["updated_at", "2016-04-14 02:56:29.102470"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:56:29.105486"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:29.108774"], ["updated_at", "2016-04-14 02:56:29.108774"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:29.110749"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:29.120100"], ["updated_at", "2016-04-14 02:56:29.120100"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:29.122568"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:29.135107"], ["updated_at", "2016-04-14 02:56:29.135107"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:29.138238"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:29.141337"], ["updated_at", "2016-04-14 02:56:29.141337"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:29.143178"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:29.147068"], ["updated_at", "2016-04-14 02:56:29.147068"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:56:29.149344"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:29.152234"], ["updated_at", "2016-04-14 02:56:29.152234"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:56:29.155439"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:56:29.158758"], ["updated_at", "2016-04-14 02:56:29.158758"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:56:29.160870"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:29.164598"], ["updated_at", "2016-04-14 02:56:29.164598"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:29.166649"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:56:29.173881"], ["updated_at", "2016-04-14 02:56:29.173881"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:56:29.176576"], ["updated_at", "2016-04-14 02:56:29.176576"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:56:29.178659"], ["updated_at", "2016-04-14 02:56:29.178659"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:56:29.182233"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:56:29.185461"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:29.188284"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:29.190467"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:29.192646"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:56:29.195104"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:56:29 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (1.8ms)[0m  SELECT  merchants.*, COUNT(transactions.id) AS transaction_count FROM "merchants" INNER JOIN "invoices" "invoices_merchants_join" ON "invoices_merchants_join"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_merchants_join"."id" INNER JOIN "invoices" ON "merchants"."id" = "invoices"."merchant_id" WHERE "invoices"."customer_id" = $1 AND "transactions"."result" = $2 GROUP BY "merchants"."id"  ORDER BY transaction_count DESC LIMIT 1  [["customer_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (1.52ms)
Completed 200 OK in 52ms (Views: 8.5ms | ActiveRecord: 2.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (20.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:56:29.323189"], ["updated_at", "2016-04-14 02:56:29.323189"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:56:29.330848"], ["updated_at", "2016-04-14 02:56:29.330848"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:56:29.337290"], ["updated_at", "2016-04-14 02:56:29.337290"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:29.344022"], ["updated_at", "2016-04-14 02:56:29.344022"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:29.350352"], ["updated_at", "2016-04-14 02:56:29.350352"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:29.356331"], ["updated_at", "2016-04-14 02:56:29.356331"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:56:29.362791"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:56:29.369761"], ["updated_at", "2016-04-14 02:56:29.369761"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:56:29.376876"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:56:29.383701"], ["updated_at", "2016-04-14 02:56:29.383701"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:56:29.389697"], ["updated_at", "2016-04-14 02:56:29.389697"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:56:29.393663"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:29.399909"], ["updated_at", "2016-04-14 02:56:29.399909"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:29.402955"], ["id", 1]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:29.407452"], ["updated_at", "2016-04-14 02:56:29.407452"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:29.411055"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:29.415923"], ["updated_at", "2016-04-14 02:56:29.415923"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:29.418651"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:56:29.422960"], ["updated_at", "2016-04-14 02:56:29.422960"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:29.425439"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:29.430745"], ["updated_at", "2016-04-14 02:56:29.430745"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:56:29.434955"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:56:29.439346"], ["updated_at", "2016-04-14 02:56:29.439346"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:56:29.442505"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:29.447640"], ["updated_at", "2016-04-14 02:56:29.447640"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:56:29.450993"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:29.454165"], ["updated_at", "2016-04-14 02:56:29.454165"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:29.456656"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:29.459717"], ["updated_at", "2016-04-14 02:56:29.459717"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:29.463369"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:29.475697"], ["updated_at", "2016-04-14 02:56:29.475697"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:29.478716"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:29.481700"], ["updated_at", "2016-04-14 02:56:29.481700"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:29.483555"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:29.485876"], ["updated_at", "2016-04-14 02:56:29.485876"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:56:29.488683"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:29.492296"], ["updated_at", "2016-04-14 02:56:29.492296"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:56:29.495259"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:56:29.497755"], ["updated_at", "2016-04-14 02:56:29.497755"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:56:29.499645"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:29.501955"], ["updated_at", "2016-04-14 02:56:29.501955"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:29.503631"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:56:29.505937"], ["updated_at", "2016-04-14 02:56:29.505937"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:56:29.508343"], ["updated_at", "2016-04-14 02:56:29.508343"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:56:29.510191"], ["updated_at", "2016-04-14 02:56:29.510191"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:56:29.513184"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:56:29.516059"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:29.518257"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:29.521104"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:29.523927"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:56:29.526377"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:56:29 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (1.4ms)[0m  SELECT  merchants.*, COUNT(transactions.id) AS transaction_count FROM "merchants" INNER JOIN "invoices" "invoices_merchants_join" ON "invoices_merchants_join"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_merchants_join"."id" INNER JOIN "invoices" ON "merchants"."id" = "invoices"."merchant_id" WHERE "invoices"."customer_id" = $1 AND "transactions"."result" = $2 GROUP BY "merchants"."id"  ORDER BY transaction_count DESC LIMIT 1  [["customer_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (1.23ms)
Completed 200 OK in 7ms (Views: 1.7ms | ActiveRecord: 1.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (22.5ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:56:29.574889"], ["updated_at", "2016-04-14 02:56:29.574889"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:56:29.581424"], ["updated_at", "2016-04-14 02:56:29.581424"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:56:29.586003"], ["updated_at", "2016-04-14 02:56:29.586003"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:29.590892"], ["updated_at", "2016-04-14 02:56:29.590892"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:29.596025"], ["updated_at", "2016-04-14 02:56:29.596025"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:56:29.600465"], ["updated_at", "2016-04-14 02:56:29.600465"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:56:29.605290"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:56:29.610986"], ["updated_at", "2016-04-14 02:56:29.610986"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:56:29.616703"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:56:29.620887"], ["updated_at", "2016-04-14 02:56:29.620887"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:56:29.624941"], ["updated_at", "2016-04-14 02:56:29.624941"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:56:29.630445"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:29.636779"], ["updated_at", "2016-04-14 02:56:29.636779"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:29.642367"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:29.645707"], ["updated_at", "2016-04-14 02:56:29.645707"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:29.648109"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:29.650949"], ["updated_at", "2016-04-14 02:56:29.650949"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:29.652905"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:56:29.656016"], ["updated_at", "2016-04-14 02:56:29.656016"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:29.658866"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:29.661858"], ["updated_at", "2016-04-14 02:56:29.661858"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:56:29.664093"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:56:29.667500"], ["updated_at", "2016-04-14 02:56:29.667500"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:56:29.669514"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:29.672794"], ["updated_at", "2016-04-14 02:56:29.672794"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:56:29.674733"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:56:29.677443"], ["updated_at", "2016-04-14 02:56:29.677443"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:29.679489"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:56:29.681994"], ["updated_at", "2016-04-14 02:56:29.681994"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:29.683891"], ["id", 9]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:29.687338"], ["updated_at", "2016-04-14 02:56:29.687338"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:56:29.690103"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:29.693213"], ["updated_at", "2016-04-14 02:56:29.693213"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:56:29.695156"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:29.698284"], ["updated_at", "2016-04-14 02:56:29.698284"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:56:29.700073"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:29.702351"], ["updated_at", "2016-04-14 02:56:29.702351"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:56:29.704472"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:56:29.707010"], ["updated_at", "2016-04-14 02:56:29.707010"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:56:29.708729"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:56:29.711089"], ["updated_at", "2016-04-14 02:56:29.711089"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:56:29.714352"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:56:29.716953"], ["updated_at", "2016-04-14 02:56:29.716953"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:56:29.719396"], ["updated_at", "2016-04-14 02:56:29.719396"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:56:29.721514"], ["updated_at", "2016-04-14 02:56:29.721514"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:56:29.723997"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:56:29.726616"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:29.729455"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:29.732219"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:56:29.734274"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:56:29.736545"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:56:29 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (1.3ms)[0m  SELECT  merchants.*, COUNT(transactions.id) AS transaction_count FROM "merchants" INNER JOIN "invoices" "invoices_merchants_join" ON "invoices_merchants_join"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_merchants_join"."id" INNER JOIN "invoices" ON "merchants"."id" = "invoices"."merchant_id" WHERE "invoices"."customer_id" = $1 AND "transactions"."result" = $2 GROUP BY "merchants"."id"  ORDER BY transaction_count DESC LIMIT 1  [["customer_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.77ms)
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 1.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (21.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (2.8ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  select table_name from information_schema.views where table_schema = 'rails_engine_test'
  [1m[36m (17.6ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:03.839282"], ["updated_at", "2016-04-14 02:57:03.839282"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:03.846738"], ["updated_at", "2016-04-14 02:57:03.846738"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:03.849229"], ["updated_at", "2016-04-14 02:57:03.849229"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:03.859303"], ["updated_at", "2016-04-14 02:57:03.859303"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:03.861854"], ["updated_at", "2016-04-14 02:57:03.861854"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:03.863698"], ["updated_at", "2016-04-14 02:57:03.863698"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:03.875230"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:03.878636"], ["updated_at", "2016-04-14 02:57:03.878636"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:03.881242"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:03.883681"], ["updated_at", "2016-04-14 02:57:03.883681"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:03.885913"], ["updated_at", "2016-04-14 02:57:03.885913"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:03.888653"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:03.907419"], ["updated_at", "2016-04-14 02:57:03.907419"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:03.910437"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:03.916781"], ["updated_at", "2016-04-14 02:57:03.916781"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:03.918873"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:03.922090"], ["updated_at", "2016-04-14 02:57:03.922090"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:03.924237"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:03.927114"], ["updated_at", "2016-04-14 02:57:03.927114"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:03.929165"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:03.932324"], ["updated_at", "2016-04-14 02:57:03.932324"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:03.934309"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:03.937344"], ["updated_at", "2016-04-14 02:57:03.937344"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:03.939355"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:03.942196"], ["updated_at", "2016-04-14 02:57:03.942196"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:03.944100"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:03.946936"], ["updated_at", "2016-04-14 02:57:03.946936"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:03.948806"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:03.958108"], ["updated_at", "2016-04-14 02:57:03.958108"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:03.960430"], ["id", 9]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:03.971671"], ["updated_at", "2016-04-14 02:57:03.971671"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:03.974268"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:03.977324"], ["updated_at", "2016-04-14 02:57:03.977324"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:03.979541"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:03.982163"], ["updated_at", "2016-04-14 02:57:03.982163"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:03.984127"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:03.986722"], ["updated_at", "2016-04-14 02:57:03.986722"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:03.988693"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:03.991200"], ["updated_at", "2016-04-14 02:57:03.991200"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:03.993055"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:03.996137"], ["updated_at", "2016-04-14 02:57:03.996137"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:03.998185"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:04.004662"], ["updated_at", "2016-04-14 02:57:04.004662"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:04.007272"], ["updated_at", "2016-04-14 02:57:04.007272"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:04.009256"], ["updated_at", "2016-04-14 02:57:04.009256"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:04.012184"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:04.014852"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:04.017357"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:04.019416"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:04.022842"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:04.026122"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:57:04 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (1.6ms)[0m  SELECT  merchants.*, COUNT(transactions.id) AS transaction_count FROM "merchants" INNER JOIN "invoices" "invoices_merchants_join" ON "invoices_merchants_join"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_merchants_join"."id" INNER JOIN "invoices" ON "merchants"."id" = "invoices"."merchant_id" WHERE "invoices"."customer_id" = $1 AND "transactions"."result" = $2 GROUP BY "merchants"."id"  ORDER BY transaction_count DESC LIMIT 1  [["customer_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (1.38ms)
Completed 200 OK in 48ms (Views: 8.6ms | ActiveRecord: 2.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (20.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.1ms)[0m  ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (1.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:04.149078"], ["updated_at", "2016-04-14 02:57:04.149078"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:04.155447"], ["updated_at", "2016-04-14 02:57:04.155447"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:04.162193"], ["updated_at", "2016-04-14 02:57:04.162193"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:04.168170"], ["updated_at", "2016-04-14 02:57:04.168170"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:04.174091"], ["updated_at", "2016-04-14 02:57:04.174091"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:04.178337"], ["updated_at", "2016-04-14 02:57:04.178337"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:04.184565"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:04.190232"], ["updated_at", "2016-04-14 02:57:04.190232"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:04.195191"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:04.202270"], ["updated_at", "2016-04-14 02:57:04.202270"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:04.207796"], ["updated_at", "2016-04-14 02:57:04.207796"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:04.213748"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:04.219043"], ["updated_at", "2016-04-14 02:57:04.219043"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:04.223565"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:04.227544"], ["updated_at", "2016-04-14 02:57:04.227544"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:04.230188"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:04.234153"], ["updated_at", "2016-04-14 02:57:04.234153"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:04.237311"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:04.240912"], ["updated_at", "2016-04-14 02:57:04.240912"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:04.243258"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:04.247545"], ["updated_at", "2016-04-14 02:57:04.247545"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:04.249871"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:04.254633"], ["updated_at", "2016-04-14 02:57:04.254633"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:04.256940"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:04.261159"], ["updated_at", "2016-04-14 02:57:04.261159"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:04.264638"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:04.267746"], ["updated_at", "2016-04-14 02:57:04.267746"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:04.270144"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:04.272831"], ["updated_at", "2016-04-14 02:57:04.272831"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:04.274827"], ["id", 9]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:04.288154"], ["updated_at", "2016-04-14 02:57:04.288154"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:04.291147"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:04.293999"], ["updated_at", "2016-04-14 02:57:04.293999"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:04.295783"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:04.298269"], ["updated_at", "2016-04-14 02:57:04.298269"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:04.299970"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:04.302244"], ["updated_at", "2016-04-14 02:57:04.302244"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:04.304051"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:04.306419"], ["updated_at", "2016-04-14 02:57:04.306419"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:04.308119"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:04.310344"], ["updated_at", "2016-04-14 02:57:04.310344"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:04.312156"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:04.314609"], ["updated_at", "2016-04-14 02:57:04.314609"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:04.316887"], ["updated_at", "2016-04-14 02:57:04.316887"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:04.318781"], ["updated_at", "2016-04-14 02:57:04.318781"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:04.321157"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:04.323489"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:04.326339"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:04.328864"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:04.331040"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:04.333347"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:57:04 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (1.3ms)[0m  SELECT  merchants.*, COUNT(transactions.id) AS transaction_count FROM "merchants" INNER JOIN "invoices" "invoices_merchants_join" ON "invoices_merchants_join"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_merchants_join"."id" INNER JOIN "invoices" ON "merchants"."id" = "invoices"."merchant_id" WHERE "invoices"."customer_id" = $1 AND "transactions"."result" = $2 GROUP BY "merchants"."id"  ORDER BY transaction_count DESC LIMIT 1  [["customer_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.89ms)
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 1.6ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (22.5ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:04.380984"], ["updated_at", "2016-04-14 02:57:04.380984"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:04.386123"], ["updated_at", "2016-04-14 02:57:04.386123"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:04.390678"], ["updated_at", "2016-04-14 02:57:04.390678"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:04.395380"], ["updated_at", "2016-04-14 02:57:04.395380"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:04.399595"], ["updated_at", "2016-04-14 02:57:04.399595"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:04.403442"], ["updated_at", "2016-04-14 02:57:04.403442"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:04.407882"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:04.412816"], ["updated_at", "2016-04-14 02:57:04.412816"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:04.417345"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:04.421487"], ["updated_at", "2016-04-14 02:57:04.421487"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:04.425670"], ["updated_at", "2016-04-14 02:57:04.425670"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:04.431901"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:04.438398"], ["updated_at", "2016-04-14 02:57:04.438398"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:04.443027"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:04.448543"], ["updated_at", "2016-04-14 02:57:04.448543"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:04.452305"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:04.455828"], ["updated_at", "2016-04-14 02:57:04.455828"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:04.458041"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:04.460594"], ["updated_at", "2016-04-14 02:57:04.460594"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:04.462477"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:04.465602"], ["updated_at", "2016-04-14 02:57:04.465602"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:04.467698"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:04.471204"], ["updated_at", "2016-04-14 02:57:04.471204"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:04.473219"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:04.475975"], ["updated_at", "2016-04-14 02:57:04.475975"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:04.477877"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:04.480441"], ["updated_at", "2016-04-14 02:57:04.480441"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:04.482403"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:04.484708"], ["updated_at", "2016-04-14 02:57:04.484708"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:04.486795"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:04.489346"], ["updated_at", "2016-04-14 02:57:04.489346"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:04.492001"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:04.494639"], ["updated_at", "2016-04-14 02:57:04.494639"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:04.496389"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:04.498736"], ["updated_at", "2016-04-14 02:57:04.498736"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:04.502139"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:04.505373"], ["updated_at", "2016-04-14 02:57:04.505373"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:04.507746"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:04.510167"], ["updated_at", "2016-04-14 02:57:04.510167"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:04.511875"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:04.514184"], ["updated_at", "2016-04-14 02:57:04.514184"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:04.516133"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:04.518454"], ["updated_at", "2016-04-14 02:57:04.518454"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:04.521085"], ["updated_at", "2016-04-14 02:57:04.521085"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:04.523115"], ["updated_at", "2016-04-14 02:57:04.523115"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:04.525320"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:04.527644"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:04.529971"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:04.532091"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:04.534337"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:04.537018"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:57:04 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (1.2ms)[0m  SELECT  merchants.*, COUNT(transactions.id) AS transaction_count FROM "merchants" INNER JOIN "invoices" "invoices_merchants_join" ON "invoices_merchants_join"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_merchants_join"."id" INNER JOIN "invoices" ON "merchants"."id" = "invoices"."merchant_id" WHERE "invoices"."customer_id" = $1 AND "transactions"."result" = $2 GROUP BY "merchants"."id"  ORDER BY transaction_count DESC LIMIT 1  [["customer_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.84ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 1.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (21.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (2.3ms)[0m  [1m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
            tablename <> 'schema_migrations' AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  select table_name from information_schema.views where table_schema = 'rails_engine_test'
  [1m[36m (18.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "customers"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (20.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:14.593087"], ["updated_at", "2016-04-14 02:57:14.593087"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (23.1ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.8ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (23.9ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (25.0ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (19.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (14.6ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "invoice_items"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (15.1ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "invoice_items"
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (16.1ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:14.855678"], ["updated_at", "2016-04-14 02:57:14.855678"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (22.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.4ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (16.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (8.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (16.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (2.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (14.2ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (15.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "invoices"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (17.2ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:15.029245"], ["updated_at", "2016-04-14 02:57:15.029245"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (14.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (16.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (15.1ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL[0m
  [1m[35m (16.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.6ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL
  [1m[36m (16.3ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL[0m
  [1m[35m (16.2ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL
  [1m[36m (15.3ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "items"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (15.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:15.226856"], ["updated_at", "2016-04-14 02:57:15.226856"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (16.6ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:15.253147"], ["updated_at", "2016-04-14 02:57:15.253147"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (17.0ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (3.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (6.6ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (15.7ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (17.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (16.8ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (15.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "merchants"
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (16.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:15.415902"], ["updated_at", "2016-04-14 02:57:15.415902"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (15.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (15.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (16.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (17.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (17.2ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:15.546732"], ["updated_at", "2016-04-14 02:57:15.546732"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (17.6ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.5ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (18.1ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (5.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (17.6ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL
  [1m[36m (19.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:15.659779"], ["updated_at", "2016-04-14 02:57:15.659779"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers" for 127.0.0.1 at 2016-04-13 20:57:15 -0600
Processing by Api::V1::CustomersController#index as JSON
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT "customers".* FROM "customers"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Customer::ActiveRecord_Relation (0.27ms)
Completed 200 OK in 19ms (Views: 8.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL[0m
  [1m[35m (18.5ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:15.742692"], ["updated_at", "2016-04-14 02:57:15.742692"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/customers" for 127.0.0.1 at 2016-04-13 20:57:15 -0600
Processing by Api::V1::CustomersController#index as JSON
  [1m[35mCustomer Load (0.3ms)[0m  SELECT "customers".* FROM "customers"
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Customer::ActiveRecord_Relation (0.37ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL
  [1m[36m (18.5ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:15.777572"], ["updated_at", "2016-04-14 02:57:15.777572"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers" for 127.0.0.1 at 2016-04-13 20:57:15 -0600
Processing by Api::V1::CustomersController#index as JSON
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT "customers".* FROM "customers"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Customer::ActiveRecord_Relation (0.21ms)
Completed 200 OK in 2ms (Views: 1.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL[0m
  [1m[35m (18.7ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:15.811745"], ["updated_at", "2016-04-14 02:57:15.811745"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/customers/1" for 127.0.0.1 at 2016-04-13 20:57:15 -0600
Processing by Api::V1::CustomersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mCustomer Load (0.3ms)[0m  SELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (1.2ms)
Completed 200 OK in 11ms (Views: 2.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL
  [1m[36m (18.6ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:15.855232"], ["updated_at", "2016-04-14 02:57:15.855232"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1" for 127.0.0.1 at 2016-04-13 20:57:15 -0600
Processing by Api::V1::CustomersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.85ms)
Completed 200 OK in 2ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL[0m
  [1m[35m (19.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:15.890447"], ["updated_at", "2016-04-14 02:57:15.890447"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/customers/1" for 127.0.0.1 at 2016-04-13 20:57:15 -0600
Processing by Api::V1::CustomersController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mCustomer Load (0.4ms)[0m  SELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.79ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL
  [1m[36m (20.0ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:15.926233"], ["updated_at", "2016-04-14 02:57:15.926233"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:15 -0600
Processing by Api::V1::Customers::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.86ms)
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL[0m
  [1m[35m (19.7ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:15.976916"], ["updated_at", "2016-04-14 02:57:15.976916"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/customers/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:15 -0600
Processing by Api::V1::Customers::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[35mCustomer Load (0.4ms)[0m  SELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.71ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL
  [1m[36m (18.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.011832"], ["updated_at", "2016-04-14 02:57:16.011832"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/find?first_name=test" for 127.0.0.1 at 2016-04-13 20:57:16 -0600
Processing by Api::V1::Customers::FinderController#show as JSON
  Parameters: {"first_name"=>"test"}
Unpermitted parameter: format
  [1m[36mCustomer Load (0.7ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."first_name" = $1 LIMIT 1[0m  [["first_name", "test"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.77ms)
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL[0m
  [1m[35m (19.2ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.047963"], ["updated_at", "2016-04-14 02:57:16.047963"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/customers/find?last_name=test" for 127.0.0.1 at 2016-04-13 20:57:16 -0600
Processing by Api::V1::Customers::FinderController#show as JSON
  Parameters: {"last_name"=>"test"}
Unpermitted parameter: format
  [1m[35mCustomer Load (0.2ms)[0m  SELECT  "customers".* FROM "customers" WHERE "customers"."last_name" = $1 LIMIT 1  [["last_name", "test"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.69ms)
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL
  [1m[36m (18.0ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.082360"], ["updated_at", "2016-04-14 02:57:16.082360"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:16 -0600
Processing by Api::V1::Customers::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.75ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL[0m
  [1m[35m (19.6ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.117599"], ["updated_at", "2016-04-14 02:57:16.117599"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.120014"], ["updated_at", "2016-04-14 02:57:16.120014"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/find_all?first_name=test" for 127.0.0.1 at 2016-04-13 20:57:16 -0600
Processing by Api::V1::Customers::FinderController#index as JSON
  Parameters: {"first_name"=>"test"}
Unpermitted parameter: format
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT "customers".* FROM "customers" WHERE "customers"."first_name" = $1[0m  [["first_name", "test"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Customer::ActiveRecord_Relation (0.69ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL[0m
  [1m[35m (19.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (4.7ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.161869"], ["updated_at", "2016-04-14 02:57:16.161869"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.164620"], ["updated_at", "2016-04-14 02:57:16.164620"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/find_all?id=1" for 127.0.0.1 at 2016-04-13 20:57:16 -0600
Processing by Api::V1::Customers::FinderController#index as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers" WHERE "customers"."id" = $1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Customer::ActiveRecord_Relation (0.23ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.7ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL[0m
  [1m[35m (21.0ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.202860"], ["updated_at", "2016-04-14 02:57:16.202860"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.205572"], ["updated_at", "2016-04-14 02:57:16.205572"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/find_all?last_name=test" for 127.0.0.1 at 2016-04-13 20:57:16 -0600
Processing by Api::V1::Customers::FinderController#index as JSON
  Parameters: {"last_name"=>"test"}
Unpermitted parameter: format
  [1m[36mCustomer Load (0.2ms)[0m  [1mSELECT "customers".* FROM "customers" WHERE "customers"."last_name" = $1[0m  [["last_name", "test"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Customer::ActiveRecord_Relation (0.58ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL[0m
  [1m[35m (18.8ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.241736"], ["updated_at", "2016-04-14 02:57:16.241736"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.244165"], ["updated_at", "2016-04-14 02:57:16.244165"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.246073"], ["updated_at", "2016-04-14 02:57:16.246073"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/customers/random" for 127.0.0.1 at 2016-04-13 20:57:16 -0600
Processing by Api::V1::Customers::FinderController#random as JSON
  [1m[35mCustomer Load (1.0ms)[0m  SELECT  "customers".* FROM "customers"  ORDER BY RANDOM() LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.72ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL
  [1m[36m (18.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.283682"], ["updated_at", "2016-04-14 02:57:16.283682"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.286156"], ["updated_at", "2016-04-14 02:57:16.286156"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.288075"], ["updated_at", "2016-04-14 02:57:16.288075"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/random" for 127.0.0.1 at 2016-04-13 20:57:16 -0600
Processing by Api::V1::Customers::FinderController#random as JSON
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers"  ORDER BY RANDOM() LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.69ms)
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL[0m
  [1m[35m (21.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.324715"], ["updated_at", "2016-04-14 02:57:16.324715"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.327373"], ["updated_at", "2016-04-14 02:57:16.327373"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Test"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.329581"], ["updated_at", "2016-04-14 02:57:16.329581"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/customers/random" for 127.0.0.1 at 2016-04-13 20:57:16 -0600
Processing by Api::V1::Customers::FinderController#random as JSON
  [1m[35mCustomer Load (0.4ms)[0m  SELECT  "customers".* FROM "customers"  ORDER BY RANDOM() LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.76ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL
  [1m[36m (20.3ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:16.366705"], ["updated_at", "2016-04-14 02:57:16.366705"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:16.369694"], ["updated_at", "2016-04-14 02:57:16.369694"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:16.372142"], ["updated_at", "2016-04-14 02:57:16.372142"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.374218"], ["updated_at", "2016-04-14 02:57:16.374218"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.376512"], ["updated_at", "2016-04-14 02:57:16.376512"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.378360"], ["updated_at", "2016-04-14 02:57:16.378360"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:16.381355"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:16.384451"], ["updated_at", "2016-04-14 02:57:16.384451"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:16.386983"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:16.389091"], ["updated_at", "2016-04-14 02:57:16.389091"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:16.391404"], ["updated_at", "2016-04-14 02:57:16.391404"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:16.393973"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:16.404882"], ["updated_at", "2016-04-14 02:57:16.404882"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:16.407953"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:16.411648"], ["updated_at", "2016-04-14 02:57:16.411648"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:16.413997"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:16.417217"], ["updated_at", "2016-04-14 02:57:16.417217"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:16.419531"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:16.421994"], ["updated_at", "2016-04-14 02:57:16.421994"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:16.423860"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:16.426588"], ["updated_at", "2016-04-14 02:57:16.426588"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:16.428465"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:16.432175"], ["updated_at", "2016-04-14 02:57:16.432175"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:16.435022"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:16.438039"], ["updated_at", "2016-04-14 02:57:16.438039"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:16.440033"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:16.442887"], ["updated_at", "2016-04-14 02:57:16.442887"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:16.445612"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:16.448040"], ["updated_at", "2016-04-14 02:57:16.448040"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:16.449901"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:16.452354"], ["updated_at", "2016-04-14 02:57:16.452354"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:16.454993"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:16.457846"], ["updated_at", "2016-04-14 02:57:16.457846"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:16.459824"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:16.462305"], ["updated_at", "2016-04-14 02:57:16.462305"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:16.464354"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:16.466920"], ["updated_at", "2016-04-14 02:57:16.466920"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:16.468912"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:16.471670"], ["updated_at", "2016-04-14 02:57:16.471670"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:16.473466"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:16.475785"], ["updated_at", "2016-04-14 02:57:16.475785"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:16.477478"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:16.479484"], ["updated_at", "2016-04-14 02:57:16.479484"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:16.481957"], ["updated_at", "2016-04-14 02:57:16.481957"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:16.483804"], ["updated_at", "2016-04-14 02:57:16.483804"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:16.486110"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:16.488527"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:16.490857"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:16.492878"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:16.495002"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:16.498319"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:57:16 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (1.3ms)[0m  SELECT  merchants.*, COUNT(transactions.id) AS transaction_count FROM "merchants" INNER JOIN "invoices" "invoices_merchants_join" ON "invoices_merchants_join"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_merchants_join"."id" INNER JOIN "invoices" ON "merchants"."id" = "invoices"."merchant_id" WHERE "invoices"."customer_id" = $1 AND "transactions"."result" = $2 GROUP BY "merchants"."id"  ORDER BY transaction_count DESC LIMIT 1  [["customer_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (1.07ms)
Completed 200 OK in 21ms (Views: 2.0ms | ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL
  [1m[36m (19.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:16.558488"], ["updated_at", "2016-04-14 02:57:16.558488"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:16.561867"], ["updated_at", "2016-04-14 02:57:16.561867"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:16.564434"], ["updated_at", "2016-04-14 02:57:16.564434"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.566500"], ["updated_at", "2016-04-14 02:57:16.566500"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.568785"], ["updated_at", "2016-04-14 02:57:16.568785"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.570690"], ["updated_at", "2016-04-14 02:57:16.570690"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:16.573197"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:16.575966"], ["updated_at", "2016-04-14 02:57:16.575966"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:16.578494"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:16.580806"], ["updated_at", "2016-04-14 02:57:16.580806"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:16.583183"], ["updated_at", "2016-04-14 02:57:16.583183"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:16.585643"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:16.588586"], ["updated_at", "2016-04-14 02:57:16.588586"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:16.591261"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:16.593972"], ["updated_at", "2016-04-14 02:57:16.593972"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:16.595925"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:16.599547"], ["updated_at", "2016-04-14 02:57:16.599547"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:16.601633"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:16.603992"], ["updated_at", "2016-04-14 02:57:16.603992"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:16.605816"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:16.608890"], ["updated_at", "2016-04-14 02:57:16.608890"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:16.611470"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:16.614518"], ["updated_at", "2016-04-14 02:57:16.614518"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:16.616479"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:16.619146"], ["updated_at", "2016-04-14 02:57:16.619146"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:16.621024"], ["id", 7]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:16.624739"], ["updated_at", "2016-04-14 02:57:16.624739"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:16.626708"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:16.628896"], ["updated_at", "2016-04-14 02:57:16.628896"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:16.631043"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:16.633474"], ["updated_at", "2016-04-14 02:57:16.633474"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:16.635708"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:16.638231"], ["updated_at", "2016-04-14 02:57:16.638231"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:16.639930"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:16.642194"], ["updated_at", "2016-04-14 02:57:16.642194"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:16.643942"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:16.646307"], ["updated_at", "2016-04-14 02:57:16.646307"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:16.648401"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:16.650992"], ["updated_at", "2016-04-14 02:57:16.650992"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:16.652858"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:16.655290"], ["updated_at", "2016-04-14 02:57:16.655290"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:16.657668"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:16.659693"], ["updated_at", "2016-04-14 02:57:16.659693"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:16.662010"], ["updated_at", "2016-04-14 02:57:16.662010"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:16.664305"], ["updated_at", "2016-04-14 02:57:16.664305"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:16.666775"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:16.669111"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:16.671519"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:16.673564"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:16.676013"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:16.678594"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:57:16 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.4ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (1.3ms)[0m  SELECT  merchants.*, COUNT(transactions.id) AS transaction_count FROM "merchants" INNER JOIN "invoices" "invoices_merchants_join" ON "invoices_merchants_join"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_merchants_join"."id" INNER JOIN "invoices" ON "merchants"."id" = "invoices"."merchant_id" WHERE "invoices"."customer_id" = $1 AND "transactions"."result" = $2 GROUP BY "merchants"."id"  ORDER BY transaction_count DESC LIMIT 1  [["customer_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.82ms)
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 1.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL
  [1m[36m (21.3ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:16.719287"], ["updated_at", "2016-04-14 02:57:16.719287"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:16.722022"], ["updated_at", "2016-04-14 02:57:16.722022"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:16.724289"], ["updated_at", "2016-04-14 02:57:16.724289"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.726892"], ["updated_at", "2016-04-14 02:57:16.726892"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.729404"], ["updated_at", "2016-04-14 02:57:16.729404"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:16.731509"], ["updated_at", "2016-04-14 02:57:16.731509"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:16.733822"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:16.736617"], ["updated_at", "2016-04-14 02:57:16.736617"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:16.739097"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:16.741261"], ["updated_at", "2016-04-14 02:57:16.741261"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:16.743380"], ["updated_at", "2016-04-14 02:57:16.743380"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:16.745702"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:16.749367"], ["updated_at", "2016-04-14 02:57:16.749367"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:16.752653"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:16.755613"], ["updated_at", "2016-04-14 02:57:16.755613"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:16.757578"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:16.760318"], ["updated_at", "2016-04-14 02:57:16.760318"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:16.762293"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:16.765049"], ["updated_at", "2016-04-14 02:57:16.765049"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:16.767015"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:16.769851"], ["updated_at", "2016-04-14 02:57:16.769851"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:16.771770"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:16.774431"], ["updated_at", "2016-04-14 02:57:16.774431"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:16.776271"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:16.780712"], ["updated_at", "2016-04-14 02:57:16.780712"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:16.782808"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:16.785512"], ["updated_at", "2016-04-14 02:57:16.785512"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:16.787519"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:16.789832"], ["updated_at", "2016-04-14 02:57:16.789832"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:16.791692"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:16.794026"], ["updated_at", "2016-04-14 02:57:16.794026"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:16.796297"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:16.799561"], ["updated_at", "2016-04-14 02:57:16.799561"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:16.801502"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:16.804349"], ["updated_at", "2016-04-14 02:57:16.804349"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:16.813275"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:16.815844"], ["updated_at", "2016-04-14 02:57:16.815844"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:16.817541"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:16.819753"], ["updated_at", "2016-04-14 02:57:16.819753"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:16.821398"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:16.823661"], ["updated_at", "2016-04-14 02:57:16.823661"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:16.825791"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:16.828016"], ["updated_at", "2016-04-14 02:57:16.828016"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:16.830912"], ["updated_at", "2016-04-14 02:57:16.830912"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:16.832875"], ["updated_at", "2016-04-14 02:57:16.832875"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:16.835326"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:16.837794"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:16.840234"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:16.842199"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:16.844160"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:16.846583"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/favorite_merchant" for 127.0.0.1 at 2016-04-13 20:57:16 -0600
Processing by Api::V1::Customers::FavoriteMerchantController#show as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (1.4ms)[0m  SELECT  merchants.*, COUNT(transactions.id) AS transaction_count FROM "merchants" INNER JOIN "invoices" "invoices_merchants_join" ON "invoices_merchants_join"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_merchants_join"."id" INNER JOIN "invoices" ON "merchants"."id" = "invoices"."merchant_id" WHERE "invoices"."customer_id" = $1 AND "transactions"."result" = $2 GROUP BY "merchants"."id"  ORDER BY transaction_count DESC LIMIT 1  [["customer_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.76ms)
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 1.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL
  [1m[36m (19.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Booger"], ["created_at", "2016-04-14 02:57:16.885841"], ["updated_at", "2016-04-14 02:57:16.885841"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:16.888988"], ["updated_at", "2016-04-14 02:57:16.888988"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "customer_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["customer_id", 1], ["updated_at", "2016-04-14 02:57:16.891564"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "pending"], ["created_at", "2016-04-14 02:57:16.894193"], ["updated_at", "2016-04-14 02:57:16.894193"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "customer_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["customer_id", 1], ["updated_at", "2016-04-14 02:57:16.895972"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "failed"], ["created_at", "2016-04-14 02:57:16.898457"], ["updated_at", "2016-04-14 02:57:16.898457"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/customers/1/invoices" for 127.0.0.1 at 2016-04-13 20:57:16 -0600
Processing by Api::V1::Customers::InvoicesController#index as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[35mCustomer Load (0.4ms)[0m  SELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT "invoices".* FROM "invoices" WHERE "invoices"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Invoice::ActiveRecord_Associations_CollectionProxy (0.81ms)
Completed 200 OK in 11ms (Views: 4.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL[0m
  [1m[35m (19.8ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Booger"], ["created_at", "2016-04-14 02:57:16.950240"], ["updated_at", "2016-04-14 02:57:16.950240"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:16.953421"], ["updated_at", "2016-04-14 02:57:16.953421"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "invoices" SET "customer_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["customer_id", 1], ["updated_at", "2016-04-14 02:57:16.956151"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "pending"], ["created_at", "2016-04-14 02:57:16.959604"], ["updated_at", "2016-04-14 02:57:16.959604"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "customer_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["customer_id", 1], ["updated_at", "2016-04-14 02:57:16.961584"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "failed"], ["created_at", "2016-04-14 02:57:16.964053"], ["updated_at", "2016-04-14 02:57:16.964053"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/customers/1/invoices" for 127.0.0.1 at 2016-04-13 20:57:16 -0600
Processing by Api::V1::Customers::InvoicesController#index as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mInvoice Load (0.3ms)[0m  SELECT "invoices".* FROM "invoices" WHERE "invoices"."customer_id" = $1  [["customer_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Invoice::ActiveRecord_Associations_CollectionProxy (0.7ms)
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL
  [1m[36m (20.5ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (3.9ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Booger"], ["created_at", "2016-04-14 02:57:17.004968"], ["updated_at", "2016-04-14 02:57:17.004968"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.008397"], ["updated_at", "2016-04-14 02:57:17.008397"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "customer_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["customer_id", 1], ["updated_at", "2016-04-14 02:57:17.011087"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "pending"], ["created_at", "2016-04-14 02:57:17.013563"], ["updated_at", "2016-04-14 02:57:17.013563"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "customer_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["customer_id", 1], ["updated_at", "2016-04-14 02:57:17.016373"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "failed"], ["created_at", "2016-04-14 02:57:17.018489"], ["updated_at", "2016-04-14 02:57:17.018489"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/customers/1/invoices" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::Customers::InvoicesController#index as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[35mCustomer Load (0.3ms)[0m  SELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT "invoices".* FROM "invoices" WHERE "invoices"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Invoice::ActiveRecord_Associations_CollectionProxy (0.62ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL[0m
  [1m[35m (18.8ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.053902"], ["updated_at", "2016-04-14 02:57:17.053902"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:17.057223"], ["updated_at", "2016-04-14 02:57:17.057223"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:17.059617"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "pending"], ["created_at", "2016-04-14 02:57:17.062198"], ["updated_at", "2016-04-14 02:57:17.062198"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:17.064286"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Booger"], ["created_at", "2016-04-14 02:57:17.066487"], ["updated_at", "2016-04-14 02:57:17.066487"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "customer_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["customer_id", 1], ["updated_at", "2016-04-14 02:57:17.069101"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/customers/1/transactions" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::Customers::TransactionsController#index as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[35mCustomer Load (0.3ms)[0m  SELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTransaction Load (0.4ms)[0m  [1mSELECT "transactions".* FROM "transactions" INNER JOIN "invoices" ON "transactions"."invoice_id" = "invoices"."id" WHERE "invoices"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Transaction::ActiveRecord_Associations_CollectionProxy (0.62ms)
Completed 200 OK in 11ms (Views: 5.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL[0m
  [1m[35m (20.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.119936"], ["updated_at", "2016-04-14 02:57:17.119936"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:17.123228"], ["updated_at", "2016-04-14 02:57:17.123228"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:17.125506"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "pending"], ["created_at", "2016-04-14 02:57:17.128057"], ["updated_at", "2016-04-14 02:57:17.128057"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:17.129928"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Booger"], ["created_at", "2016-04-14 02:57:17.132311"], ["updated_at", "2016-04-14 02:57:17.132311"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "customer_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["customer_id", 1], ["updated_at", "2016-04-14 02:57:17.135081"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/customers/1/transactions" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::Customers::TransactionsController#index as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[35mCustomer Load (0.3ms)[0m  SELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTransaction Load (0.5ms)[0m  [1mSELECT "transactions".* FROM "transactions" INNER JOIN "invoices" ON "transactions"."invoice_id" = "invoices"."id" WHERE "invoices"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Transaction::ActiveRecord_Associations_CollectionProxy (0.68ms)
Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.7ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL[0m
  [1m[35m (20.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.175461"], ["updated_at", "2016-04-14 02:57:17.175461"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:17.179103"], ["updated_at", "2016-04-14 02:57:17.179103"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:17.181752"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "pending"], ["created_at", "2016-04-14 02:57:17.184097"], ["updated_at", "2016-04-14 02:57:17.184097"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:17.186382"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Booger"], ["created_at", "2016-04-14 02:57:17.188799"], ["updated_at", "2016-04-14 02:57:17.188799"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "customer_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["customer_id", 1], ["updated_at", "2016-04-14 02:57:17.191785"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/customers/1/transactions" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::Customers::TransactionsController#index as JSON
  Parameters: {"customer_id"=>"1"}
  [1m[35mCustomer Load (0.3ms)[0m  SELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTransaction Load (0.5ms)[0m  [1mSELECT "transactions".* FROM "transactions" INNER JOIN "invoices" ON "transactions"."invoice_id" = "invoices"."id" WHERE "invoices"."customer_id" = $1[0m  [["customer_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Transaction::ActiveRecord_Associations_CollectionProxy (0.61ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL[0m
  [1m[35m (21.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.232261"], ["updated_at", "2016-04-14 02:57:17.232261"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/invoices" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::InvoicesController#index as JSON
  [1m[35mInvoice Load (0.3ms)[0m  SELECT "invoices".* FROM "invoices"
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Invoice::ActiveRecord_Relation (0.25ms)
Completed 200 OK in 7ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (21.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.280873"], ["updated_at", "2016-04-14 02:57:17.280873"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoices" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::InvoicesController#index as JSON
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT "invoices".* FROM "invoices"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Invoice::ActiveRecord_Relation (0.37ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (19.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.316669"], ["updated_at", "2016-04-14 02:57:17.316669"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/invoices" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::InvoicesController#index as JSON
  [1m[35mInvoice Load (0.4ms)[0m  SELECT "invoices".* FROM "invoices"
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Invoice::ActiveRecord_Relation (0.25ms)
Completed 200 OK in 3ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (21.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.354132"], ["updated_at", "2016-04-14 02:57:17.354132"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoices/1" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::InvoicesController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Invoice (0.69ms)
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (20.7ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.392903"], ["updated_at", "2016-04-14 02:57:17.392903"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/invoices/1" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::InvoicesController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mInvoice Load (0.3ms)[0m  SELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Invoice (0.67ms)
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (20.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.429621"], ["updated_at", "2016-04-14 02:57:17.429621"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoices/1" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::InvoicesController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Invoice (0.75ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (20.2ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.465488"], ["updated_at", "2016-04-14 02:57:17.465488"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/invoices/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::Invoices::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Invoice (0.74ms)
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (20.2ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.512908"], ["updated_at", "2016-04-14 02:57:17.512908"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoices/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::Invoices::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Invoice (0.88ms)
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (20.1ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (3.7ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.552192"], ["updated_at", "2016-04-14 02:57:17.552192"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/invoices/find?status=shipped" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::Invoices::FinderController#show as JSON
  Parameters: {"status"=>"shipped"}
Unpermitted parameter: format
  [1m[35mInvoice Load (0.2ms)[0m  SELECT  "invoices".* FROM "invoices" WHERE "invoices"."status" = $1 LIMIT 1  [["status", "shipped"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Invoice (0.84ms)
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (19.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.589413"], ["updated_at", "2016-04-14 02:57:17.589413"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoices/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::Invoices::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Invoice (0.86ms)
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (21.0ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.627123"], ["updated_at", "2016-04-14 02:57:17.627123"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.629813"], ["updated_at", "2016-04-14 02:57:17.629813"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoices/find_all?name=test" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::Invoices::FinderController#index as JSON
  Parameters: {"name"=>"test"}
Unpermitted parameters: name, format
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT "invoices".* FROM "invoices"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Invoice::ActiveRecord_Relation (0.64ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (22.6ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.669937"], ["updated_at", "2016-04-14 02:57:17.669937"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.672677"], ["updated_at", "2016-04-14 02:57:17.672677"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoices/find_all?id=1" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::Invoices::FinderController#index as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT "invoices".* FROM "invoices" WHERE "invoices"."id" = $1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Invoice::ActiveRecord_Relation (0.24ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (19.8ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.708986"], ["updated_at", "2016-04-14 02:57:17.708986"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.711854"], ["updated_at", "2016-04-14 02:57:17.711854"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoices/find_all?status=shipped" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::Invoices::FinderController#index as JSON
  Parameters: {"status"=>"shipped"}
Unpermitted parameter: format
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT "invoices".* FROM "invoices" WHERE "invoices"."status" = $1[0m  [["status", "shipped"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Invoice::ActiveRecord_Relation (0.66ms)
Completed 200 OK in 4ms (Views: 2.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (20.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.749775"], ["updated_at", "2016-04-14 02:57:17.749775"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.752530"], ["updated_at", "2016-04-14 02:57:17.752530"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.754464"], ["updated_at", "2016-04-14 02:57:17.754464"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/invoices/random" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::Invoices::FinderController#random as JSON
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  "invoices".* FROM "invoices"  ORDER BY RANDOM() LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Invoice (1.14ms)
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (20.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.792356"], ["updated_at", "2016-04-14 02:57:17.792356"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.794983"], ["updated_at", "2016-04-14 02:57:17.794983"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.796997"], ["updated_at", "2016-04-14 02:57:17.796997"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoices/random" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::Invoices::FinderController#random as JSON
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  "invoices".* FROM "invoices"  ORDER BY RANDOM() LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Invoice (0.71ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (21.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.833881"], ["updated_at", "2016-04-14 02:57:17.833881"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.837100"], ["updated_at", "2016-04-14 02:57:17.837100"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.839251"], ["updated_at", "2016-04-14 02:57:17.839251"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/invoices/random" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::Invoices::FinderController#random as JSON
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  "invoices".* FROM "invoices"  ORDER BY RANDOM() LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Invoice (0.74ms)
Completed 200 OK in 2ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (19.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.876112"], ["updated_at", "2016-04-14 02:57:17.876112"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:17.880127"], ["updated_at", "2016-04-14 02:57:17.880127"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:17.883309"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvoiceItem Load (0.3ms)[0m  [1mSELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."invoice_id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1[0m  [["invoice_id", 1]]
Started GET "/api/v1/invoice_items/1/invoice" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::InvoiceItems::InvoiceController#index as JSON
  Parameters: {"invoice_item_id"=>"1"}
  [1m[35mInvoiceItem Load (0.3ms)[0m  SELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Invoice (0.75ms)
Completed 200 OK in 9ms (Views: 1.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (21.7ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.937102"], ["updated_at", "2016-04-14 02:57:17.937102"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:17.940469"], ["updated_at", "2016-04-14 02:57:17.940469"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:17.942996"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mInvoiceItem Load (0.3ms)[0m  SELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."invoice_id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1  [["invoice_id", 1]]
Started GET "/api/v1/invoice_items/1/invoice" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::InvoiceItems::InvoiceController#index as JSON
  Parameters: {"invoice_item_id"=>"1"}
  [1m[36mInvoiceItem Load (0.4ms)[0m  [1mSELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Invoice (0.8ms)
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (21.1ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:17.986125"], ["updated_at", "2016-04-14 02:57:17.986125"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:17.989584"], ["updated_at", "2016-04-14 02:57:17.989584"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:17.992231"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvoiceItem Load (0.3ms)[0m  [1mSELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."invoice_id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1[0m  [["invoice_id", 1]]
Started GET "/api/v1/invoice_items/1/invoice" for 127.0.0.1 at 2016-04-13 20:57:17 -0600
Processing by Api::V1::InvoiceItems::InvoiceController#index as JSON
  Parameters: {"invoice_item_id"=>"1"}
  [1m[35mInvoiceItem Load (0.3ms)[0m  SELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Invoice (0.73ms)
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (20.7ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (4.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "The Item"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.035251"], ["updated_at", "2016-04-14 02:57:18.035251"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.039647"], ["updated_at", "2016-04-14 02:57:18.039647"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "item_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["item_id", 1], ["updated_at", "2016-04-14 02:57:18.042190"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mInvoiceItem Load (0.3ms)[0m  SELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."item_id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1  [["item_id", 1]]
Started GET "/api/v1/invoice_items/1/item" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItems::ItemController#index as JSON
  Parameters: {"invoice_item_id"=>"1"}
  [1m[36mInvoiceItem Load (0.4ms)[0m  [1mSELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.2ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."id" = $1  ORDER BY "items"."id" ASC LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Item (0.8ms)
Completed 200 OK in 9ms (Views: 1.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (21.3ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "The Item"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.095528"], ["updated_at", "2016-04-14 02:57:18.095528"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.099049"], ["updated_at", "2016-04-14 02:57:18.099049"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "item_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["item_id", 1], ["updated_at", "2016-04-14 02:57:18.101579"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvoiceItem Load (0.5ms)[0m  [1mSELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."item_id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1[0m  [["item_id", 1]]
Started GET "/api/v1/invoice_items/1/item" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItems::ItemController#index as JSON
  Parameters: {"invoice_item_id"=>"1"}
  [1m[35mInvoiceItem Load (0.4ms)[0m  SELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = $1  ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Item (0.83ms)
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (23.8ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "The Item"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.148027"], ["updated_at", "2016-04-14 02:57:18.148027"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.151266"], ["updated_at", "2016-04-14 02:57:18.151266"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "item_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["item_id", 1], ["updated_at", "2016-04-14 02:57:18.154055"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mInvoiceItem Load (0.3ms)[0m  SELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."item_id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1  [["item_id", 1]]
Started GET "/api/v1/invoice_items/1/item" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItems::ItemController#index as JSON
  Parameters: {"invoice_item_id"=>"1"}
  [1m[36mInvoiceItem Load (0.5ms)[0m  [1mSELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.3ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."id" = $1  ORDER BY "items"."id" ASC LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Item (0.95ms)
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (20.3ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.194795"], ["updated_at", "2016-04-14 02:57:18.194795"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoice_items" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItemsController#index as JSON
  [1m[36mInvoiceItem Load (0.4ms)[0m  [1mSELECT "invoice_items".* FROM "invoice_items"  ORDER BY "invoice_items"."id" ASC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with InvoiceItem::ActiveRecord_Relation (0.29ms)
Completed 200 OK in 9ms (Views: 3.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (20.5ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.243532"], ["updated_at", "2016-04-14 02:57:18.243532"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/invoice_items" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItemsController#index as JSON
  [1m[35mInvoiceItem Load (0.4ms)[0m  SELECT "invoice_items".* FROM "invoice_items"  ORDER BY "invoice_items"."id" ASC
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with InvoiceItem::ActiveRecord_Relation (0.27ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (21.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.280643"], ["updated_at", "2016-04-14 02:57:18.280643"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoice_items" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItemsController#index as JSON
  [1m[36mInvoiceItem Load (0.4ms)[0m  [1mSELECT "invoice_items".* FROM "invoice_items"  ORDER BY "invoice_items"."id" ASC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with InvoiceItem::ActiveRecord_Relation (0.28ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (21.0ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.318154"], ["updated_at", "2016-04-14 02:57:18.318154"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/invoice_items/1" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItemsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mInvoiceItem Load (0.4ms)[0m  SELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with InvoiceItem (0.93ms)
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (22.3ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.357988"], ["updated_at", "2016-04-14 02:57:18.357988"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoice_items/1" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItemsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mInvoiceItem Load (0.4ms)[0m  [1mSELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with InvoiceItem (0.71ms)
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (29.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.404509"], ["updated_at", "2016-04-14 02:57:18.404509"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/invoice_items/1" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItemsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mInvoiceItem Load (0.4ms)[0m  SELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with InvoiceItem (0.72ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (28.0ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.449565"], ["updated_at", "2016-04-14 02:57:18.449565"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoice_items/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItems::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[36mInvoiceItem Load (0.5ms)[0m  [1mSELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with InvoiceItem (0.79ms)
Completed 200 OK in 8ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (24.5ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.503786"], ["updated_at", "2016-04-14 02:57:18.503786"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/invoice_items/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItems::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[35mInvoiceItem Load (0.4ms)[0m  SELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with InvoiceItem (0.73ms)
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (24.1ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.8ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.546761"], ["updated_at", "2016-04-14 02:57:18.546761"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoice_items/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItems::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[36mInvoiceItem Load (0.4ms)[0m  [1mSELECT  "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."id" = $1  ORDER BY "invoice_items"."id" ASC LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with InvoiceItem (0.73ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (1.8ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (21.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.586493"], ["updated_at", "2016-04-14 02:57:18.586493"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.589102"], ["updated_at", "2016-04-14 02:57:18.589102"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoice_items/find_all?id=1" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItems::FinderController#index as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[36mInvoiceItem Load (0.2ms)[0m  [1mSELECT "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."id" = $1  ORDER BY "invoice_items"."id" ASC[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with InvoiceItem::ActiveRecord_Relation (0.25ms)
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (24.5ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.631552"], ["updated_at", "2016-04-14 02:57:18.631552"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.634559"], ["updated_at", "2016-04-14 02:57:18.634559"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoice_items/find_all?id=1" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItems::FinderController#index as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[36mInvoiceItem Load (0.4ms)[0m  [1mSELECT "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."id" = $1  ORDER BY "invoice_items"."id" ASC[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with InvoiceItem::ActiveRecord_Relation (0.71ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (24.0ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.675162"], ["updated_at", "2016-04-14 02:57:18.675162"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.678673"], ["updated_at", "2016-04-14 02:57:18.678673"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoice_items/find_all?unit_price=101" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItems::FinderController#index as JSON
  Parameters: {"unit_price"=>"101"}
Unpermitted parameter: format
  [1m[36mInvoiceItem Load (0.3ms)[0m  [1mSELECT "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."unit_price" = $1  ORDER BY "invoice_items"."id" ASC[0m  [["unit_price", "101"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with InvoiceItem::ActiveRecord_Relation (0.64ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (24.5ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.6ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.720744"], ["updated_at", "2016-04-14 02:57:18.720744"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.723618"], ["updated_at", "2016-04-14 02:57:18.723618"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.726144"], ["updated_at", "2016-04-14 02:57:18.726144"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/invoice_items/random" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItems::FinderController#random as JSON
  [1m[35mInvoiceItem Load (0.4ms)[0m  SELECT  "invoice_items".* FROM "invoice_items"  ORDER BY "invoice_items"."id" ASC, RANDOM() LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with InvoiceItem (0.76ms)
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (25.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.768490"], ["updated_at", "2016-04-14 02:57:18.768490"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.771806"], ["updated_at", "2016-04-14 02:57:18.771806"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.774003"], ["updated_at", "2016-04-14 02:57:18.774003"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoice_items/random" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItems::FinderController#random as JSON
  [1m[36mInvoiceItem Load (0.4ms)[0m  [1mSELECT  "invoice_items".* FROM "invoice_items"  ORDER BY "invoice_items"."id" ASC, RANDOM() LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with InvoiceItem (0.72ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (23.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.813835"], ["updated_at", "2016-04-14 02:57:18.813835"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.817423"], ["updated_at", "2016-04-14 02:57:18.817423"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:18.820075"], ["updated_at", "2016-04-14 02:57:18.820075"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/invoice_items/random" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::InvoiceItems::FinderController#random as JSON
  [1m[35mInvoiceItem Load (0.5ms)[0m  SELECT  "invoice_items".* FROM "invoice_items"  ORDER BY "invoice_items"."id" ASC, RANDOM() LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with InvoiceItem (0.81ms)
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (24.2ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:18.861358"], ["updated_at", "2016-04-14 02:57:18.861358"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:18.864450"], ["updated_at", "2016-04-14 02:57:18.864450"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:18.866838"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "pending"], ["created_at", "2016-04-14 02:57:18.869241"], ["updated_at", "2016-04-14 02:57:18.869241"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:18.871023"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:18.873097"], ["updated_at", "2016-04-14 02:57:18.873097"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/invoices/1/transactions" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::Invoices::TransactionsController#index as JSON
  Parameters: {"invoice_id"=>"1"}
  [1m[35mInvoice Load (0.5ms)[0m  SELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTransaction Load (0.4ms)[0m  [1mSELECT "transactions".* FROM "transactions" WHERE "transactions"."invoice_id" = $1[0m  [["invoice_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Transaction::ActiveRecord_Associations_CollectionProxy (0.67ms)
Completed 200 OK in 11ms (Views: 4.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.8ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (23.5ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:18.928856"], ["updated_at", "2016-04-14 02:57:18.928856"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:18.932544"], ["updated_at", "2016-04-14 02:57:18.932544"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:18.935588"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "pending"], ["created_at", "2016-04-14 02:57:18.938155"], ["updated_at", "2016-04-14 02:57:18.938155"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:18.940266"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:18.942345"], ["updated_at", "2016-04-14 02:57:18.942345"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoices/1/transactions" for 127.0.0.1 at 2016-04-13 20:57:18 -0600
Processing by Api::V1::Invoices::TransactionsController#index as JSON
  Parameters: {"invoice_id"=>"1"}
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mTransaction Load (0.4ms)[0m  SELECT "transactions".* FROM "transactions" WHERE "transactions"."invoice_id" = $1  [["invoice_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Transaction::ActiveRecord_Associations_CollectionProxy (0.63ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (24.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:18.984027"], ["updated_at", "2016-04-14 02:57:18.984027"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:18.987377"], ["updated_at", "2016-04-14 02:57:18.987377"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:18.989779"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "pending"], ["created_at", "2016-04-14 02:57:18.992031"], ["updated_at", "2016-04-14 02:57:18.992031"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:18.993905"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:18.995848"], ["updated_at", "2016-04-14 02:57:18.995848"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/invoices/1/transactions" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Invoices::TransactionsController#index as JSON
  Parameters: {"invoice_id"=>"1"}
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mTransaction Load (0.3ms)[0m  [1mSELECT "transactions".* FROM "transactions" WHERE "transactions"."invoice_id" = $1[0m  [["invoice_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Transaction::ActiveRecord_Associations_CollectionProxy (0.61ms)
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (23.5ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:19.037338"], ["updated_at", "2016-04-14 02:57:19.037338"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.040901"], ["updated_at", "2016-04-14 02:57:19.040901"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:19.043613"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.046212"], ["updated_at", "2016-04-14 02:57:19.046212"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:19.047929"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.050048"], ["updated_at", "2016-04-14 02:57:19.050048"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoices/1/invoice_items" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Invoices::InvoiceItemsController#index as JSON
  Parameters: {"invoice_id"=>"1"}
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mInvoiceItem Load (0.5ms)[0m  SELECT "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."invoice_id" = $1  ORDER BY "invoice_items"."id" ASC  [["invoice_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with InvoiceItem::ActiveRecord_Associations_CollectionProxy (0.74ms)
Completed 200 OK in 12ms (Views: 5.3ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (22.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:19.104322"], ["updated_at", "2016-04-14 02:57:19.104322"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 1], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.107945"], ["updated_at", "2016-04-14 02:57:19.107945"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:19.111050"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 2], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.113761"], ["updated_at", "2016-04-14 02:57:19.113761"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:19.115607"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 3], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.124579"], ["updated_at", "2016-04-14 02:57:19.124579"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/invoices/1/invoice_items" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Invoices::InvoiceItemsController#index as JSON
  Parameters: {"invoice_id"=>"1"}
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mInvoiceItem Load (0.4ms)[0m  [1mSELECT "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."invoice_id" = $1  ORDER BY "invoice_items"."id" ASC[0m  [["invoice_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with InvoiceItem::ActiveRecord_Associations_CollectionProxy (0.87ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (25.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.8ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:19.171628"], ["updated_at", "2016-04-14 02:57:19.171628"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.175379"], ["updated_at", "2016-04-14 02:57:19.175379"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:19.177574"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.180827"], ["updated_at", "2016-04-14 02:57:19.180827"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:19.183355"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.186067"], ["updated_at", "2016-04-14 02:57:19.186067"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoices/1/invoice_items" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Invoices::InvoiceItemsController#index as JSON
  Parameters: {"invoice_id"=>"1"}
  [1m[36mInvoice Load (0.5ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mInvoiceItem Load (0.4ms)[0m  SELECT "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."invoice_id" = $1  ORDER BY "invoice_items"."id" ASC  [["invoice_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with InvoiceItem::ActiveRecord_Associations_CollectionProxy (0.93ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (25.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.232784"], ["updated_at", "2016-04-14 02:57:19.232784"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test 1"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.236547"], ["updated_at", "2016-04-14 02:57:19.236547"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:19.239337"], ["updated_at", "2016-04-14 02:57:19.239337"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "item_id" = $1, "invoice_id" = $2, "updated_at" = $3 WHERE "invoice_items"."id" = $4  [["item_id", 1], ["invoice_id", 1], ["updated_at", "2016-04-14 02:57:19.242338"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test 2"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.245533"], ["updated_at", "2016-04-14 02:57:19.245533"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoices/1/items" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Invoices::ItemsController#index as JSON
  Parameters: {"invoice_id"=>"1"}
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" INNER JOIN "invoice_items" ON "items"."id" = "invoice_items"."item_id" WHERE "invoice_items"."invoice_id" = $1  ORDER BY "items"."id" ASC, "invoice_items"."id" ASC  [["invoice_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Item::ActiveRecord_Associations_CollectionProxy (0.32ms)
Completed 200 OK in 13ms (Views: 5.5ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (23.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.302081"], ["updated_at", "2016-04-14 02:57:19.302081"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test 1"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.305914"], ["updated_at", "2016-04-14 02:57:19.305914"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:19.309263"], ["updated_at", "2016-04-14 02:57:19.309263"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "item_id" = $1, "invoice_id" = $2, "updated_at" = $3 WHERE "invoice_items"."id" = $4  [["item_id", 1], ["invoice_id", 1], ["updated_at", "2016-04-14 02:57:19.312470"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test 2"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.315506"], ["updated_at", "2016-04-14 02:57:19.315506"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoices/1/items" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Invoices::ItemsController#index as JSON
  Parameters: {"invoice_id"=>"1"}
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.5ms)[0m  SELECT "items".* FROM "items" INNER JOIN "invoice_items" ON "items"."id" = "invoice_items"."item_id" WHERE "invoice_items"."invoice_id" = $1  ORDER BY "items"."id" ASC, "invoice_items"."id" ASC  [["invoice_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Item::ActiveRecord_Associations_CollectionProxy (0.4ms)
Completed 200 OK in 7ms (Views: 3.9ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (26.2ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 101], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.362756"], ["updated_at", "2016-04-14 02:57:19.362756"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test 1"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.366495"], ["updated_at", "2016-04-14 02:57:19.366495"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:19.369515"], ["updated_at", "2016-04-14 02:57:19.369515"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "item_id" = $1, "invoice_id" = $2, "updated_at" = $3 WHERE "invoice_items"."id" = $4  [["item_id", 1], ["invoice_id", 1], ["updated_at", "2016-04-14 02:57:19.372636"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test 2"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.376038"], ["updated_at", "2016-04-14 02:57:19.376038"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/invoices/1/items" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Invoices::ItemsController#index as JSON
  Parameters: {"invoice_id"=>"1"}
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.6ms)[0m  SELECT "items".* FROM "items" INNER JOIN "invoice_items" ON "items"."id" = "invoice_items"."item_id" WHERE "invoice_items"."invoice_id" = $1  ORDER BY "items"."id" ASC, "invoice_items"."id" ASC  [["invoice_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Item::ActiveRecord_Associations_CollectionProxy (0.28ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "items"[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (26.7ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Booger"], ["created_at", "2016-04-14 02:57:19.423558"], ["updated_at", "2016-04-14 02:57:19.423558"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:19.427301"], ["updated_at", "2016-04-14 02:57:19.427301"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "customer_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["customer_id", 1], ["updated_at", "2016-04-14 02:57:19.429998"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT  "invoices".* FROM "invoices" WHERE "invoices"."customer_id" = $1  ORDER BY "invoices"."id" ASC LIMIT 1  [["customer_id", 1]]
Started GET "/api/v1/invoices/1/customer" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Invoices::CustomerController#index as JSON
  Parameters: {"invoice_id"=>"1"}
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCustomer Load (0.3ms)[0m  SELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (1.25ms)
Completed 200 OK in 9ms (Views: 1.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (30.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Booger"], ["created_at", "2016-04-14 02:57:19.495067"], ["updated_at", "2016-04-14 02:57:19.495067"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:19.502442"], ["updated_at", "2016-04-14 02:57:19.502442"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "customer_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["customer_id", 1], ["updated_at", "2016-04-14 02:57:19.505067"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."customer_id" = $1  ORDER BY "invoices"."id" ASC LIMIT 1[0m  [["customer_id", 1]]
Started GET "/api/v1/invoices/1/customer" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Invoices::CustomerController#index as JSON
  Parameters: {"invoice_id"=>"1"}
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mCustomer Load (0.3ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.73ms)
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (24.1ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Booger"], ["created_at", "2016-04-14 02:57:19.552507"], ["updated_at", "2016-04-14 02:57:19.552507"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:19.556337"], ["updated_at", "2016-04-14 02:57:19.556337"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "customer_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["customer_id", 1], ["updated_at", "2016-04-14 02:57:19.558831"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT  "invoices".* FROM "invoices" WHERE "invoices"."customer_id" = $1  ORDER BY "invoices"."id" ASC LIMIT 1  [["customer_id", 1]]
Started GET "/api/v1/invoices/1/customer" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Invoices::CustomerController#index as JSON
  Parameters: {"invoice_id"=>"1"}
  [1m[36mInvoice Load (0.5ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCustomer Load (0.4ms)[0m  SELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.8ms)
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (30.3ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Adam the Merchant"], ["created_at", "2016-04-14 02:57:19.608071"], ["updated_at", "2016-04-14 02:57:19.608071"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:19.611401"], ["updated_at", "2016-04-14 02:57:19.611401"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:19.613842"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvoice Load (0.2ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."merchant_id" = $1  ORDER BY "invoices"."id" ASC LIMIT 1[0m  [["merchant_id", 1]]
Started GET "/api/v1/invoices/1/merchant" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Invoices::MerchantController#index as JSON
  Parameters: {"invoice_id"=>"1"}
  [1m[35mInvoice Load (0.4ms)[0m  SELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mMerchant Load (0.2ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.76ms)
Completed 200 OK in 8ms (Views: 1.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (22.8ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Adam the Merchant"], ["created_at", "2016-04-14 02:57:19.669632"], ["updated_at", "2016-04-14 02:57:19.669632"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:19.672819"], ["updated_at", "2016-04-14 02:57:19.672819"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:19.675356"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mInvoice Load (0.3ms)[0m  SELECT  "invoices".* FROM "invoices" WHERE "invoices"."merchant_id" = $1  ORDER BY "invoices"."id" ASC LIMIT 1  [["merchant_id", 1]]
Started GET "/api/v1/invoices/1/merchant" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Invoices::MerchantController#index as JSON
  Parameters: {"invoice_id"=>"1"}
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (0.3ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.7ms)
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (24.0ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Adam the Merchant"], ["created_at", "2016-04-14 02:57:19.717144"], ["updated_at", "2016-04-14 02:57:19.717144"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:19.720296"], ["updated_at", "2016-04-14 02:57:19.720296"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:19.722911"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvoice Load (0.3ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."merchant_id" = $1  ORDER BY "invoices"."id" ASC LIMIT 1[0m  [["merchant_id", 1]]
Started GET "/api/v1/invoices/1/merchant" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Invoices::MerchantController#index as JSON
  Parameters: {"invoice_id"=>"1"}
  [1m[35mInvoice Load (0.6ms)[0m  SELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.75ms)
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (26.0ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.769675"], ["updated_at", "2016-04-14 02:57:19.769675"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.773292"], ["updated_at", "2016-04-14 02:57:19.773292"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "item_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["item_id", 1], ["updated_at", "2016-04-14 02:57:19.775679"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.778915"], ["updated_at", "2016-04-14 02:57:19.778915"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "item_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["item_id", 1], ["updated_at", "2016-04-14 02:57:19.780733"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.783068"], ["updated_at", "2016-04-14 02:57:19.783068"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/items/1/invoice_items" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Items::InvoiceItemsController#index as JSON
  Parameters: {"item_id"=>"1"}
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = $1  ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mInvoiceItem Load (0.3ms)[0m  SELECT "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."item_id" = $1  ORDER BY "invoice_items"."id" ASC  [["item_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with InvoiceItem::ActiveRecord_Associations_CollectionProxy (0.7ms)
Completed 200 OK in 11ms (Views: 3.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (28.1ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.846705"], ["updated_at", "2016-04-14 02:57:19.846705"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 1], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.850323"], ["updated_at", "2016-04-14 02:57:19.850323"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "item_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["item_id", 1], ["updated_at", "2016-04-14 02:57:19.853404"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 2], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.856128"], ["updated_at", "2016-04-14 02:57:19.856128"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "item_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["item_id", 1], ["updated_at", "2016-04-14 02:57:19.858164"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["quantity", 3], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.860418"], ["updated_at", "2016-04-14 02:57:19.860418"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/items/1/invoice_items" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Items::InvoiceItemsController#index as JSON
  Parameters: {"item_id"=>"1"}
  [1m[35mItem Load (0.3ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."id" = $1  ORDER BY "items"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mInvoiceItem Load (0.4ms)[0m  [1mSELECT "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."item_id" = $1  ORDER BY "invoice_items"."id" ASC[0m  [["item_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with InvoiceItem::ActiveRecord_Associations_CollectionProxy (0.77ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (23.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.903180"], ["updated_at", "2016-04-14 02:57:19.903180"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.906738"], ["updated_at", "2016-04-14 02:57:19.906738"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "item_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["item_id", 1], ["updated_at", "2016-04-14 02:57:19.909252"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.911842"], ["updated_at", "2016-04-14 02:57:19.911842"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "item_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["item_id", 1], ["updated_at", "2016-04-14 02:57:19.913833"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.916488"], ["updated_at", "2016-04-14 02:57:19.916488"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/items/1/invoice_items" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Items::InvoiceItemsController#index as JSON
  Parameters: {"item_id"=>"1"}
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = $1  ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mInvoiceItem Load (0.4ms)[0m  SELECT "invoice_items".* FROM "invoice_items" WHERE "invoice_items"."item_id" = $1  ORDER BY "invoice_items"."id" ASC  [["item_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with InvoiceItem::ActiveRecord_Associations_CollectionProxy (0.67ms)
Completed 200 OK in 6ms (Views: 2.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (24.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:19.960480"], ["updated_at", "2016-04-14 02:57:19.960480"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:19.964066"], ["updated_at", "2016-04-14 02:57:19.964066"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "items" SET "merchant_id" = $1, "updated_at" = $2 WHERE "items"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:19.966472"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Other Test Merchant"], ["created_at", "2016-04-14 02:57:19.969069"], ["updated_at", "2016-04-14 02:57:19.969069"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.2ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."merchant_id" = $1  ORDER BY "items"."id" ASC LIMIT 1  [["merchant_id", 1]]
Started GET "/api/v1/items/1/merchant" for 127.0.0.1 at 2016-04-13 20:57:19 -0600
Processing by Api::V1::Items::MerchantController#index as JSON
  Parameters: {"item_id"=>"1"}
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = $1  ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (0.3ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.7ms)
Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (24.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:20.022326"], ["updated_at", "2016-04-14 02:57:20.022326"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.025329"], ["updated_at", "2016-04-14 02:57:20.025329"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "items" SET "merchant_id" = $1, "updated_at" = $2 WHERE "items"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:20.027948"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Other Test Merchant"], ["created_at", "2016-04-14 02:57:20.030358"], ["updated_at", "2016-04-14 02:57:20.030358"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.3ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."merchant_id" = $1  ORDER BY "items"."id" ASC LIMIT 1  [["merchant_id", 1]]
Started GET "/api/v1/items/1/merchant" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::Items::MerchantController#index as JSON
  Parameters: {"item_id"=>"1"}
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = $1  ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (0.3ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.72ms)
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (24.0ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:20.072189"], ["updated_at", "2016-04-14 02:57:20.072189"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.075122"], ["updated_at", "2016-04-14 02:57:20.075122"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "items" SET "merchant_id" = $1, "updated_at" = $2 WHERE "items"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:20.077658"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Other Test Merchant"], ["created_at", "2016-04-14 02:57:20.080260"], ["updated_at", "2016-04-14 02:57:20.080260"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mItem Load (0.3ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."merchant_id" = $1  ORDER BY "items"."id" ASC LIMIT 1  [["merchant_id", 1]]
Started GET "/api/v1/items/1/merchant" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::Items::MerchantController#index as JSON
  Parameters: {"item_id"=>"1"}
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = $1  ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mMerchant Load (0.3ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.67ms)
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (24.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.123534"], ["updated_at", "2016-04-14 02:57:20.123534"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/items" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::ItemsController#index as JSON
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items"  ORDER BY "items"."id" ASC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Item::ActiveRecord_Relation (0.49ms)
Completed 200 OK in 10ms (Views: 4.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (24.9ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.179267"], ["updated_at", "2016-04-14 02:57:20.179267"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/items" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::ItemsController#index as JSON
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items"  ORDER BY "items"."id" ASC
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Item::ActiveRecord_Relation (0.27ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (24.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.221641"], ["updated_at", "2016-04-14 02:57:20.221641"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/items" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::ItemsController#index as JSON
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items"  ORDER BY "items"."id" ASC[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Item::ActiveRecord_Relation (0.36ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (23.5ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.262516"], ["updated_at", "2016-04-14 02:57:20.262516"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/items/1" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::ItemsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mItem Load (0.5ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."id" = $1  ORDER BY "items"."id" ASC LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Item (1.01ms)
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (34.6ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.317221"], ["updated_at", "2016-04-14 02:57:20.317221"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/items/1" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::ItemsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = $1  ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Item (1.37ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (29.7ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.366077"], ["updated_at", "2016-04-14 02:57:20.366077"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/items/1" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::ItemsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mItem Load (0.4ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."id" = $1  ORDER BY "items"."id" ASC LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Item (0.8ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (26.5ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.410601"], ["updated_at", "2016-04-14 02:57:20.410601"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/items/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::Items::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = $1  ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Item (0.88ms)
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (26.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.466904"], ["updated_at", "2016-04-14 02:57:20.466904"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/items/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::Items::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[35mItem Load (0.4ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."id" = $1  ORDER BY "items"."id" ASC LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Item (0.74ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (25.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.511627"], ["updated_at", "2016-04-14 02:57:20.511627"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/items/find?name=test" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::Items::FinderController#show as JSON
  Parameters: {"name"=>"test"}
Unpermitted parameter: format
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."name" = $1  ORDER BY "items"."id" ASC LIMIT 1[0m  [["name", "test"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Item (0.81ms)
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (27.5ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.557080"], ["updated_at", "2016-04-14 02:57:20.557080"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/items/find?name=test" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::Items::FinderController#show as JSON
  Parameters: {"name"=>"test"}
Unpermitted parameter: format
  [1m[35mItem Load (0.4ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."name" = $1  ORDER BY "items"."id" ASC LIMIT 1  [["name", "test"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Item (0.95ms)
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (27.5ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.603892"], ["updated_at", "2016-04-14 02:57:20.603892"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/items/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::Items::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[36mItem Load (0.3ms)[0m  [1mSELECT  "items".* FROM "items" WHERE "items"."id" = $1  ORDER BY "items"."id" ASC LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Item (0.79ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (28.0ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (3.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.651813"], ["updated_at", "2016-04-14 02:57:20.651813"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/items/find?description=Test%20description" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::Items::FinderController#show as JSON
  Parameters: {"description"=>"Test description"}
Unpermitted parameter: format
  [1m[35mItem Load (0.2ms)[0m  SELECT  "items".* FROM "items" WHERE "items"."description" = $1  ORDER BY "items"."id" ASC LIMIT 1  [["description", "Test description"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Item (0.78ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (25.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.696635"], ["updated_at", "2016-04-14 02:57:20.696635"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.699561"], ["updated_at", "2016-04-14 02:57:20.699561"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/items/find_all?name=test" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::Items::FinderController#index as JSON
  Parameters: {"name"=>"test"}
Unpermitted parameter: format
  [1m[35mItem Load (0.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."name" = $1  ORDER BY "items"."id" ASC  [["name", "test"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Item::ActiveRecord_Relation (0.69ms)
Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (26.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.745992"], ["updated_at", "2016-04-14 02:57:20.745992"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.748991"], ["updated_at", "2016-04-14 02:57:20.748991"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/items/find_all?id=1" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::Items::FinderController#index as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[35mItem Load (0.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."id" = $1  ORDER BY "items"."id" ASC  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Item::ActiveRecord_Relation (0.29ms)
Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (28.6ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.6ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.796411"], ["updated_at", "2016-04-14 02:57:20.796411"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.799615"], ["updated_at", "2016-04-14 02:57:20.799615"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/items/find_all?name=test" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::Items::FinderController#index as JSON
  Parameters: {"name"=>"test"}
Unpermitted parameter: format
  [1m[35mItem Load (0.4ms)[0m  SELECT "items".* FROM "items" WHERE "items"."name" = $1  ORDER BY "items"."id" ASC  [["name", "test"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Item::ActiveRecord_Relation (0.72ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (29.6ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.848238"], ["updated_at", "2016-04-14 02:57:20.848238"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.851708"], ["updated_at", "2016-04-14 02:57:20.851708"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/items/find_all?description=Test%20description" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::Items::FinderController#index as JSON
  Parameters: {"description"=>"Test description"}
Unpermitted parameter: format
  [1m[35mItem Load (0.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."description" = $1  ORDER BY "items"."id" ASC  [["description", "Test description"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Item::ActiveRecord_Relation (0.73ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (32.7ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.903546"], ["updated_at", "2016-04-14 02:57:20.903546"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.907186"], ["updated_at", "2016-04-14 02:57:20.907186"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.909860"], ["updated_at", "2016-04-14 02:57:20.909860"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/items/random" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::Items::FinderController#random as JSON
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT  "items".* FROM "items"  ORDER BY "items"."id" ASC, RANDOM() LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Item (0.89ms)
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (30.6ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.958693"], ["updated_at", "2016-04-14 02:57:20.958693"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.961669"], ["updated_at", "2016-04-14 02:57:20.961669"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:20.963912"], ["updated_at", "2016-04-14 02:57:20.963912"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/items/random" for 127.0.0.1 at 2016-04-13 20:57:20 -0600
Processing by Api::V1::Items::FinderController#random as JSON
  [1m[35mItem Load (0.4ms)[0m  SELECT  "items".* FROM "items"  ORDER BY "items"."id" ASC, RANDOM() LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Item (0.87ms)
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (27.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:21.007667"], ["updated_at", "2016-04-14 02:57:21.007667"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:21.012078"], ["updated_at", "2016-04-14 02:57:21.012078"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Test"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:21.014407"], ["updated_at", "2016-04-14 02:57:21.014407"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/items/random" for 127.0.0.1 at 2016-04-13 20:57:21 -0600
Processing by Api::V1::Items::FinderController#random as JSON
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT  "items".* FROM "items"  ORDER BY "items"."id" ASC, RANDOM() LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Item (0.78ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (27.8ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:21.059275"], ["updated_at", "2016-04-14 02:57:21.059275"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:21.063505"], ["updated_at", "2016-04-14 02:57:21.063505"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:21.065736"], ["updated_at", "2016-04-14 02:57:21.065736"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.068212"], ["updated_at", "2016-04-14 02:57:21.068212"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.070700"], ["updated_at", "2016-04-14 02:57:21.070700"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.072655"], ["updated_at", "2016-04-14 02:57:21.072655"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:21.075550"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:21.078478"], ["updated_at", "2016-04-14 02:57:21.078478"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:21.080850"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:21.083166"], ["updated_at", "2016-04-14 02:57:21.083166"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:21.085698"], ["updated_at", "2016-04-14 02:57:21.085698"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:21.088120"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.091535"], ["updated_at", "2016-04-14 02:57:21.091535"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:21.094665"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:21.097287"], ["updated_at", "2016-04-14 02:57:21.097287"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:21.099778"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.102888"], ["updated_at", "2016-04-14 02:57:21.102888"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:21.104954"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:21.107839"], ["updated_at", "2016-04-14 02:57:21.107839"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:21.111129"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.114604"], ["updated_at", "2016-04-14 02:57:21.114604"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:21.116444"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:21.120037"], ["updated_at", "2016-04-14 02:57:21.120037"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:21.122432"], ["id", 6]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:21.125733"], ["updated_at", "2016-04-14 02:57:21.125733"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:21.128291"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:21.130895"], ["updated_at", "2016-04-14 02:57:21.130895"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:21.132675"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.134854"], ["updated_at", "2016-04-14 02:57:21.134854"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:21.136789"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.139302"], ["updated_at", "2016-04-14 02:57:21.139302"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:21.141642"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.144284"], ["updated_at", "2016-04-14 02:57:21.144284"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:21.146002"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.148156"], ["updated_at", "2016-04-14 02:57:21.148156"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:21.149835"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.152657"], ["updated_at", "2016-04-14 02:57:21.152657"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:21.154387"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:21.156603"], ["updated_at", "2016-04-14 02:57:21.156603"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:21.158522"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.160850"], ["updated_at", "2016-04-14 02:57:21.160850"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:21.162638"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:21.165116"], ["updated_at", "2016-04-14 02:57:21.165116"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:21.167472"], ["updated_at", "2016-04-14 02:57:21.167472"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:21.169718"], ["updated_at", "2016-04-14 02:57:21.169718"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:21.172018"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:21.174497"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:21.177140"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:21.179719"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:21.182547"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:21.185333"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/1/revenue" for 127.0.0.1 at 2016-04-13 20:57:21 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[35mMerchant Load (0.4ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.8ms)[0m  [1mSELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2[0m  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (1.03ms)
Completed 200 OK in 18ms (Views: 5.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (29.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:21.255154"], ["updated_at", "2016-04-14 02:57:21.255154"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:21.258049"], ["updated_at", "2016-04-14 02:57:21.258049"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:21.260165"], ["updated_at", "2016-04-14 02:57:21.260165"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.262072"], ["updated_at", "2016-04-14 02:57:21.262072"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.264345"], ["updated_at", "2016-04-14 02:57:21.264345"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.266138"], ["updated_at", "2016-04-14 02:57:21.266138"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:21.268398"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:21.271436"], ["updated_at", "2016-04-14 02:57:21.271436"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:21.274264"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:21.276454"], ["updated_at", "2016-04-14 02:57:21.276454"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:21.278528"], ["updated_at", "2016-04-14 02:57:21.278528"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:21.281388"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.284454"], ["updated_at", "2016-04-14 02:57:21.284454"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:21.287483"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:21.290949"], ["updated_at", "2016-04-14 02:57:21.290949"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:21.293053"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.297577"], ["updated_at", "2016-04-14 02:57:21.297577"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:21.299709"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:21.308898"], ["updated_at", "2016-04-14 02:57:21.308898"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:21.311004"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.314591"], ["updated_at", "2016-04-14 02:57:21.314591"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:21.317798"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:21.320730"], ["updated_at", "2016-04-14 02:57:21.320730"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:21.322756"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:21.325622"], ["updated_at", "2016-04-14 02:57:21.325622"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:21.328188"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:21.331030"], ["updated_at", "2016-04-14 02:57:21.331030"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:21.333236"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.335926"], ["updated_at", "2016-04-14 02:57:21.335926"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:21.337889"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.340866"], ["updated_at", "2016-04-14 02:57:21.340866"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:21.343788"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.346831"], ["updated_at", "2016-04-14 02:57:21.346831"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:21.348982"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.351501"], ["updated_at", "2016-04-14 02:57:21.351501"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:21.353407"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.355652"], ["updated_at", "2016-04-14 02:57:21.355652"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:21.357666"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:21.360179"], ["updated_at", "2016-04-14 02:57:21.360179"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:21.362059"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.364506"], ["updated_at", "2016-04-14 02:57:21.364506"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:21.366413"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:21.368560"], ["updated_at", "2016-04-14 02:57:21.368560"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:21.370911"], ["updated_at", "2016-04-14 02:57:21.370911"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:21.372840"], ["updated_at", "2016-04-14 02:57:21.372840"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:21.375317"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:21.377737"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:21.380098"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:21.382313"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:21.385341"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:21.388042"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/1/revenue" for 127.0.0.1 at 2016-04-13 20:57:21 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[35mMerchant Load (0.3ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.8ms)[0m  [1mSELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2[0m  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.12ms)
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.5ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (27.0ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:21.433807"], ["updated_at", "2016-04-14 02:57:21.433807"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:21.437398"], ["updated_at", "2016-04-14 02:57:21.437398"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:21.439870"], ["updated_at", "2016-04-14 02:57:21.439870"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.442161"], ["updated_at", "2016-04-14 02:57:21.442161"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.444630"], ["updated_at", "2016-04-14 02:57:21.444630"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.446641"], ["updated_at", "2016-04-14 02:57:21.446641"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:21.448966"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:21.452712"], ["updated_at", "2016-04-14 02:57:21.452712"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:21.456688"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:21.459326"], ["updated_at", "2016-04-14 02:57:21.459326"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:21.462203"], ["updated_at", "2016-04-14 02:57:21.462203"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:21.464693"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.468351"], ["updated_at", "2016-04-14 02:57:21.468351"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:21.471176"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:21.474036"], ["updated_at", "2016-04-14 02:57:21.474036"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:21.476443"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.481030"], ["updated_at", "2016-04-14 02:57:21.481030"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:21.483185"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:21.486513"], ["updated_at", "2016-04-14 02:57:21.486513"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:21.488881"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.491744"], ["updated_at", "2016-04-14 02:57:21.491744"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:21.493717"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:21.496449"], ["updated_at", "2016-04-14 02:57:21.496449"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:21.499881"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:21.503362"], ["updated_at", "2016-04-14 02:57:21.503362"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:21.505450"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:21.508173"], ["updated_at", "2016-04-14 02:57:21.508173"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:21.510120"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.512667"], ["updated_at", "2016-04-14 02:57:21.512667"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:21.514788"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.517284"], ["updated_at", "2016-04-14 02:57:21.517284"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:21.519713"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.522374"], ["updated_at", "2016-04-14 02:57:21.522374"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:21.524089"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.526567"], ["updated_at", "2016-04-14 02:57:21.526567"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:21.528283"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.530529"], ["updated_at", "2016-04-14 02:57:21.530529"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:21.532309"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:21.534684"], ["updated_at", "2016-04-14 02:57:21.534684"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:21.537254"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.539921"], ["updated_at", "2016-04-14 02:57:21.539921"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:21.541827"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:21.543968"], ["updated_at", "2016-04-14 02:57:21.543968"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:21.546275"], ["updated_at", "2016-04-14 02:57:21.546275"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:21.548143"], ["updated_at", "2016-04-14 02:57:21.548143"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:21.550740"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:21.553480"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:21.556023"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:21.558165"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:21.560655"], ["id", 6]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:21.564195"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/1/revenue" for 127.0.0.1 at 2016-04-13 20:57:21 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[35mMerchant Load (0.3ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.8ms)[0m  [1mSELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2[0m  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.13ms)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (29.5ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:21.612965"], ["updated_at", "2016-04-14 02:57:21.612965"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:21.616184"], ["updated_at", "2016-04-14 02:57:21.616184"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:21.618804"], ["updated_at", "2016-04-14 02:57:21.618804"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.622451"], ["updated_at", "2016-04-14 02:57:21.622451"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.624955"], ["updated_at", "2016-04-14 02:57:21.624955"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.627429"], ["updated_at", "2016-04-14 02:57:21.627429"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:21.630061"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:21.633067"], ["updated_at", "2016-04-14 02:57:21.633067"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:21.635693"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:21.637872"], ["updated_at", "2016-04-14 02:57:21.637872"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:21.640493"], ["updated_at", "2016-04-14 02:57:21.640493"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:21.643124"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.647061"], ["updated_at", "2016-04-14 02:57:21.647061"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:21.650018"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:21.652937"], ["updated_at", "2016-04-14 02:57:21.652937"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:21.655170"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.658273"], ["updated_at", "2016-04-14 02:57:21.658273"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:21.661786"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:21.665492"], ["updated_at", "2016-04-14 02:57:21.665492"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:21.667561"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.670580"], ["updated_at", "2016-04-14 02:57:21.670580"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:21.672460"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:21.675299"], ["updated_at", "2016-04-14 02:57:21.675299"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:21.677139"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:21.680205"], ["updated_at", "2016-04-14 02:57:21.680205"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:21.682203"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:21.684767"], ["updated_at", "2016-04-14 02:57:21.684767"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:21.686803"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.689368"], ["updated_at", "2016-04-14 02:57:21.689368"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:21.691681"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.694078"], ["updated_at", "2016-04-14 02:57:21.694078"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:21.696411"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.699176"], ["updated_at", "2016-04-14 02:57:21.699176"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:21.700882"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.703329"], ["updated_at", "2016-04-14 02:57:21.703329"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:21.705022"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.707360"], ["updated_at", "2016-04-14 02:57:21.707360"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:21.709103"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:21.711331"], ["updated_at", "2016-04-14 02:57:21.711331"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:21.713093"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.715968"], ["updated_at", "2016-04-14 02:57:21.715968"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:21.717974"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:21.720070"], ["updated_at", "2016-04-14 02:57:21.720070"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:21.722300"], ["updated_at", "2016-04-14 02:57:21.722300"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:21.724221"], ["updated_at", "2016-04-14 02:57:21.724221"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:21.726457"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:21.728822"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:21.731275"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:21.733267"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:21.735622"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:21.738146"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/1/revenue?date=2012-03-16%2011:55:05" for 127.0.0.1 at 2016-04-13 20:57:21 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"date"=>"2012-03-16 11:55:05", "merchant_id"=>"1"}
  [1m[35mMerchant Load (0.4ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.7ms)[0m  [1mSELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 AND "invoices"."created_at" = $3[0m  [["merchant_id", 1], ["result", "success"], ["created_at", "2012-03-16 11:55:05"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.12ms)
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (30.2ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:21.788394"], ["updated_at", "2016-04-14 02:57:21.788394"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:21.791760"], ["updated_at", "2016-04-14 02:57:21.791760"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:21.794601"], ["updated_at", "2016-04-14 02:57:21.794601"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.796756"], ["updated_at", "2016-04-14 02:57:21.796756"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.799024"], ["updated_at", "2016-04-14 02:57:21.799024"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.801131"], ["updated_at", "2016-04-14 02:57:21.801131"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:21.803461"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:21.806231"], ["updated_at", "2016-04-14 02:57:21.806231"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:21.808681"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:21.810954"], ["updated_at", "2016-04-14 02:57:21.810954"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:21.813095"], ["updated_at", "2016-04-14 02:57:21.813095"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:21.815416"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.818828"], ["updated_at", "2016-04-14 02:57:21.818828"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:21.821836"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:21.825352"], ["updated_at", "2016-04-14 02:57:21.825352"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:21.829313"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.832924"], ["updated_at", "2016-04-14 02:57:21.832924"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:21.835505"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:21.838115"], ["updated_at", "2016-04-14 02:57:21.838115"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:21.840120"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.843251"], ["updated_at", "2016-04-14 02:57:21.843251"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:21.845722"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:21.849635"], ["updated_at", "2016-04-14 02:57:21.849635"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:21.852033"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:21.854917"], ["updated_at", "2016-04-14 02:57:21.854917"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:21.856847"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:21.859566"], ["updated_at", "2016-04-14 02:57:21.859566"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:21.861548"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:21.863740"], ["updated_at", "2016-04-14 02:57:21.863740"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:21.865729"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.868334"], ["updated_at", "2016-04-14 02:57:21.868334"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:21.870902"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.873906"], ["updated_at", "2016-04-14 02:57:21.873906"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:21.875623"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.877975"], ["updated_at", "2016-04-14 02:57:21.877975"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:21.879663"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.882139"], ["updated_at", "2016-04-14 02:57:21.882139"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:21.885628"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:21.888308"], ["updated_at", "2016-04-14 02:57:21.888308"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:21.890176"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:21.893131"], ["updated_at", "2016-04-14 02:57:21.893131"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:21.895333"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:21.897532"], ["updated_at", "2016-04-14 02:57:21.897532"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:21.900220"], ["updated_at", "2016-04-14 02:57:21.900220"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:21.902869"], ["updated_at", "2016-04-14 02:57:21.902869"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:21.905132"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:21.907923"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:21.910508"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:21.912669"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:21.914794"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:21.918399"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/1/revenue?date=2012-03-16%2011:55:05" for 127.0.0.1 at 2016-04-13 20:57:21 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"date"=>"2012-03-16 11:55:05", "merchant_id"=>"1"}
  [1m[35mMerchant Load (0.3ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.8ms)[0m  [1mSELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 AND "invoices"."created_at" = $3[0m  [["merchant_id", 1], ["result", "success"], ["created_at", "2012-03-16 11:55:05"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.17ms)
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.7ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (33.7ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:21.972386"], ["updated_at", "2016-04-14 02:57:21.972386"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:21.976033"], ["updated_at", "2016-04-14 02:57:21.976033"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:21.978527"], ["updated_at", "2016-04-14 02:57:21.978527"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.980536"], ["updated_at", "2016-04-14 02:57:21.980536"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.984137"], ["updated_at", "2016-04-14 02:57:21.984137"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:21.986894"], ["updated_at", "2016-04-14 02:57:21.986894"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:21.989462"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:21.992889"], ["updated_at", "2016-04-14 02:57:21.992889"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:21.995683"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:21.998893"], ["updated_at", "2016-04-14 02:57:21.998893"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:22.001570"], ["updated_at", "2016-04-14 02:57:22.001570"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:22.005151"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.008707"], ["updated_at", "2016-04-14 02:57:22.008707"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:22.013193"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:22.016743"], ["updated_at", "2016-04-14 02:57:22.016743"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:22.019074"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.021973"], ["updated_at", "2016-04-14 02:57:22.021973"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:22.024716"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:22.027299"], ["updated_at", "2016-04-14 02:57:22.027299"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:22.029281"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.032356"], ["updated_at", "2016-04-14 02:57:22.032356"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:22.034412"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:22.037397"], ["updated_at", "2016-04-14 02:57:22.037397"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:22.039451"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:22.042372"], ["updated_at", "2016-04-14 02:57:22.042372"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:22.044335"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:22.047079"], ["updated_at", "2016-04-14 02:57:22.047079"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:22.049308"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.052041"], ["updated_at", "2016-04-14 02:57:22.052041"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:22.054249"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.056826"], ["updated_at", "2016-04-14 02:57:22.056826"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:22.059284"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.062192"], ["updated_at", "2016-04-14 02:57:22.062192"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:22.064069"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.066531"], ["updated_at", "2016-04-14 02:57:22.066531"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:22.068364"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.070874"], ["updated_at", "2016-04-14 02:57:22.070874"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:22.072611"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:22.075072"], ["updated_at", "2016-04-14 02:57:22.075072"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:22.077162"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.079554"], ["updated_at", "2016-04-14 02:57:22.079554"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:22.081289"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:22.083254"], ["updated_at", "2016-04-14 02:57:22.083254"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:22.085581"], ["updated_at", "2016-04-14 02:57:22.085581"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:22.087600"], ["updated_at", "2016-04-14 02:57:22.087600"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:22.089881"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:22.092347"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:22.094747"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:22.096945"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:22.098984"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:22.101878"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/1/revenue?date=2012-03-16%2011:55:05" for 127.0.0.1 at 2016-04-13 20:57:22 -0600
Processing by Api::V1::Merchants::RevenueController#show as JSON
  Parameters: {"date"=>"2012-03-16 11:55:05", "merchant_id"=>"1"}
  [1m[35mMerchant Load (0.5ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.9ms)[0m  [1mSELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 AND "invoices"."created_at" = $3[0m  [["merchant_id", 1], ["result", "success"], ["created_at", "2012-03-16 11:55:05"]]
[active_model_serializers] Rendered MerchantTotalRevenueSerializer with ActiveModelSerializers::Adapter::Attributes (0.14ms)
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (33.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (3.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:22.157502"], ["updated_at", "2016-04-14 02:57:22.157502"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:22.161620"], ["updated_at", "2016-04-14 02:57:22.161620"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:22.164438"], ["updated_at", "2016-04-14 02:57:22.164438"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:22.166871"], ["updated_at", "2016-04-14 02:57:22.166871"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:22.170196"], ["updated_at", "2016-04-14 02:57:22.170196"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:22.172110"], ["updated_at", "2016-04-14 02:57:22.172110"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:22.174354"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:22.178540"], ["updated_at", "2016-04-14 02:57:22.178540"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:22.182941"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:22.185422"], ["updated_at", "2016-04-14 02:57:22.185422"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:22.187739"], ["updated_at", "2016-04-14 02:57:22.187739"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:22.190810"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.194981"], ["updated_at", "2016-04-14 02:57:22.194981"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:22.200389"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:22.203700"], ["updated_at", "2016-04-14 02:57:22.203700"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:22.206056"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.209310"], ["updated_at", "2016-04-14 02:57:22.209310"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:22.212030"], ["id", 3]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:22.216990"], ["updated_at", "2016-04-14 02:57:22.216990"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:22.219353"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.222192"], ["updated_at", "2016-04-14 02:57:22.222192"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:22.224600"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:22.228347"], ["updated_at", "2016-04-14 02:57:22.228347"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:22.231315"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:22.236391"], ["updated_at", "2016-04-14 02:57:22.236391"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:22.240597"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:22.243804"], ["updated_at", "2016-04-14 02:57:22.243804"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:22.248298"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.251312"], ["updated_at", "2016-04-14 02:57:22.251312"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:22.254320"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.256958"], ["updated_at", "2016-04-14 02:57:22.256958"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:22.259419"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.263094"], ["updated_at", "2016-04-14 02:57:22.263094"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:22.267122"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.269629"], ["updated_at", "2016-04-14 02:57:22.269629"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:22.271999"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.274449"], ["updated_at", "2016-04-14 02:57:22.274449"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:22.276205"], ["id", 4]]
  [1m[35m (1.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:22.280673"], ["updated_at", "2016-04-14 02:57:22.280673"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:22.284393"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.286982"], ["updated_at", "2016-04-14 02:57:22.286982"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:22.289501"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:22.291691"], ["updated_at", "2016-04-14 02:57:22.291691"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:22.294262"], ["updated_at", "2016-04-14 02:57:22.294262"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:22.298020"], ["updated_at", "2016-04-14 02:57:22.298020"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:22.300977"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:22.303452"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:22.306696"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:22.308851"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:22.311224"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:22.315959"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/1/favorite_customer" for 127.0.0.1 at 2016-04-13 20:57:22 -0600
Processing by Api::V1::Merchants::FavoriteCustomerController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[35mMerchant Load (0.6ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mCustomer Load (1.2ms)[0m  [1mSELECT  customers.*, COUNT(transactions.id) AS transaction_count FROM "customers" INNER JOIN "invoices" "invoices_customers_join" ON "invoices_customers_join"."customer_id" = "customers"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_customers_join"."id" INNER JOIN "invoices" ON "customers"."id" = "invoices"."customer_id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 GROUP BY "customers"."id"  ORDER BY transaction_count DESC LIMIT 1[0m  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (1.05ms)
Completed 200 OK in 14ms (Views: 1.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.8ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (38.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.9ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:22.390487"], ["updated_at", "2016-04-14 02:57:22.390487"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:22.393743"], ["updated_at", "2016-04-14 02:57:22.393743"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:22.397554"], ["updated_at", "2016-04-14 02:57:22.397554"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:22.401657"], ["updated_at", "2016-04-14 02:57:22.401657"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:22.404991"], ["updated_at", "2016-04-14 02:57:22.404991"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:22.407231"], ["updated_at", "2016-04-14 02:57:22.407231"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:22.409808"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:22.415284"], ["updated_at", "2016-04-14 02:57:22.415284"]]
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:22.425796"]]
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:22.433545"], ["updated_at", "2016-04-14 02:57:22.433545"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:22.437544"], ["updated_at", "2016-04-14 02:57:22.437544"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:22.441888"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.449314"], ["updated_at", "2016-04-14 02:57:22.449314"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:22.458251"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:22.461665"], ["updated_at", "2016-04-14 02:57:22.461665"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:22.466304"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.470038"], ["updated_at", "2016-04-14 02:57:22.470038"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:22.472827"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:22.475499"], ["updated_at", "2016-04-14 02:57:22.475499"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:22.478161"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.482686"], ["updated_at", "2016-04-14 02:57:22.482686"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:22.485036"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:22.488249"], ["updated_at", "2016-04-14 02:57:22.488249"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:22.490979"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:22.495158"], ["updated_at", "2016-04-14 02:57:22.495158"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:22.498616"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:22.502855"], ["updated_at", "2016-04-14 02:57:22.502855"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:22.504956"], ["id", 8]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.508157"], ["updated_at", "2016-04-14 02:57:22.508157"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:22.510598"], ["id", 9]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.514598"], ["updated_at", "2016-04-14 02:57:22.514598"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:22.518521"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.521591"], ["updated_at", "2016-04-14 02:57:22.521591"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:22.524040"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.526775"], ["updated_at", "2016-04-14 02:57:22.526775"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:22.529440"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.533184"], ["updated_at", "2016-04-14 02:57:22.533184"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:22.535704"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:22.538333"], ["updated_at", "2016-04-14 02:57:22.538333"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:22.550118"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.552845"], ["updated_at", "2016-04-14 02:57:22.552845"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:22.554676"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:22.556664"], ["updated_at", "2016-04-14 02:57:22.556664"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:22.558982"], ["updated_at", "2016-04-14 02:57:22.558982"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:22.561810"], ["updated_at", "2016-04-14 02:57:22.561810"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:22.564615"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:22.567072"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:22.569903"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:22.572137"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:22.574171"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:22.576804"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/1/favorite_customer" for 127.0.0.1 at 2016-04-13 20:57:22 -0600
Processing by Api::V1::Merchants::FavoriteCustomerController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[35mMerchant Load (0.4ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mCustomer Load (1.3ms)[0m  [1mSELECT  customers.*, COUNT(transactions.id) AS transaction_count FROM "customers" INNER JOIN "invoices" "invoices_customers_join" ON "invoices_customers_join"."customer_id" = "customers"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_customers_join"."id" INNER JOIN "invoices" ON "customers"."id" = "invoices"."customer_id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 GROUP BY "customers"."id"  ORDER BY transaction_count DESC LIMIT 1[0m  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.76ms)
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.8ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (32.0ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:22.633132"], ["updated_at", "2016-04-14 02:57:22.633132"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:22.637237"], ["updated_at", "2016-04-14 02:57:22.637237"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:22.639600"], ["updated_at", "2016-04-14 02:57:22.639600"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:22.641597"], ["updated_at", "2016-04-14 02:57:22.641597"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:22.644113"], ["updated_at", "2016-04-14 02:57:22.644113"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:22.646043"], ["updated_at", "2016-04-14 02:57:22.646043"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:22.648307"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:22.651533"], ["updated_at", "2016-04-14 02:57:22.651533"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:22.654475"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:22.656563"], ["updated_at", "2016-04-14 02:57:22.656563"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:22.658661"], ["updated_at", "2016-04-14 02:57:22.658661"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:22.662271"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.666017"], ["updated_at", "2016-04-14 02:57:22.666017"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:22.669514"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:22.672272"], ["updated_at", "2016-04-14 02:57:22.672272"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:22.674432"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.678153"], ["updated_at", "2016-04-14 02:57:22.678153"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:22.682451"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:22.685324"], ["updated_at", "2016-04-14 02:57:22.685324"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:22.687467"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.690462"], ["updated_at", "2016-04-14 02:57:22.690462"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:22.692343"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:22.695906"], ["updated_at", "2016-04-14 02:57:22.695906"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:22.697953"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:22.701461"], ["updated_at", "2016-04-14 02:57:22.701461"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:22.703746"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:22.706691"], ["updated_at", "2016-04-14 02:57:22.706691"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:22.708780"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.711780"], ["updated_at", "2016-04-14 02:57:22.711780"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:22.714259"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.717034"], ["updated_at", "2016-04-14 02:57:22.717034"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:22.720461"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.723152"], ["updated_at", "2016-04-14 02:57:22.723152"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:22.724866"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.727716"], ["updated_at", "2016-04-14 02:57:22.727716"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:22.729628"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.731980"], ["updated_at", "2016-04-14 02:57:22.731980"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:22.733797"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:22.736810"], ["updated_at", "2016-04-14 02:57:22.736810"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:22.738758"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:22.741256"], ["updated_at", "2016-04-14 02:57:22.741256"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:22.743711"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:22.746724"], ["updated_at", "2016-04-14 02:57:22.746724"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:22.749085"], ["updated_at", "2016-04-14 02:57:22.749085"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:22.751404"], ["updated_at", "2016-04-14 02:57:22.751404"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:22.753909"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:22.756196"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:22.758471"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:22.761570"], ["id", 5]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:22.766600"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:22.769833"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/1/favorite_customer" for 127.0.0.1 at 2016-04-13 20:57:22 -0600
Processing by Api::V1::Merchants::FavoriteCustomerController#show as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[35mMerchant Load (0.5ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mCustomer Load (1.3ms)[0m  [1mSELECT  customers.*, COUNT(transactions.id) AS transaction_count FROM "customers" INNER JOIN "invoices" "invoices_customers_join" ON "invoices_customers_join"."customer_id" = "customers"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices_customers_join"."id" INNER JOIN "invoices" ON "customers"."id" = "invoices"."customer_id" WHERE "invoices"."merchant_id" = $1 AND "transactions"."result" = $2 GROUP BY "customers"."id"  ORDER BY transaction_count DESC LIMIT 1[0m  [["merchant_id", 1], ["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Customer (0.87ms)
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 1.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (2.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (49.1ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:22.843603"], ["updated_at", "2016-04-14 02:57:22.843603"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:22.849714"], ["updated_at", "2016-04-14 02:57:22.849714"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:22.855198"], ["updated_at", "2016-04-14 02:57:22.855198"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:22.859725"], ["updated_at", "2016-04-14 02:57:22.859725"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:22.864790"], ["updated_at", "2016-04-14 02:57:22.864790"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:22.869144"], ["updated_at", "2016-04-14 02:57:22.869144"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:22.874198"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:22.880566"], ["updated_at", "2016-04-14 02:57:22.880566"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:22.886803"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:22.891781"], ["updated_at", "2016-04-14 02:57:22.891781"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:22.896669"], ["updated_at", "2016-04-14 02:57:22.896669"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:22.901867"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.909004"], ["updated_at", "2016-04-14 02:57:22.909004"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:22.914391"], ["id", 1]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:22.920730"], ["updated_at", "2016-04-14 02:57:22.920730"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:22.925223"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.931056"], ["updated_at", "2016-04-14 02:57:22.931056"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:22.935830"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:22.941232"], ["updated_at", "2016-04-14 02:57:22.941232"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:22.945521"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.952232"], ["updated_at", "2016-04-14 02:57:22.952232"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:22.956720"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:22.962668"], ["updated_at", "2016-04-14 02:57:22.962668"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:22.968676"], ["id", 6]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:22.974815"], ["updated_at", "2016-04-14 02:57:22.974815"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:22.978782"], ["id", 7]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:22.984557"], ["updated_at", "2016-04-14 02:57:22.984557"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:22.989090"], ["id", 8]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:22.994066"], ["updated_at", "2016-04-14 02:57:22.994066"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:22.998383"], ["id", 9]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:23.003794"], ["updated_at", "2016-04-14 02:57:23.003794"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:23.008694"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:23.013963"], ["updated_at", "2016-04-14 02:57:23.013963"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:23.018201"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:23.023490"], ["updated_at", "2016-04-14 02:57:23.023490"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:23.027495"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:23.032502"], ["updated_at", "2016-04-14 02:57:23.032502"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:23.036292"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:23.040950"], ["updated_at", "2016-04-14 02:57:23.040950"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:23.044809"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:23.049451"], ["updated_at", "2016-04-14 02:57:23.049451"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:23.053281"], ["id", 6]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:23.057558"], ["updated_at", "2016-04-14 02:57:23.057558"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:23.062063"], ["updated_at", "2016-04-14 02:57:23.062063"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:23.066222"], ["updated_at", "2016-04-14 02:57:23.066222"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:23.071371"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:23.076156"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:23.081132"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:23.085422"], ["id", 5]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:23.089793"], ["id", 6]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:23.094826"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/2/customers_with_pending_invoices" for 127.0.0.1 at 2016-04-13 20:57:23 -0600
Processing by Api::V1::Merchants::CustomersWithPendingInvoicesController#index as JSON
  Parameters: {"merchant_id"=>"2"}
  [1m[35mMerchant Load (0.5ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.7ms)[0m  [1mSELECT "invoices"."customer_id" FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND (result = 'failed') GROUP BY "invoices"."customer_id"[0m  [["merchant_id", 2]]
  [1m[35mCustomer Load (0.5ms)[0m  SELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1  [["id", 2]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (0.48ms)
Completed 200 OK in 19ms (Views: 3.0ms | ActiveRecord: 1.7ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (50.5ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:23.200304"], ["updated_at", "2016-04-14 02:57:23.200304"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:23.206476"], ["updated_at", "2016-04-14 02:57:23.206476"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:23.211688"], ["updated_at", "2016-04-14 02:57:23.211688"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:23.216161"], ["updated_at", "2016-04-14 02:57:23.216161"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:23.222571"], ["updated_at", "2016-04-14 02:57:23.222571"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:23.227088"], ["updated_at", "2016-04-14 02:57:23.227088"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:23.233383"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:23.240273"], ["updated_at", "2016-04-14 02:57:23.240273"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:23.245857"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:23.252706"], ["updated_at", "2016-04-14 02:57:23.252706"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:23.258521"], ["updated_at", "2016-04-14 02:57:23.258521"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:23.263982"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:23.273071"], ["updated_at", "2016-04-14 02:57:23.273071"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:23.278479"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:23.286159"], ["updated_at", "2016-04-14 02:57:23.286159"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:23.291187"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:23.297322"], ["updated_at", "2016-04-14 02:57:23.297322"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:23.302315"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:23.307673"], ["updated_at", "2016-04-14 02:57:23.307673"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:23.311944"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:23.319090"], ["updated_at", "2016-04-14 02:57:23.319090"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:23.324209"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:23.330631"], ["updated_at", "2016-04-14 02:57:23.330631"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:23.335974"], ["id", 6]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:23.342948"], ["updated_at", "2016-04-14 02:57:23.342948"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:23.347436"], ["id", 7]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:23.355032"], ["updated_at", "2016-04-14 02:57:23.355032"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:23.359454"], ["id", 8]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:23.364514"], ["updated_at", "2016-04-14 02:57:23.364514"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:23.371042"], ["id", 9]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:23.376408"], ["updated_at", "2016-04-14 02:57:23.376408"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:23.381417"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:23.388855"], ["updated_at", "2016-04-14 02:57:23.388855"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:23.393320"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:23.399299"], ["updated_at", "2016-04-14 02:57:23.399299"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:23.403685"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:23.409058"], ["updated_at", "2016-04-14 02:57:23.409058"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:23.413486"], ["id", 4]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:23.419722"], ["updated_at", "2016-04-14 02:57:23.419722"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:23.424078"], ["id", 5]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:23.429049"], ["updated_at", "2016-04-14 02:57:23.429049"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:23.433568"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:23.438450"], ["updated_at", "2016-04-14 02:57:23.438450"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:23.443751"], ["updated_at", "2016-04-14 02:57:23.443751"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:23.448002"], ["updated_at", "2016-04-14 02:57:23.448002"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:23.453445"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:23.458740"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:23.463842"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:23.468737"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:23.473790"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:23.479055"], ["id", 4]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/2/customers_with_pending_invoices" for 127.0.0.1 at 2016-04-13 20:57:23 -0600
Processing by Api::V1::Merchants::CustomersWithPendingInvoicesController#index as JSON
  Parameters: {"merchant_id"=>"2"}
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.8ms)[0m  SELECT "invoices"."customer_id" FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND (result = 'failed') GROUP BY "invoices"."customer_id"  [["merchant_id", 2]]
  [1m[36mCustomer Load (0.5ms)[0m  [1mSELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1[0m  [["id", 2]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (0.66ms)
Completed 200 OK in 11ms (Views: 2.6ms | ActiveRecord: 1.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (2.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (51.0ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.9ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:23.565646"], ["updated_at", "2016-04-14 02:57:23.565646"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:23.571665"], ["updated_at", "2016-04-14 02:57:23.571665"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:23.576807"], ["updated_at", "2016-04-14 02:57:23.576807"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:23.581310"], ["updated_at", "2016-04-14 02:57:23.581310"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:23.586366"], ["updated_at", "2016-04-14 02:57:23.586366"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:23.590570"], ["updated_at", "2016-04-14 02:57:23.590570"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:23.595203"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:23.600878"], ["updated_at", "2016-04-14 02:57:23.600878"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:23.605596"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:23.610277"], ["updated_at", "2016-04-14 02:57:23.610277"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:23.616734"], ["updated_at", "2016-04-14 02:57:23.616734"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:23.622846"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:23.629905"], ["updated_at", "2016-04-14 02:57:23.629905"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:23.637034"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:23.642956"], ["updated_at", "2016-04-14 02:57:23.642956"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:23.647583"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:23.656495"], ["updated_at", "2016-04-14 02:57:23.656495"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:23.660942"], ["id", 3]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:23.667581"], ["updated_at", "2016-04-14 02:57:23.667581"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:23.672062"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:23.677897"], ["updated_at", "2016-04-14 02:57:23.677897"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:23.683424"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:23.687710"], ["updated_at", "2016-04-14 02:57:23.687710"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:23.690053"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:23.693180"], ["updated_at", "2016-04-14 02:57:23.693180"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:23.695525"], ["id", 7]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:23.701321"], ["updated_at", "2016-04-14 02:57:23.701321"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:23.704075"], ["id", 8]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:23.708230"], ["updated_at", "2016-04-14 02:57:23.708230"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:23.711081"], ["id", 9]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:23.715243"], ["updated_at", "2016-04-14 02:57:23.715243"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:23.718955"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:23.721819"], ["updated_at", "2016-04-14 02:57:23.721819"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:23.724284"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:23.726826"], ["updated_at", "2016-04-14 02:57:23.726826"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:23.730294"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:23.734508"], ["updated_at", "2016-04-14 02:57:23.734508"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:23.737091"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:23.739795"], ["updated_at", "2016-04-14 02:57:23.739795"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:23.741686"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:23.744539"], ["updated_at", "2016-04-14 02:57:23.744539"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:23.748502"], ["id", 6]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:23.752533"], ["updated_at", "2016-04-14 02:57:23.752533"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:23.755288"], ["updated_at", "2016-04-14 02:57:23.755288"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:23.757520"], ["updated_at", "2016-04-14 02:57:23.757520"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:23.759707"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:23.763439"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:23.767714"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:23.770121"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:23.773669"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:23.776099"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/2/customers_with_pending_invoices" for 127.0.0.1 at 2016-04-13 20:57:23 -0600
Processing by Api::V1::Merchants::CustomersWithPendingInvoicesController#index as JSON
  Parameters: {"merchant_id"=>"2"}
  [1m[35mMerchant Load (0.4ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.8ms)[0m  [1mSELECT "invoices"."customer_id" FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" WHERE "invoices"."merchant_id" = $1 AND (result = 'failed') GROUP BY "invoices"."customer_id"[0m  [["merchant_id", 2]]
  [1m[35mCustomer Load (0.4ms)[0m  SELECT  "customers".* FROM "customers" WHERE "customers"."id" = $1 LIMIT 1  [["id", 2]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (0.23ms)
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 1.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (38.1ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.6ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:23.838864"], ["updated_at", "2016-04-14 02:57:23.838864"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:23.843976"], ["updated_at", "2016-04-14 02:57:23.843976"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "items" SET "merchant_id" = $1, "updated_at" = $2 WHERE "items"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:23.847905"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:23.850967"], ["updated_at", "2016-04-14 02:57:23.850967"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "items" SET "merchant_id" = $1, "updated_at" = $2 WHERE "items"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:23.853323"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:23.856694"], ["updated_at", "2016-04-14 02:57:23.856694"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/1/items" for 127.0.0.1 at 2016-04-13 20:57:23 -0600
Processing by Api::V1::Merchants::ItemsController#index as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[35mMerchant Load (0.4ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.6ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."merchant_id" = $1  ORDER BY "items"."id" ASC[0m  [["merchant_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Item::ActiveRecord_Associations_CollectionProxy (1.03ms)
Completed 200 OK in 14ms (Views: 5.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (27.5ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:23.918179"], ["updated_at", "2016-04-14 02:57:23.918179"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:23.922751"], ["updated_at", "2016-04-14 02:57:23.922751"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "items" SET "merchant_id" = $1, "updated_at" = $2 WHERE "items"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:23.925592"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:23.929235"], ["updated_at", "2016-04-14 02:57:23.929235"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "items" SET "merchant_id" = $1, "updated_at" = $2 WHERE "items"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:23.933323"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:23.936235"], ["updated_at", "2016-04-14 02:57:23.936235"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/items" for 127.0.0.1 at 2016-04-13 20:57:23 -0600
Processing by Api::V1::Merchants::ItemsController#index as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mItem Load (0.3ms)[0m  SELECT "items".* FROM "items" WHERE "items"."merchant_id" = $1  ORDER BY "items"."id" ASC  [["merchant_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Item::ActiveRecord_Associations_CollectionProxy (0.79ms)
Completed 200 OK in 5ms (Views: 3.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (35.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:23.990759"], ["updated_at", "2016-04-14 02:57:23.990759"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:23.994194"], ["updated_at", "2016-04-14 02:57:23.994194"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "items" SET "merchant_id" = $1, "updated_at" = $2 WHERE "items"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:23.998424"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:24.001192"], ["updated_at", "2016-04-14 02:57:24.001192"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "items" SET "merchant_id" = $1, "updated_at" = $2 WHERE "items"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:24.004124"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "101.0"], ["created_at", "2016-04-14 02:57:24.006661"], ["updated_at", "2016-04-14 02:57:24.006661"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/1/items" for 127.0.0.1 at 2016-04-13 20:57:24 -0600
Processing by Api::V1::Merchants::ItemsController#index as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[35mMerchant Load (0.4ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mItem Load (0.4ms)[0m  [1mSELECT "items".* FROM "items" WHERE "items"."merchant_id" = $1  ORDER BY "items"."id" ASC[0m  [["merchant_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Item::ActiveRecord_Associations_CollectionProxy (0.79ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (32.1ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:24.060183"], ["updated_at", "2016-04-14 02:57:24.060183"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:24.063635"], ["updated_at", "2016-04-14 02:57:24.063635"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:24.067040"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "pending"], ["created_at", "2016-04-14 02:57:24.071067"], ["updated_at", "2016-04-14 02:57:24.071067"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:24.073764"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "failed"], ["created_at", "2016-04-14 02:57:24.076772"], ["updated_at", "2016-04-14 02:57:24.076772"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/invoices" for 127.0.0.1 at 2016-04-13 20:57:24 -0600
Processing by Api::V1::Merchants::InvoicesController#index as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.4ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mInvoice Load (0.3ms)[0m  SELECT "invoices".* FROM "invoices" WHERE "invoices"."merchant_id" = $1  [["merchant_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Invoice::ActiveRecord_Associations_CollectionProxy (0.67ms)
Completed 200 OK in 10ms (Views: 3.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (64.6ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.6ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:24.180512"], ["updated_at", "2016-04-14 02:57:24.180512"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "shipped"], ["created_at", "2016-04-14 02:57:24.190586"], ["updated_at", "2016-04-14 02:57:24.190586"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:24.195636"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "pending"], ["created_at", "2016-04-14 02:57:24.200397"], ["updated_at", "2016-04-14 02:57:24.200397"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:24.204449"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "failed"], ["created_at", "2016-04-14 02:57:24.207389"], ["updated_at", "2016-04-14 02:57:24.207389"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/1/invoices" for 127.0.0.1 at 2016-04-13 20:57:24 -0600
Processing by Api::V1::Merchants::InvoicesController#index as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[35mMerchant Load (0.5ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mInvoice Load (0.4ms)[0m  [1mSELECT "invoices".* FROM "invoices" WHERE "invoices"."merchant_id" = $1[0m  [["merchant_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Invoice::ActiveRecord_Associations_CollectionProxy (0.69ms)
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.9ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (124.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.5ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:24.362500"], ["updated_at", "2016-04-14 02:57:24.362500"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2016-04-14 02:57:24.369116"], ["updated_at", "2016-04-14 02:57:24.369116"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:24.377510"], ["id", 1]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "pending"], ["created_at", "2016-04-14 02:57:24.384907"], ["updated_at", "2016-04-14 02:57:24.384907"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:24.401996"], ["id", 2]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "failed"], ["created_at", "2016-04-14 02:57:24.408660"], ["updated_at", "2016-04-14 02:57:24.408660"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1/invoices" for 127.0.0.1 at 2016-04-13 20:57:24 -0600
Processing by Api::V1::Merchants::InvoicesController#index as JSON
  Parameters: {"merchant_id"=>"1"}
  [1m[36mMerchant Load (0.7ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mInvoice Load (0.6ms)[0m  SELECT "invoices".* FROM "invoices" WHERE "invoices"."merchant_id" = $1  [["merchant_id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Invoice::ActiveRecord_Associations_CollectionProxy (0.85ms)
Completed 200 OK in 19ms (Views: 11.2ms | ActiveRecord: 1.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (34.2ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:24.485194"], ["updated_at", "2016-04-14 02:57:24.485194"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants" for 127.0.0.1 at 2016-04-13 20:57:24 -0600
Processing by Api::V1::MerchantsController#index as JSON
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT "merchants".* FROM "merchants"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Merchant::ActiveRecord_Relation (0.28ms)
Completed 200 OK in 9ms (Views: 3.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (45.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:24.561735"], ["updated_at", "2016-04-14 02:57:24.561735"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants" for 127.0.0.1 at 2016-04-13 20:57:24 -0600
Processing by Api::V1::MerchantsController#index as JSON
  [1m[35mMerchant Load (0.5ms)[0m  SELECT "merchants".* FROM "merchants"
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Merchant::ActiveRecord_Relation (0.26ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (33.4ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:24.614967"], ["updated_at", "2016-04-14 02:57:24.614967"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants" for 127.0.0.1 at 2016-04-13 20:57:24 -0600
Processing by Api::V1::MerchantsController#index as JSON
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT "merchants".* FROM "merchants"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Merchant::ActiveRecord_Relation (0.23ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (32.8ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.7ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:24.667339"], ["updated_at", "2016-04-14 02:57:24.667339"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/1" for 127.0.0.1 at 2016-04-13 20:57:24 -0600
Processing by Api::V1::MerchantsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mMerchant Load (0.3ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.78ms)
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (48.1ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:24.734511"], ["updated_at", "2016-04-14 02:57:24.734511"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/1" for 127.0.0.1 at 2016-04-13 20:57:24 -0600
Processing by Api::V1::MerchantsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mMerchant Load (0.3ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.82ms)
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.6ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (33.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:24.786531"], ["updated_at", "2016-04-14 02:57:24.786531"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/1" for 127.0.0.1 at 2016-04-13 20:57:24 -0600
Processing by Api::V1::MerchantsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mMerchant Load (0.4ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.87ms)
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL
  [1m[36m (46.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.9ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:24.855648"], ["updated_at", "2016-04-14 02:57:24.855648"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:24 -0600
Processing by Api::V1::Merchants::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (1.21ms)
Completed 200 OK in 10ms (Views: 2.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (1.9ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (53.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.5ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:24.951260"], ["updated_at", "2016-04-14 02:57:24.951260"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:24 -0600
Processing by Api::V1::Merchants::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[35mMerchant Load (0.3ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (1.14ms)
Completed 200 OK in 4ms (Views: 1.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (52.5ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.8ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.025974"], ["updated_at", "2016-04-14 02:57:25.025974"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/find?name=test%20Merchant" for 127.0.0.1 at 2016-04-13 20:57:25 -0600
Processing by Api::V1::Merchants::FinderController#show as JSON
  Parameters: {"name"=>"test Merchant"}
Unpermitted parameter: format
  [1m[36mMerchant Load (0.2ms)[0m  [1mSELECT  "merchants".* FROM "merchants" WHERE "merchants"."name" = $1 LIMIT 1[0m  [["name", "test Merchant"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.69ms)
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (2.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (49.2ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.097530"], ["updated_at", "2016-04-14 02:57:25.097530"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:25 -0600
Processing by Api::V1::Merchants::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[35mMerchant Load (0.3ms)[0m  SELECT  "merchants".* FROM "merchants" WHERE "merchants"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (0.66ms)
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (38.6ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.160977"], ["updated_at", "2016-04-14 02:57:25.160977"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.163386"], ["updated_at", "2016-04-14 02:57:25.163386"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/find_all?name=Test+Merchant" for 127.0.0.1 at 2016-04-13 20:57:25 -0600
Processing by Api::V1::Merchants::FinderController#index as JSON
  Parameters: {"name"=>"Test Merchant"}
Unpermitted parameter: format
  [1m[35mMerchant Load (0.3ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = $1  [["name", "Test Merchant"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Merchant::ActiveRecord_Relation (0.65ms)
Completed 200 OK in 6ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (42.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.229681"], ["updated_at", "2016-04-14 02:57:25.229681"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.233609"], ["updated_at", "2016-04-14 02:57:25.233609"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/find_all?id=1" for 127.0.0.1 at 2016-04-13 20:57:25 -0600
Processing by Api::V1::Merchants::FinderController#index as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."id" = $1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Merchant::ActiveRecord_Relation (0.19ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (37.0ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.288561"], ["updated_at", "2016-04-14 02:57:25.288561"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.291298"], ["updated_at", "2016-04-14 02:57:25.291298"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/find_all?name=Test%20merchant" for 127.0.0.1 at 2016-04-13 20:57:25 -0600
Processing by Api::V1::Merchants::FinderController#index as JSON
  Parameters: {"name"=>"Test merchant"}
Unpermitted parameter: format
  [1m[35mMerchant Load (0.4ms)[0m  SELECT "merchants".* FROM "merchants" WHERE "merchants"."name" = $1  [["name", "Test merchant"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Merchant::ActiveRecord_Relation (0.65ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (63.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.5ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.383552"], ["updated_at", "2016-04-14 02:57:25.383552"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.388455"], ["updated_at", "2016-04-14 02:57:25.388455"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.392830"], ["updated_at", "2016-04-14 02:57:25.392830"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/random" for 127.0.0.1 at 2016-04-13 20:57:25 -0600
Processing by Api::V1::Merchants::FinderController#random as JSON
  [1m[36mMerchant Load (0.5ms)[0m  [1mSELECT  "merchants".* FROM "merchants"  ORDER BY RANDOM() LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (1.35ms)
Completed 200 OK in 7ms (Views: 2.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (2.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (53.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.476907"], ["updated_at", "2016-04-14 02:57:25.476907"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.482093"], ["updated_at", "2016-04-14 02:57:25.482093"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.486181"], ["updated_at", "2016-04-14 02:57:25.486181"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/random" for 127.0.0.1 at 2016-04-13 20:57:25 -0600
Processing by Api::V1::Merchants::FinderController#random as JSON
  [1m[35mMerchant Load (0.6ms)[0m  SELECT  "merchants".* FROM "merchants"  ORDER BY RANDOM() LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (1.35ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.1ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (53.3ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.2ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.568007"], ["updated_at", "2016-04-14 02:57:25.568007"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.573428"], ["updated_at", "2016-04-14 02:57:25.573428"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Test Merchant"], ["created_at", "2016-04-14 02:57:25.577403"], ["updated_at", "2016-04-14 02:57:25.577403"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/random" for 127.0.0.1 at 2016-04-13 20:57:25 -0600
Processing by Api::V1::Merchants::FinderController#random as JSON
  [1m[36mMerchant Load (0.7ms)[0m  [1mSELECT  "merchants".* FROM "merchants"  ORDER BY RANDOM() LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Merchant (1.27ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (2.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (54.7ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:25.662659"], ["updated_at", "2016-04-14 02:57:25.662659"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:25.668641"], ["updated_at", "2016-04-14 02:57:25.668641"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:25.673636"], ["updated_at", "2016-04-14 02:57:25.673636"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:25.678529"], ["updated_at", "2016-04-14 02:57:25.678529"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:25.683542"], ["updated_at", "2016-04-14 02:57:25.683542"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:25.687701"], ["updated_at", "2016-04-14 02:57:25.687701"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:25.693136"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:25.698973"], ["updated_at", "2016-04-14 02:57:25.698973"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:25.704275"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:25.709234"], ["updated_at", "2016-04-14 02:57:25.709234"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:25.714980"], ["updated_at", "2016-04-14 02:57:25.714980"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:25.720261"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:25.726530"], ["updated_at", "2016-04-14 02:57:25.726530"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:25.731121"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:25.736676"], ["updated_at", "2016-04-14 02:57:25.736676"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:25.742410"], ["id", 2]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:25.749162"], ["updated_at", "2016-04-14 02:57:25.749162"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:25.753929"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:25.758173"], ["updated_at", "2016-04-14 02:57:25.758173"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:25.762416"], ["id", 4]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:25.768949"], ["updated_at", "2016-04-14 02:57:25.768949"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:25.773586"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:25.779396"], ["updated_at", "2016-04-14 02:57:25.779396"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:25.783989"], ["id", 6]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:25.790426"], ["updated_at", "2016-04-14 02:57:25.790426"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:25.794544"], ["id", 7]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:25.800228"], ["updated_at", "2016-04-14 02:57:25.800228"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:25.804637"], ["id", 8]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:25.809465"], ["updated_at", "2016-04-14 02:57:25.809465"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:25.813619"], ["id", 9]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:25.818873"], ["updated_at", "2016-04-14 02:57:25.818873"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:25.823872"], ["id", 1]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:25.829423"], ["updated_at", "2016-04-14 02:57:25.829423"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:25.833313"], ["id", 2]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:25.838585"], ["updated_at", "2016-04-14 02:57:25.838585"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:25.842792"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:25.847785"], ["updated_at", "2016-04-14 02:57:25.847785"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:25.851321"], ["id", 4]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:25.856219"], ["updated_at", "2016-04-14 02:57:25.856219"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:25.860246"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:25.864242"], ["updated_at", "2016-04-14 02:57:25.864242"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:25.868125"], ["id", 6]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:25.872782"], ["updated_at", "2016-04-14 02:57:25.872782"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:25.877785"], ["updated_at", "2016-04-14 02:57:25.877785"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:25.882048"], ["updated_at", "2016-04-14 02:57:25.882048"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:25.887296"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:25.891976"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:25.896997"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:25.901460"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:25.905914"], ["id", 6]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:25.911425"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/most_revenue?quantity=2" for 127.0.0.1 at 2016-04-13 20:57:25 -0600
Processing by Api::V1::Merchants::RevenueController#index as JSON
  Parameters: {"quantity"=>"2"}
  [1m[35mMerchant Load (2.2ms)[0m  SELECT  merchants.*, SUM(invoice_items.unit_price * invoice_items.quantity) AS revenue FROM "merchants" INNER JOIN "invoices" ON "invoices"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "transactions"."result" = $1 GROUP BY "merchants"."id"  ORDER BY revenue DESC LIMIT 2  [["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (1.88ms)
Completed 200 OK in 15ms (Views: 4.5ms | ActiveRecord: 2.2ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (53.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:26.007510"], ["updated_at", "2016-04-14 02:57:26.007510"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:26.012576"], ["updated_at", "2016-04-14 02:57:26.012576"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:26.015366"], ["updated_at", "2016-04-14 02:57:26.015366"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:26.017849"], ["updated_at", "2016-04-14 02:57:26.017849"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:26.021438"], ["updated_at", "2016-04-14 02:57:26.021438"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:26.023701"], ["updated_at", "2016-04-14 02:57:26.023701"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:26.027236"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:26.030842"], ["updated_at", "2016-04-14 02:57:26.030842"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:26.034021"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:26.036890"], ["updated_at", "2016-04-14 02:57:26.036890"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:26.040357"], ["updated_at", "2016-04-14 02:57:26.040357"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:26.043423"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:26.049260"], ["updated_at", "2016-04-14 02:57:26.049260"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:26.052732"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:26.056170"], ["updated_at", "2016-04-14 02:57:26.056170"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:26.058716"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:26.062349"], ["updated_at", "2016-04-14 02:57:26.062349"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:26.065104"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:26.068592"], ["updated_at", "2016-04-14 02:57:26.068592"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:26.071115"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:26.074944"], ["updated_at", "2016-04-14 02:57:26.074944"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:26.077535"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:26.080861"], ["updated_at", "2016-04-14 02:57:26.080861"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:26.083311"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:26.087266"], ["updated_at", "2016-04-14 02:57:26.087266"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:26.090243"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:26.093791"], ["updated_at", "2016-04-14 02:57:26.093791"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:26.095799"], ["id", 8]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:26.098276"], ["updated_at", "2016-04-14 02:57:26.098276"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:26.100292"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.103054"], ["updated_at", "2016-04-14 02:57:26.103054"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:26.105385"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.108403"], ["updated_at", "2016-04-14 02:57:26.108403"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:26.111189"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.114369"], ["updated_at", "2016-04-14 02:57:26.114369"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:26.116306"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.119877"], ["updated_at", "2016-04-14 02:57:26.119877"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:26.123031"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:26.126542"], ["updated_at", "2016-04-14 02:57:26.126542"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:26.128840"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.131748"], ["updated_at", "2016-04-14 02:57:26.131748"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:26.134362"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:26.137093"], ["updated_at", "2016-04-14 02:57:26.137093"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:26.140104"], ["updated_at", "2016-04-14 02:57:26.140104"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:26.142838"], ["updated_at", "2016-04-14 02:57:26.142838"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:26.145649"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:26.149763"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:26.153170"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:26.155862"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:26.158879"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:26.162103"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/most_revenue?quantity=2" for 127.0.0.1 at 2016-04-13 20:57:26 -0600
Processing by Api::V1::Merchants::RevenueController#index as JSON
  Parameters: {"quantity"=>"2"}
  [1m[36mMerchant Load (2.3ms)[0m  [1mSELECT  merchants.*, SUM(invoice_items.unit_price * invoice_items.quantity) AS revenue FROM "merchants" INNER JOIN "invoices" ON "invoices"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "transactions"."result" = $1 GROUP BY "merchants"."id"  ORDER BY revenue DESC LIMIT 2[0m  [["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (1.02ms)
Completed 200 OK in 7ms (Views: 2.3ms | ActiveRecord: 2.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.4ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (43.7ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:26.229549"], ["updated_at", "2016-04-14 02:57:26.229549"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:26.233316"], ["updated_at", "2016-04-14 02:57:26.233316"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:26.236116"], ["updated_at", "2016-04-14 02:57:26.236116"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:26.238785"], ["updated_at", "2016-04-14 02:57:26.238785"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:26.241865"], ["updated_at", "2016-04-14 02:57:26.241865"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:26.245077"], ["updated_at", "2016-04-14 02:57:26.245077"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:26.248025"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:26.253066"], ["updated_at", "2016-04-14 02:57:26.253066"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:26.256351"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:26.259152"], ["updated_at", "2016-04-14 02:57:26.259152"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:26.262735"], ["updated_at", "2016-04-14 02:57:26.262735"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:26.265868"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:26.269192"], ["updated_at", "2016-04-14 02:57:26.269192"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:26.272101"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:26.275477"], ["updated_at", "2016-04-14 02:57:26.275477"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:26.277628"], ["id", 2]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:26.282337"], ["updated_at", "2016-04-14 02:57:26.282337"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:26.284714"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:26.287333"], ["updated_at", "2016-04-14 02:57:26.287333"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:26.289817"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:26.294257"], ["updated_at", "2016-04-14 02:57:26.294257"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:26.297128"], ["id", 5]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:26.301919"], ["updated_at", "2016-04-14 02:57:26.301919"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:26.304344"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:26.308176"], ["updated_at", "2016-04-14 02:57:26.308176"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:26.310534"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:26.313691"], ["updated_at", "2016-04-14 02:57:26.313691"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:26.316704"], ["id", 8]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:26.319598"], ["updated_at", "2016-04-14 02:57:26.319598"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:26.321904"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.325804"], ["updated_at", "2016-04-14 02:57:26.325804"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:26.328977"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.332168"], ["updated_at", "2016-04-14 02:57:26.332168"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:26.334474"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.337678"], ["updated_at", "2016-04-14 02:57:26.337678"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:26.340384"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.343676"], ["updated_at", "2016-04-14 02:57:26.343676"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:26.346398"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:26.350255"], ["updated_at", "2016-04-14 02:57:26.350255"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:26.352892"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.356125"], ["updated_at", "2016-04-14 02:57:26.356125"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:26.358494"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:26.361117"], ["updated_at", "2016-04-14 02:57:26.361117"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:26.364111"], ["updated_at", "2016-04-14 02:57:26.364111"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:26.366851"], ["updated_at", "2016-04-14 02:57:26.366851"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:26.370643"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:26.374077"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:26.377773"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:26.380391"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:26.383228"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:26.386182"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/most_revenue?quantity=2" for 127.0.0.1 at 2016-04-13 20:57:26 -0600
Processing by Api::V1::Merchants::RevenueController#index as JSON
  Parameters: {"quantity"=>"2"}
  [1m[35mMerchant Load (1.4ms)[0m  SELECT  merchants.*, SUM(invoice_items.unit_price * invoice_items.quantity) AS revenue FROM "merchants" INNER JOIN "invoices" ON "invoices"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "transactions"."result" = $1 GROUP BY "merchants"."id"  ORDER BY revenue DESC LIMIT 2  [["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (1.03ms)
Completed 200 OK in 6ms (Views: 2.2ms | ActiveRecord: 1.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (2.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (41.8ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.5ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:26.453585"], ["updated_at", "2016-04-14 02:57:26.453585"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:26.457666"], ["updated_at", "2016-04-14 02:57:26.457666"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:26.460513"], ["updated_at", "2016-04-14 02:57:26.460513"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:26.463148"], ["updated_at", "2016-04-14 02:57:26.463148"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:26.466308"], ["updated_at", "2016-04-14 02:57:26.466308"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:26.468603"], ["updated_at", "2016-04-14 02:57:26.468603"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:26.471620"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:26.475193"], ["updated_at", "2016-04-14 02:57:26.475193"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:26.478721"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:26.481560"], ["updated_at", "2016-04-14 02:57:26.481560"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:26.484305"], ["updated_at", "2016-04-14 02:57:26.484305"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:26.487915"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:26.492062"], ["updated_at", "2016-04-14 02:57:26.492062"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:26.496613"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:26.500637"], ["updated_at", "2016-04-14 02:57:26.500637"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:26.503410"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:26.507580"], ["updated_at", "2016-04-14 02:57:26.507580"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:26.510074"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:26.513147"], ["updated_at", "2016-04-14 02:57:26.513147"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:26.515849"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:26.519349"], ["updated_at", "2016-04-14 02:57:26.519349"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:26.521845"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:26.525215"], ["updated_at", "2016-04-14 02:57:26.525215"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:26.527113"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:26.530118"], ["updated_at", "2016-04-14 02:57:26.530118"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:26.533170"], ["id", 7]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:26.535730"], ["updated_at", "2016-04-14 02:57:26.535730"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:26.537850"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:26.540583"], ["updated_at", "2016-04-14 02:57:26.540583"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:26.542461"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.544853"], ["updated_at", "2016-04-14 02:57:26.544853"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:26.548631"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.553017"], ["updated_at", "2016-04-14 02:57:26.553017"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:26.556600"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.560861"], ["updated_at", "2016-04-14 02:57:26.560861"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:26.564488"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.569396"], ["updated_at", "2016-04-14 02:57:26.569396"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:26.573803"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:26.578583"], ["updated_at", "2016-04-14 02:57:26.578583"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:26.582717"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.587520"], ["updated_at", "2016-04-14 02:57:26.587520"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:26.591410"], ["id", 6]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:26.595584"], ["updated_at", "2016-04-14 02:57:26.595584"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:26.600144"], ["updated_at", "2016-04-14 02:57:26.600144"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:26.604459"], ["updated_at", "2016-04-14 02:57:26.604459"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:26.609815"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:26.615524"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:26.620678"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:26.625609"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:26.629941"], ["id", 6]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:26.635659"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/most_items?quantity=2" for 127.0.0.1 at 2016-04-13 20:57:26 -0600
Processing by Api::V1::Merchants::ItemsSoldController#index as JSON
  Parameters: {"quantity"=>"2"}
  [1m[35mMerchant Load (2.1ms)[0m  SELECT  merchants.*, SUM(invoice_items.quantity) AS total_items FROM "merchants" INNER JOIN "invoices" ON "invoices"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "transactions"."result" = $1 GROUP BY "merchants"."id"  ORDER BY total_items DESC LIMIT 2  [["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (1.44ms)
Completed 200 OK in 18ms (Views: 3.4ms | ActiveRecord: 2.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (51.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:26.742407"], ["updated_at", "2016-04-14 02:57:26.742407"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:26.748347"], ["updated_at", "2016-04-14 02:57:26.748347"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:26.753514"], ["updated_at", "2016-04-14 02:57:26.753514"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:26.758450"], ["updated_at", "2016-04-14 02:57:26.758450"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:26.763457"], ["updated_at", "2016-04-14 02:57:26.763457"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:26.767767"], ["updated_at", "2016-04-14 02:57:26.767767"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:26.773108"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:26.779192"], ["updated_at", "2016-04-14 02:57:26.779192"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:26.785416"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:26.790392"], ["updated_at", "2016-04-14 02:57:26.790392"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:26.795454"], ["updated_at", "2016-04-14 02:57:26.795454"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:26.800882"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:26.807765"], ["updated_at", "2016-04-14 02:57:26.807765"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:26.813435"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:26.819224"], ["updated_at", "2016-04-14 02:57:26.819224"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:26.823744"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:26.830385"], ["updated_at", "2016-04-14 02:57:26.830385"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:26.835440"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:26.841027"], ["updated_at", "2016-04-14 02:57:26.841027"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:26.845376"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:26.851343"], ["updated_at", "2016-04-14 02:57:26.851343"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:26.855590"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:26.862042"], ["updated_at", "2016-04-14 02:57:26.862042"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:26.866295"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:26.872216"], ["updated_at", "2016-04-14 02:57:26.872216"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:26.876296"], ["id", 7]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:26.882078"], ["updated_at", "2016-04-14 02:57:26.882078"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:26.886493"], ["id", 8]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:26.891487"], ["updated_at", "2016-04-14 02:57:26.891487"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:26.895675"], ["id", 9]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.900810"], ["updated_at", "2016-04-14 02:57:26.900810"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:26.905654"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.910958"], ["updated_at", "2016-04-14 02:57:26.910958"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:26.914703"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.919214"], ["updated_at", "2016-04-14 02:57:26.919214"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:26.922852"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.927578"], ["updated_at", "2016-04-14 02:57:26.927578"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:26.931645"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:26.936732"], ["updated_at", "2016-04-14 02:57:26.936732"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:26.940687"], ["id", 5]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:26.945609"], ["updated_at", "2016-04-14 02:57:26.945609"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:26.949887"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:26.954436"], ["updated_at", "2016-04-14 02:57:26.954436"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:26.959195"], ["updated_at", "2016-04-14 02:57:26.959195"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:26.963599"], ["updated_at", "2016-04-14 02:57:26.963599"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:26.968709"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:26.973972"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:26.979108"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:26.983555"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:26.988093"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:26.992875"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/most_items?quantity=2" for 127.0.0.1 at 2016-04-13 20:57:27 -0600
Processing by Api::V1::Merchants::ItemsSoldController#index as JSON
  Parameters: {"quantity"=>"2"}
  [1m[36mMerchant Load (1.9ms)[0m  [1mSELECT  merchants.*, SUM(invoice_items.quantity) AS total_items FROM "merchants" INNER JOIN "invoices" ON "invoices"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "transactions"."result" = $1 GROUP BY "merchants"."id"  ORDER BY total_items DESC LIMIT 2[0m  [["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (1.49ms)
Completed 200 OK in 10ms (Views: 3.8ms | ActiveRecord: 1.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (2.4ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (55.6ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (5.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:27.087830"], ["updated_at", "2016-04-14 02:57:27.087830"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:27.093874"], ["updated_at", "2016-04-14 02:57:27.093874"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:27.099160"], ["updated_at", "2016-04-14 02:57:27.099160"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:27.103670"], ["updated_at", "2016-04-14 02:57:27.103670"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:27.109413"], ["updated_at", "2016-04-14 02:57:27.109413"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:27.114526"], ["updated_at", "2016-04-14 02:57:27.114526"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:27.120167"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:27.126385"], ["updated_at", "2016-04-14 02:57:27.126385"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:27.133209"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:27.138627"], ["updated_at", "2016-04-14 02:57:27.138627"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:27.143380"], ["updated_at", "2016-04-14 02:57:27.143380"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:27.148932"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:27.155623"], ["updated_at", "2016-04-14 02:57:27.155623"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:27.160533"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:27.166696"], ["updated_at", "2016-04-14 02:57:27.166696"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:27.171070"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:27.177032"], ["updated_at", "2016-04-14 02:57:27.177032"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:27.181674"], ["id", 3]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:27.187286"], ["updated_at", "2016-04-14 02:57:27.187286"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:27.191777"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:27.197972"], ["updated_at", "2016-04-14 02:57:27.197972"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:27.202481"], ["id", 5]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:27.208949"], ["updated_at", "2016-04-14 02:57:27.208949"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:27.213459"], ["id", 6]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:27.219425"], ["updated_at", "2016-04-14 02:57:27.219425"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:27.223398"], ["id", 7]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:27.228545"], ["updated_at", "2016-04-14 02:57:27.228545"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:27.232710"], ["id", 8]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:27.238425"], ["updated_at", "2016-04-14 02:57:27.238425"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:27.253531"], ["id", 9]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:27.258608"], ["updated_at", "2016-04-14 02:57:27.258608"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:27.263244"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:27.268982"], ["updated_at", "2016-04-14 02:57:27.268982"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:27.273522"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:27.278422"], ["updated_at", "2016-04-14 02:57:27.278422"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:27.282424"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:27.287291"], ["updated_at", "2016-04-14 02:57:27.287291"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:27.291240"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:27.296128"], ["updated_at", "2016-04-14 02:57:27.296128"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:27.300322"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:27.305626"], ["updated_at", "2016-04-14 02:57:27.305626"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:27.309614"], ["id", 6]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:27.314659"], ["updated_at", "2016-04-14 02:57:27.314659"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:27.319071"], ["updated_at", "2016-04-14 02:57:27.319071"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:27.323594"], ["updated_at", "2016-04-14 02:57:27.323594"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:27.329000"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:27.333640"], ["id", 2]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:27.339162"], ["id", 3]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:27.343851"], ["id", 5]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:27.348489"], ["id", 6]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:27.353111"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/most_items?quantity=2" for 127.0.0.1 at 2016-04-13 20:57:27 -0600
Processing by Api::V1::Merchants::ItemsSoldController#index as JSON
  Parameters: {"quantity"=>"2"}
  [1m[35mMerchant Load (2.0ms)[0m  SELECT  merchants.*, SUM(invoice_items.quantity) AS total_items FROM "merchants" INNER JOIN "invoices" ON "invoices"."merchant_id" = "merchants"."id" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "transactions"."result" = $1 GROUP BY "merchants"."id"  ORDER BY total_items DESC LIMIT 2  [["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Array (1.36ms)
Completed 200 OK in 10ms (Views: 3.4ms | ActiveRecord: 2.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "merchants"[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (2.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (44.0ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:27.430762"], ["updated_at", "2016-04-14 02:57:27.430762"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:27.434751"], ["updated_at", "2016-04-14 02:57:27.434751"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:27.437644"], ["updated_at", "2016-04-14 02:57:27.437644"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:27.440288"], ["updated_at", "2016-04-14 02:57:27.440288"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:27.443325"], ["updated_at", "2016-04-14 02:57:27.443325"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:27.446115"], ["updated_at", "2016-04-14 02:57:27.446115"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:27.449088"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:27.452836"], ["updated_at", "2016-04-14 02:57:27.452836"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:27.455836"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:27.459008"], ["updated_at", "2016-04-14 02:57:27.459008"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:27.461650"], ["updated_at", "2016-04-14 02:57:27.461650"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:27.465225"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:27.469262"], ["updated_at", "2016-04-14 02:57:27.469262"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:27.472650"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:27.476093"], ["updated_at", "2016-04-14 02:57:27.476093"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:27.478755"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:27.484049"], ["updated_at", "2016-04-14 02:57:27.484049"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:27.487132"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:27.491248"], ["updated_at", "2016-04-14 02:57:27.491248"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:27.494105"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:27.498478"], ["updated_at", "2016-04-14 02:57:27.498478"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:27.501252"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:27.504615"], ["updated_at", "2016-04-14 02:57:27.504615"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:27.507280"], ["id", 6]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:27.510895"], ["updated_at", "2016-04-14 02:57:27.510895"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:27.513281"], ["id", 7]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:27.516707"], ["updated_at", "2016-04-14 02:57:27.516707"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:27.519136"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:27.522490"], ["updated_at", "2016-04-14 02:57:27.522490"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:27.525187"], ["id", 9]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:27.528097"], ["updated_at", "2016-04-14 02:57:27.528097"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:27.530797"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:27.534462"], ["updated_at", "2016-04-14 02:57:27.534462"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:27.536653"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:27.540344"], ["updated_at", "2016-04-14 02:57:27.540344"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:27.543273"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:27.546072"], ["updated_at", "2016-04-14 02:57:27.546072"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:27.548941"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:27.552325"], ["updated_at", "2016-04-14 02:57:27.552325"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:27.554593"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:27.558213"], ["updated_at", "2016-04-14 02:57:27.558213"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:27.560725"], ["id", 6]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:27.563243"], ["updated_at", "2016-04-14 02:57:27.563243"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:27.566296"], ["updated_at", "2016-04-14 02:57:27.566296"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:27.568833"], ["updated_at", "2016-04-14 02:57:27.568833"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:27.571974"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:27.576390"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:27.579986"], ["id", 3]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:27.583580"], ["id", 5]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:27.586669"], ["id", 6]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:27.589947"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/revenue?date=2012-03-16%2011:55:05" for 127.0.0.1 at 2016-04-13 20:57:27 -0600
Processing by Api::V1::Merchants::RevenueByDateController#show as JSON
  Parameters: {"date"=>"2012-03-16 11:55:05"}
  [1m[35m (1.1ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."created_at" = $1 AND "transactions"."result" = $2  [["created_at", "2012-03-16 11:55:05"], ["result", "success"]]
[active_model_serializers] Rendered MerchantTotalRevenueByDateSerializer with ActiveModelSerializers::Adapter::Attributes (0.12ms)
Completed 200 OK in 10ms (Views: 0.5ms | ActiveRecord: 1.1ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (55.0ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:27.682632"], ["updated_at", "2016-04-14 02:57:27.682632"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:27.688976"], ["updated_at", "2016-04-14 02:57:27.688976"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:27.694407"], ["updated_at", "2016-04-14 02:57:27.694407"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:27.697060"], ["updated_at", "2016-04-14 02:57:27.697060"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:27.701051"], ["updated_at", "2016-04-14 02:57:27.701051"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:27.703450"], ["updated_at", "2016-04-14 02:57:27.703450"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:27.706514"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:27.710247"], ["updated_at", "2016-04-14 02:57:27.710247"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:27.715316"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:27.718142"], ["updated_at", "2016-04-14 02:57:27.718142"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:27.720834"], ["updated_at", "2016-04-14 02:57:27.720834"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:27.724360"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:27.729230"], ["updated_at", "2016-04-14 02:57:27.729230"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:27.734007"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:27.737278"], ["updated_at", "2016-04-14 02:57:27.737278"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:27.740015"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:27.743627"], ["updated_at", "2016-04-14 02:57:27.743627"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:27.746394"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:27.749613"], ["updated_at", "2016-04-14 02:57:27.749613"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:27.753359"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:27.757103"], ["updated_at", "2016-04-14 02:57:27.757103"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:27.759721"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:27.763517"], ["updated_at", "2016-04-14 02:57:27.763517"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:27.766423"], ["id", 6]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:27.770194"], ["updated_at", "2016-04-14 02:57:27.770194"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:27.772868"], ["id", 7]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:27.776977"], ["updated_at", "2016-04-14 02:57:27.776977"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:27.780064"], ["id", 8]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:27.783727"], ["updated_at", "2016-04-14 02:57:27.783727"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:27.786233"], ["id", 9]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:27.789401"], ["updated_at", "2016-04-14 02:57:27.789401"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:27.792637"], ["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:27.796190"], ["updated_at", "2016-04-14 02:57:27.796190"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:27.798654"], ["id", 2]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:27.801947"], ["updated_at", "2016-04-14 02:57:27.801947"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:27.804647"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:27.808028"], ["updated_at", "2016-04-14 02:57:27.808028"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:27.810340"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:27.813626"], ["updated_at", "2016-04-14 02:57:27.813626"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:27.816255"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:27.819394"], ["updated_at", "2016-04-14 02:57:27.819394"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:27.821583"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:27.824514"], ["updated_at", "2016-04-14 02:57:27.824514"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:27.827801"], ["updated_at", "2016-04-14 02:57:27.827801"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:27.831026"], ["updated_at", "2016-04-14 02:57:27.831026"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:27.834053"], ["id", 1]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:27.837307"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:27.840576"], ["id", 3]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:27.843281"], ["id", 5]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:27.846379"], ["id", 6]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:27.849964"], ["id", 4]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/merchants/revenue?date=2012-03-16%2011:55:05" for 127.0.0.1 at 2016-04-13 20:57:27 -0600
Processing by Api::V1::Merchants::RevenueByDateController#show as JSON
  Parameters: {"date"=>"2012-03-16 11:55:05"}
  [1m[36m (0.9ms)[0m  [1mSELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."created_at" = $1 AND "transactions"."result" = $2[0m  [["created_at", "2012-03-16 11:55:05"], ["result", "success"]]
[active_model_serializers] Rendered MerchantTotalRevenueByDateSerializer with ActiveModelSerializers::Adapter::Attributes (0.15ms)
Completed 200 OK in 4ms (Views: 0.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.9ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (44.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.5ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 1"], ["description", "Test description"], ["unit_price", "20.34"], ["created_at", "2016-04-14 02:57:27.915840"], ["updated_at", "2016-04-14 02:57:27.915840"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Item 2"], ["description", "Test description"], ["unit_price", "5.54"], ["created_at", "2016-04-14 02:57:27.919565"], ["updated_at", "2016-04-14 02:57:27.919565"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "items" ("name", "description", "unit_price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Item 3"], ["description", "Test description"], ["unit_price", "50.43"], ["created_at", "2016-04-14 02:57:27.922528"], ["updated_at", "2016-04-14 02:57:27.922528"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Adam"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:27.925183"], ["updated_at", "2016-04-14 02:57:27.925183"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["first_name", "David"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:27.928033"], ["updated_at", "2016-04-14 02:57:27.928033"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "customers" ("first_name", "last_name", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["first_name", "Nick"], ["last_name", "Test"], ["created_at", "2016-04-14 02:57:27.930917"], ["updated_at", "2016-04-14 02:57:27.930917"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 1], ["updated_at", "2016-04-14 02:57:27.933793"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:27.937080"], ["updated_at", "2016-04-14 02:57:27.937080"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:27.940297"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["customer_id", 1], ["created_at", "2016-04-14 02:57:27.943082"], ["updated_at", "2016-04-14 02:57:27.943082"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoices" ("status", "customer_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["status", "shipped"], ["customer_id", 2], ["created_at", "2016-04-14 02:57:27.945960"], ["updated_at", "2016-04-14 02:57:27.945960"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "customer_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["status", "shipped"], ["created_at", "2012-03-16 11:55:05.000000"], ["customer_id", 3], ["updated_at", "2016-04-14 02:57:27.949770"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:27.953970"], ["updated_at", "2016-04-14 02:57:27.953970"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:27.958311"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:27.962188"], ["updated_at", "2016-04-14 02:57:27.962188"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:27.966543"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 5], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:27.970641"], ["updated_at", "2016-04-14 02:57:27.970641"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:27.973813"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:27.978596"], ["updated_at", "2016-04-14 02:57:27.978596"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:27.982275"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 2], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:27.988203"], ["updated_at", "2016-04-14 02:57:27.988203"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:27.992619"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 1], ["unit_price", "50.43"], ["item_id", 3], ["created_at", "2016-04-14 02:57:27.998549"], ["updated_at", "2016-04-14 02:57:27.998549"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:28.003169"], ["id", 6]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:28.009792"], ["updated_at", "2016-04-14 02:57:28.009792"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:28.014398"], ["id", 7]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 4], ["unit_price", "5.54"], ["item_id", 2], ["created_at", "2016-04-14 02:57:28.020332"], ["updated_at", "2016-04-14 02:57:28.020332"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:28.024967"], ["id", 8]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invoice_items" ("quantity", "unit_price", "item_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["quantity", 3], ["unit_price", "20.34"], ["item_id", 1], ["created_at", "2016-04-14 02:57:28.029957"], ["updated_at", "2016-04-14 02:57:28.029957"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "invoice_items" SET "invoice_id" = $1, "updated_at" = $2 WHERE "invoice_items"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:28.034451"], ["id", 9]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:28.040029"], ["updated_at", "2016-04-14 02:57:28.040029"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:28.044953"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:28.050205"], ["updated_at", "2016-04-14 02:57:28.050205"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 2], ["updated_at", "2016-04-14 02:57:28.054178"], ["id", 2]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:28.059223"], ["updated_at", "2016-04-14 02:57:28.059223"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 3], ["updated_at", "2016-04-14 02:57:28.063472"], ["id", 3]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:28.068342"], ["updated_at", "2016-04-14 02:57:28.068342"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 4], ["updated_at", "2016-04-14 02:57:28.072362"], ["id", 4]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "failed"], ["created_at", "2016-04-14 02:57:28.077119"], ["updated_at", "2016-04-14 02:57:28.077119"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 5], ["updated_at", "2016-04-14 02:57:28.081141"], ["id", 5]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:28.085909"], ["updated_at", "2016-04-14 02:57:28.085909"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 6], ["updated_at", "2016-04-14 02:57:28.090050"], ["id", 6]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 1"], ["created_at", "2016-04-14 02:57:28.094401"], ["updated_at", "2016-04-14 02:57:28.094401"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "Merchant 2"], ["created_at", "2016-04-14 02:57:28.099103"], ["updated_at", "2016-04-14 02:57:28.099103"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "merchants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["name", "Merchant 3"], ["created_at", "2016-04-14 02:57:28.103207"], ["updated_at", "2016-04-14 02:57:28.103207"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:28.108661"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 1], ["updated_at", "2016-04-14 02:57:28.114576"], ["id", 2]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:28.119580"], ["id", 3]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:28.124308"], ["id", 5]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3[0m  [["merchant_id", 2], ["updated_at", "2016-04-14 02:57:28.128557"], ["id", 6]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "invoices" SET "merchant_id" = $1, "updated_at" = $2 WHERE "invoices"."id" = $3  [["merchant_id", 3], ["updated_at", "2016-04-14 02:57:28.134134"], ["id", 4]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/merchants/revenue?date=2012-03-16%2011:55:05" for 127.0.0.1 at 2016-04-13 20:57:28 -0600
Processing by Api::V1::Merchants::RevenueByDateController#show as JSON
  Parameters: {"date"=>"2012-03-16 11:55:05"}
  [1m[35m (1.3ms)[0m  SELECT SUM(invoice_items.unit_price * invoice_items.quantity) FROM "invoices" INNER JOIN "transactions" ON "transactions"."invoice_id" = "invoices"."id" INNER JOIN "invoice_items" ON "invoice_items"."invoice_id" = "invoices"."id" WHERE "invoices"."created_at" = $1 AND "transactions"."result" = $2  [["created_at", "2012-03-16 11:55:05"], ["result", "success"]]
[active_model_serializers] Rendered MerchantTotalRevenueByDateSerializer with ActiveModelSerializers::Adapter::Attributes (0.25ms)
Completed 200 OK in 6ms (Views: 1.0ms | ActiveRecord: 1.3ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (57.6ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:28.222959"], ["updated_at", "2016-04-14 02:57:28.222959"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/transactions" for 127.0.0.1 at 2016-04-13 20:57:28 -0600
Processing by Api::V1::TransactionsController#index as JSON
  [1m[36mTransaction Load (0.5ms)[0m  [1mSELECT "transactions".* FROM "transactions"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Transaction::ActiveRecord_Relation (0.6ms)
Completed 200 OK in 14ms (Views: 6.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (2.2ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (56.7ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:28.328264"], ["updated_at", "2016-04-14 02:57:28.328264"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/transactions" for 127.0.0.1 at 2016-04-13 20:57:28 -0600
Processing by Api::V1::TransactionsController#index as JSON
  [1m[35mTransaction Load (0.4ms)[0m  SELECT "transactions".* FROM "transactions"
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Transaction::ActiveRecord_Relation (0.45ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (56.3ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:28.412493"], ["updated_at", "2016-04-14 02:57:28.412493"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/transactions" for 127.0.0.1 at 2016-04-13 20:57:28 -0600
Processing by Api::V1::TransactionsController#index as JSON
  [1m[36mTransaction Load (0.5ms)[0m  [1mSELECT "transactions".* FROM "transactions"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Transaction::ActiveRecord_Relation (0.49ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (1.9ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (56.5ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:28.498794"], ["updated_at", "2016-04-14 02:57:28.498794"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/transactions/1" for 127.0.0.1 at 2016-04-13 20:57:28 -0600
Processing by Api::V1::TransactionsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mTransaction Load (0.4ms)[0m  SELECT  "transactions".* FROM "transactions" WHERE "transactions"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Transaction (1.42ms)
Completed 200 OK in 7ms (Views: 2.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.3ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (57.0ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:28.587686"], ["updated_at", "2016-04-14 02:57:28.587686"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/transactions/1" for 127.0.0.1 at 2016-04-13 20:57:28 -0600
Processing by Api::V1::TransactionsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mTransaction Load (0.6ms)[0m  [1mSELECT  "transactions".* FROM "transactions" WHERE "transactions"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Transaction (1.69ms)
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (2.0ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (58.4ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:28.674297"], ["updated_at", "2016-04-14 02:57:28.674297"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/transactions/1" for 127.0.0.1 at 2016-04-13 20:57:28 -0600
Processing by Api::V1::TransactionsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mTransaction Load (0.6ms)[0m  SELECT  "transactions".* FROM "transactions" WHERE "transactions"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Transaction (1.39ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (59.3ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:28.763597"], ["updated_at", "2016-04-14 02:57:28.763597"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/transactions/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:28 -0600
Processing by Api::V1::Transactions::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[36mTransaction Load (0.5ms)[0m  [1mSELECT  "transactions".* FROM "transactions" WHERE "transactions"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Transaction (1.61ms)
Completed 200 OK in 13ms (Views: 2.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (1.7ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (56.5ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.9ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:28.870272"], ["updated_at", "2016-04-14 02:57:28.870272"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/transactions/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:28 -0600
Processing by Api::V1::Transactions::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[35mTransaction Load (0.6ms)[0m  SELECT  "transactions".* FROM "transactions" WHERE "transactions"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Transaction (1.51ms)
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (57.0ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:28.955717"], ["updated_at", "2016-04-14 02:57:28.955717"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/transactions/find?result=success" for 127.0.0.1 at 2016-04-13 20:57:28 -0600
Processing by Api::V1::Transactions::FinderController#show as JSON
  Parameters: {"result"=>"success"}
Unpermitted parameter: format
  [1m[36mTransaction Load (0.4ms)[0m  [1mSELECT  "transactions".* FROM "transactions" WHERE "transactions"."result" = $1 LIMIT 1[0m  [["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Transaction (1.54ms)
Completed 200 OK in 6ms (Views: 2.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (2.1ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (56.2ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.040630"], ["updated_at", "2016-04-14 02:57:29.040630"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/transactions/find?result=success" for 127.0.0.1 at 2016-04-13 20:57:29 -0600
Processing by Api::V1::Transactions::FinderController#show as JSON
  Parameters: {"result"=>"success"}
Unpermitted parameter: format
  [1m[35mTransaction Load (0.5ms)[0m  SELECT  "transactions".* FROM "transactions" WHERE "transactions"."result" = $1 LIMIT 1  [["result", "success"]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Transaction (1.35ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (57.5ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.124747"], ["updated_at", "2016-04-14 02:57:29.124747"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/transactions/find?id=1" for 127.0.0.1 at 2016-04-13 20:57:29 -0600
Processing by Api::V1::Transactions::FinderController#show as JSON
  Parameters: {"id"=>"1"}
Unpermitted parameter: format
  [1m[36mTransaction Load (0.6ms)[0m  [1mSELECT  "transactions".* FROM "transactions" WHERE "transactions"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Transaction (1.36ms)
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (2.0ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (59.7ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.214154"], ["updated_at", "2016-04-14 02:57:29.214154"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.218270"], ["updated_at", "2016-04-14 02:57:29.218270"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/transactions/find_all?status=success" for 127.0.0.1 at 2016-04-13 20:57:29 -0600
Processing by Api::V1::Transactions::FinderController#index as JSON
  Parameters: {"status"=>"success"}
Unpermitted parameters: status, format
  [1m[36mTransaction Load (0.4ms)[0m  [1mSELECT "transactions".* FROM "transactions"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Transaction::ActiveRecord_Relation (1.43ms)
Completed 200 OK in 8ms (Views: 4.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (1.8ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (55.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.305062"], ["updated_at", "2016-04-14 02:57:29.305062"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.309576"], ["updated_at", "2016-04-14 02:57:29.309576"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/transactions/find_all?status=success" for 127.0.0.1 at 2016-04-13 20:57:29 -0600
Processing by Api::V1::Transactions::FinderController#index as JSON
  Parameters: {"status"=>"success"}
Unpermitted parameters: status, format
  [1m[36mTransaction Load (0.5ms)[0m  [1mSELECT "transactions".* FROM "transactions"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Transaction::ActiveRecord_Relation (1.3ms)
Completed 200 OK in 6ms (Views: 4.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (2.0ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (55.5ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.9ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.393722"], ["updated_at", "2016-04-14 02:57:29.393722"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.398516"], ["updated_at", "2016-04-14 02:57:29.398516"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/transactions/find_all?status=shipped" for 127.0.0.1 at 2016-04-13 20:57:29 -0600
Processing by Api::V1::Transactions::FinderController#index as JSON
  Parameters: {"status"=>"shipped"}
Unpermitted parameters: status, format
  [1m[36mTransaction Load (0.4ms)[0m  [1mSELECT "transactions".* FROM "transactions"[0m
[active_model_serializers] Rendered ActiveModel::Serializer::CollectionSerializer with Transaction::ActiveRecord_Relation (1.11ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (1.7ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (55.5ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.480244"], ["updated_at", "2016-04-14 02:57:29.480244"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.484782"], ["updated_at", "2016-04-14 02:57:29.484782"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.488653"], ["updated_at", "2016-04-14 02:57:29.488653"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/transactions/random" for 127.0.0.1 at 2016-04-13 20:57:29 -0600
Processing by Api::V1::Transactions::FinderController#random as JSON
  [1m[35mTransaction Load (0.5ms)[0m  SELECT  "transactions".* FROM "transactions"  ORDER BY RANDOM() LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Transaction (1.4ms)
Completed 200 OK in 6ms (Views: 2.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.9ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (56.9ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.572511"], ["updated_at", "2016-04-14 02:57:29.572511"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.577378"], ["updated_at", "2016-04-14 02:57:29.577378"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.581329"], ["updated_at", "2016-04-14 02:57:29.581329"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/api/v1/transactions/random" for 127.0.0.1 at 2016-04-13 20:57:29 -0600
Processing by Api::V1::Transactions::FinderController#random as JSON
  [1m[36mTransaction Load (0.6ms)[0m  [1mSELECT  "transactions".* FROM "transactions"  ORDER BY RANDOM() LIMIT 1[0m
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Transaction (1.26ms)
Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (2.0ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (60.2ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.667546"], ["updated_at", "2016-04-14 02:57:29.667546"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.673071"], ["updated_at", "2016-04-14 02:57:29.673071"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.677380"], ["updated_at", "2016-04-14 02:57:29.677380"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/api/v1/transactions/random" for 127.0.0.1 at 2016-04-13 20:57:29 -0600
Processing by Api::V1::Transactions::FinderController#random as JSON
  [1m[35mTransaction Load (0.6ms)[0m  SELECT  "transactions".* FROM "transactions"  ORDER BY RANDOM() LIMIT 1
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Transaction (1.42ms)
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (191.6ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (5.1ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "paid"], ["created_at", "2016-04-14 02:57:29.903045"], ["updated_at", "2016-04-14 02:57:29.903045"]]
  [1m[35m (2.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (9.3ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:29.912627"], ["updated_at", "2016-04-14 02:57:29.912627"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:29.932472"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTransaction Load (0.5ms)[0m  [1mSELECT  "transactions".* FROM "transactions" WHERE "transactions"."invoice_id" = $1  ORDER BY "transactions"."id" ASC LIMIT 1[0m  [["invoice_id", 1]]
Started GET "/api/v1/transactions/1/invoice" for 127.0.0.1 at 2016-04-13 20:57:30 -0600
Processing by Api::V1::Transactions::InvoiceController#index as JSON
  Parameters: {"transaction_id"=>"1"}
  [1m[35mTransaction Load (0.5ms)[0m  SELECT  "transactions".* FROM "transactions" WHERE "transactions"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mInvoice Load (0.5ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Invoice (5.42ms)
Completed 200 OK in 23ms (Views: 8.6ms | ActiveRecord: 1.0ms)
  [1m[35m (1.8ms)[0m  ROLLBACK
  [1m[36m (2.9ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (98.3ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (2.8ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.4ms)[0m  INSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["status", "paid"], ["created_at", "2016-04-14 02:57:30.276008"], ["updated_at", "2016-04-14 02:57:30.276008"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:30.283547"], ["updated_at", "2016-04-14 02:57:30.283547"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:30.289350"], ["id", 1]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mTransaction Load (1.0ms)[0m  SELECT  "transactions".* FROM "transactions" WHERE "transactions"."invoice_id" = $1  ORDER BY "transactions"."id" ASC LIMIT 1  [["invoice_id", 1]]
Started GET "/api/v1/transactions/1/invoice" for 127.0.0.1 at 2016-04-13 20:57:30 -0600
Processing by Api::V1::Transactions::InvoiceController#index as JSON
  Parameters: {"transaction_id"=>"1"}
  [1m[36mTransaction Load (2.2ms)[0m  [1mSELECT  "transactions".* FROM "transactions" WHERE "transactions"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mInvoice Load (0.8ms)[0m  SELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Invoice (1.41ms)
Completed 200 OK in 9ms (Views: 2.1ms | ActiveRecord: 2.9ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL
  [1m[36m (73.8ms)[0m  [1mTRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;[0m
  [1m[35m (2.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "invoices" ("status", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["status", "paid"], ["created_at", "2016-04-14 02:57:30.419339"], ["updated_at", "2016-04-14 02:57:30.419339"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "transactions" ("credit_card_number", "result", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["credit_card_number", "MyString"], ["result", "success"], ["created_at", "2016-04-14 02:57:30.424563"], ["updated_at", "2016-04-14 02:57:30.424563"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "transactions" SET "invoice_id" = $1, "updated_at" = $2 WHERE "transactions"."id" = $3[0m  [["invoice_id", 1], ["updated_at", "2016-04-14 02:57:30.428619"], ["id", 1]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mTransaction Load (0.5ms)[0m  [1mSELECT  "transactions".* FROM "transactions" WHERE "transactions"."invoice_id" = $1  ORDER BY "transactions"."id" ASC LIMIT 1[0m  [["invoice_id", 1]]
Started GET "/api/v1/transactions/1/invoice" for 127.0.0.1 at 2016-04-13 20:57:30 -0600
Processing by Api::V1::Transactions::InvoiceController#index as JSON
  Parameters: {"transaction_id"=>"1"}
  [1m[35mTransaction Load (0.5ms)[0m  SELECT  "transactions".* FROM "transactions" WHERE "transactions"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mInvoice Load (0.5ms)[0m  [1mSELECT  "invoices".* FROM "invoices" WHERE "invoices"."id" = $1 LIMIT 1[0m  [["id", 1]]
[active_model_serializers] Rendered ActiveModel::Serializer::Null with Invoice (1.33ms)
Completed 200 OK in 7ms (Views: 2.1ms | ActiveRecord: 1.0ms)
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (12.3ms)[0m  [1mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "customers" DISABLE TRIGGER ALL;ALTER TABLE "invoices" DISABLE TRIGGER ALL;ALTER TABLE "items" DISABLE TRIGGER ALL;ALTER TABLE "transactions" DISABLE TRIGGER ALL;ALTER TABLE "merchants" DISABLE TRIGGER ALL;ALTER TABLE "invoice_items" DISABLE TRIGGER ALL[0m
  [1m[35m (75.6ms)[0m  TRUNCATE TABLE "public"."customers", "public"."invoices", "public"."items", "public"."transactions", "public"."merchants", "public"."invoice_items" RESTART IDENTITY CASCADE;
  [1m[36m (1.9ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "customers" ENABLE TRIGGER ALL;ALTER TABLE "invoices" ENABLE TRIGGER ALL;ALTER TABLE "items" ENABLE TRIGGER ALL;ALTER TABLE "transactions" ENABLE TRIGGER ALL;ALTER TABLE "merchants" ENABLE TRIGGER ALL;ALTER TABLE "invoice_items" ENABLE TRIGGER ALL[0m
